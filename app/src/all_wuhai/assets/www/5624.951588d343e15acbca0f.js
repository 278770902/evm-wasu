(self.webpackChunkcom_evmtv_wuhai=self.webpackChunkcom_evmtv_wuhai||[]).push([[5624],{5642:(e,t,r)=>{"use strict";r.d(t,{K:()=>d});var i=r(8583),n=r(7823),s=r(665),a=r(9065),o=r(639);let d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[s.u5,s.UX,n.Pc,i.ez,a.fi]]}),e})()},8685:(e,t,r)=>{"use strict";r.d(t,{z:()=>s});const i={aums:{ipPath:"http://1.180.133.18",apiEndPoint:"http://1.180.133.18:18081",bridge_switch:!0,bridge:"/swatapps/ape/interface/memcache.php",path:"SMART_CITY_INTERFACE/renshewh/getReaderNameInfo",timeout:3e3,name:"\u4e4c\u6d77\u670d\u52a1\u5e73\u53f0",BRTVName:"\u5185\u8499\u4e4c\u6d77\u5e7f\u7535",hotnum:100,areaId:"72917412130848771",webSiteId:"4031"},aums_vote:{article_view:1,article_like:2,video_view:3,video_like:4},aums_comment:{articleId:1,videoId:2},ums:{userId:"12345678911",userType:2}};var n=r(639);let s=(()=>{class e{constructor(){this.config=i}stopPlayer(){this.playItem&&(this.playItem.playing=!1,this.playItem.playerData.pause())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},378:(e,t,r)=>{"use strict";r.d(t,{j:()=>p});var i=r(5917),n=r(8002),s=r(5304);const a=(()=>{function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e})(),o=(e,t)=>{if(t.group("\u63a5\u53e3\u8bf7\u6c42\u62a5\u9519"),t.error(e),t.groupEnd(),e instanceof a)return{kind:"timeout",temporary:!0};if(e.error instanceof ErrorEvent);else switch(e.statusText){case"Internal Server Error":return{kind:"server",message:"\u670d\u52a1\u7aef\u9519\u8bef"};case"Unauthorized":return{kind:"unauthorized",message:"\u6ca1\u6709\u6743\u9650"};case"Forbidden":return{kind:"forbidden",message:"\u670d\u52a1\u5668\u62d2\u7edd"};case"Not Found":return{kind:"not-found",message:"\u8bf7\u6c42\u4e0d\u5b58\u5728"};case"Unknown Error":return{kind:"unknown",temporary:!0,message:"\u672a\u77e5\u9519\u8bef"}}return null};var d=r(639),u=r(8685),c=r(1841),g=r(3888),m=r(8138);let p=(()=>{class e{constructor(e,t,r,i){this.appService=e,this.http=t,this.logger=r,this.utilService=i,this.TAG="AumsApiService"}getHumanSocietyInfo(e,t=this.appService.config.aums.apiEndPoint,r=this.appService.config.aums.path){let a=`${t}/${r}`;return a+="?"+this.utilService.jsonToQueryString(e),this.http.get(a).pipe((0,n.U)(e=>{try{return e.success?1==e.data.code?{kind:"ok",items:e.data.data.list}:{kind:"msg",msg:e.data.message}:{kind:"bad-data",message:e.message}}catch(t){return this.logger.error(`${this.TAG} getHumanSocietyInfo() \u83b7\u53d6\u6570\u636e\u5217\u8868\u5931\u8d25: ${t.message}`),{kind:"bad-data",message:e.message}}}),(0,s.K)(e=>{const t=o(e,this.logger);return(0,i.of)(t||{kind:"bad-data"})}))}getAutoPageContent(e,t=this.appService.config.aums.apiEndPoint){let r=`${t}/ancms_server_interface/autoPageServlet/getAutoPageContent`;return r+="?"+this.utilService.jsonToQueryString(e),r+=e.terminalIdentify?`&terminalIdentify=${e.terminalIdentify}`:"&terminalIdentify=PHONE",this.http.get(r).pipe((0,n.U)(e=>{try{return{kind:"ok",items:e.data.map(e=>({name:e.name,displayType:e.displayType,actionType:e.actionType,columnId:e.columnId,displayContent:e.displayContent,jumpAddr:e.jumpAddr,rows:e}))}}catch(t){return this.logger.error(`${this.TAG} getAutoPageContent() error: ${t.message}`),{kind:"empty-data"}}}),(0,s.K)(e=>{const t=o(e,this.logger);return(0,i.of)(t||{kind:"bad-data"})}))}getArticleList(e,t=this.appService.config.aums.apiEndPoint){let r=`${t}/ancms_server_interface/articleList/getArticleList`;return r+="?"+this.utilService.jsonToQueryString(e),r+="&fplatform=1",this.http.get(r).pipe((0,n.U)(e=>{try{return 1==e.code?{kind:"ok",items:e.data.articles.map(e=>({title:e.ftitle,image:e.fimage,articleId:e.articleId,upDataTime:e.fupdatetime,author:e.faddpersonName,aorvtypeName:e.aorvtypeName,classNames:e.classNames,template:e.template,rows:e}))}:2==e.code?{kind:"ok",items:[]}:{kind:"msg",items:e.message}}catch(t){return this.logger.error(`${this.TAG} getAutoPageContent() error: ${t.message}`),{kind:"empty-data"}}}),(0,s.K)(e=>{const t=o(e,this.logger);return(0,i.of)(t||{kind:"bad-data"})}))}getArticleContent(e,t=this.appService.config.aums.apiEndPoint){let r=`${t}/ancms_server_interface/servlet/ArticleServlet`;return r+="?"+this.utilService.jsonToQueryString(e),this.http.get(r).pipe((0,n.U)(e=>{try{if(1==e.isSuccess){const t=e.article;return{kind:"ok",items:{title:t.ftitle,image:t.fimage,upDataTime:t.fupdatetime,author:t.faddpersonName,faddperson:t.faddperson,content:t.fcontent,rows:t}}}return{kind:"msg",items:e.message}}catch(t){return this.logger.error(`${this.TAG} getAutoPageContent() error: ${t.message}`),{kind:"empty-data"}}}),(0,s.K)(e=>{const t=o(e,this.logger);return(0,i.of)(t||{kind:"bad-data"})}))}getUserById(e,t=this.appService.config.aums.apiEndPoint){let r=`${t}/aums_server_interface/user/getUserById`;return r+="?"+this.utilService.jsonToQueryString(e),this.http.get(r).pipe((0,n.U)(e=>{try{return 1==e.code?{kind:"ok",items:{name:e.user.name}}:{kind:"msg",items:e.message}}catch(t){return this.logger.error(`${this.TAG} getAutoPageContent() error: ${t.message}`),{kind:"empty-data"}}}),(0,s.K)(e=>{const t=o(e,this.logger);return(0,i.of)(t||{kind:"bad-data"})}))}getArticleviewCont(e,t=this.appService.config.aums.apiEndPoint){let r=`${t}/aums_vote_interface/vote/getTotalCntByCIds`;return r+="?"+this.utilService.jsonToQueryString(e),this.http.get(r).pipe((0,n.U)(e=>{try{return 1==e.code?{kind:"ok",items:e.data.map(e=>({columnId:e.columnId,totalCnt:e.totalCnt}))}:{kind:"msg",items:e.message}}catch(t){return this.logger.error(`${this.TAG} getAutoPageContent() error: ${t.message}`),{kind:"empty-data"}}}),(0,s.K)(e=>{const t=o(e,this.logger);return(0,i.of)(t||{kind:"bad-data"})}))}addArticleViewCont(e,t=this.appService.config.aums.apiEndPoint){let r=`${t}/aums_vote_interface/vote/castVote`;return e.point||(e.point=1),r+="?"+this.utilService.jsonToQueryString(e),this.http.get(r).pipe((0,n.U)(e=>{try{return 1==e.code?{kind:"ok",items:e.message}:{kind:"msg",items:e.message}}catch(t){return this.logger.error(`${this.TAG} getAutoPageContent() error: ${t.message}`),{kind:"empty-data"}}}),(0,s.K)(e=>{const t=o(e,this.logger);return(0,i.of)(t||{kind:"bad-data"})}))}getUserLikeCont(e,t=this.appService.config.aums.apiEndPoint){let r=`${t}/aums_vote_interface/vote/getVoteUserCollect`;return r+="?"+this.utilService.jsonToQueryString(e),this.http.get(r).pipe((0,n.U)(e=>{try{return 1==e.code?{kind:"ok",items:e.data.VoteUserCollect.map(e=>({columnId:e.columnId,totalCnt:e.totalCnt,lastDate:e.lastDate}))}:{kind:"msg",items:e.message}}catch(t){return this.logger.error(`${this.TAG} getAutoPageContent() error: ${t.message}`),{kind:"empty-data"}}}),(0,s.K)(e=>{const t=o(e,this.logger);return(0,i.of)(t||{kind:"bad-data"})}))}addComment(e,t=this.appService.config.aums.apiEndPoint){let r=`${t}/aums_comment/comment/addComment`;return r+="?"+this.utilService.jsonToQueryString(e),this.http.get(r).pipe((0,n.U)(e=>{try{return 1==e.isSuccess?{kind:"ok",items:"\u6dfb\u52a0\u8bc4\u8bba\u6210\u529f"}:{kind:"msg",items:e.errorMessage}}catch(t){return this.logger.error(`${this.TAG} getAutoPageContent() error: ${t.message}`),{kind:"empty-data"}}}),(0,s.K)(e=>{const t=o(e,this.logger);return(0,i.of)(t||{kind:"bad-data"})}))}getCommentData(e,t=this.appService.config.aums.apiEndPoint){let r=`${t}/aums_comment/comment/getObjectComment`;return r+="?"+this.utilService.jsonToQueryString(e),this.http.get(r).pipe((0,n.U)(e=>{try{if(1==e.isSuccess){let t=[];return e.data&&e.data.length&&(t=e.data.map(e=>({id:e.id,refId:e.refId,userId:e.userId,content:e.content,praiseCnt:e.praiseCnt,stepCnt:e.stepCnt,createTime:e.createTime,top:e.top,confirmed:e.confirmed,step:e.step}))),{kind:"ok",items:t}}return{kind:"msg",items:e.message}}catch(t){return this.logger.error(`${this.TAG} getAutoPageContent() error: ${t.message}`),{kind:"empty-data"}}}),(0,s.K)(e=>{const t=o(e,this.logger);return(0,i.of)(t||{kind:"bad-data"})}))}getUmsUserInfo(e,t=this.appService.config.aums.apiEndPoint){let r=`${t}/ums_v3/getUserInfo`;return r+="?"+this.utilService.jsonToQueryString(e),this.http.get(r).pipe((0,n.U)(e=>{try{return 1==e.isSuccess?{kind:"ok",items:{name:e.name,guid:e.GUID,phone:e.TEL,userType:e.userType}}:{kind:"msg",items:e.message}}catch(t){return this.logger.error(`${this.TAG} getAutoPageContent() error: ${t.message}`),{kind:"empty-data"}}}),(0,s.K)(e=>{const t=o(e,this.logger);return(0,i.of)(t||{kind:"bad-data"})}))}addCommentPraise(e,t=this.appService.config.aums.apiEndPoint){let r=`${t}/aums_comment/praise/praiseComment`;return r+="?"+this.utilService.jsonToQueryString(e),this.http.get(r).pipe((0,n.U)(e=>{try{return 1==e.isSuccess?{kind:"ok"}:{kind:"msg",items:e.errorMessage}}catch(t){return this.logger.error(`${this.TAG} getAutoPageContent() error: ${t.message}`),{kind:"empty-data"}}}),(0,s.K)(e=>{const t=o(e,this.logger);return(0,i.of)(t||{kind:"bad-data"})}))}}return e.\u0275fac=function(t){return new(t||e)(d.LFG(u.z),d.LFG(c.eN),d.LFG(g.Yd),d.LFG(m.f))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},8138:(e,t,r)=>{"use strict";r.d(t,{f:()=>o});var i=r(4762),n=r(639),s=r(7823),a=r(3888);let o=(()=>{class e{constructor(e,t){this.toastController=e,this.logger=t}jsonToQueryString(e){let t="";if(null==e)return t;for(const r in e)if(e.hasOwnProperty(r)){let i=e[r];if(null==i)continue;(Array.isArray(i)||"object"==typeof i)&&(i=JSON.stringify(i)),null!=i&&(t+=`&${r}=${i}`)}return t?t.substr(1):t}toast(e,t){return(0,i.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({message:e,duration:2e3|t})).present()})}groupList(e,t){let r=0,i=[];for(;r<e.length;)i.push(e.slice(r,r+=t));return i}log(e,t,r,i){this.logger[e](`${t} ${r}() ${i}`)}getUUID(){try{const t=window.cloudVideo.getDevUUID();return this.logger.info(`${e.TAG} getUUID() uuid = ${t}`),t}catch(t){this.logger.error(`${e.TAG} getUUID() error: ${t.message}`)}}isToday(e){return new Date(e).setHours(0,0,0,0)==(new Date).setHours(0,0,0,0)}}return e.TAG="UtilsProvider",e.\u0275fac=function(t){return new(t||e)(n.LFG(s.yF),n.LFG(a.Yd))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);