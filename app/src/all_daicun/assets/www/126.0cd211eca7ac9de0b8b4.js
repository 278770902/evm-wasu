(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{"2aKz":function(e,n,l){"use strict";l.r(n);var t=l("CcnG"),i=l("mrSG"),a=l("lbwW"),u=l("qSwL"),r=l("atIC"),o=l("B0rH"),s=l("eyyt"),d=l("ttWW"),c=l("O0u2"),g=l("wd/R"),p=l("1FC6"),m=l("dPDy"),h=l("h1wG"),f=function(){function e(){}return e.ngInjectableDef=t["ɵɵdefineInjectable"]({factory:function(){return new e},token:e,providedIn:"root"}),e}(),v=l("TN67"),b=function(){function e(e,n,l,t,i,a,u,r,o,s,d,c,g,p,m,h){this.activatedRoute=e,this.aumsService=n,this.adminManageableColumnsService=l,this.app=t,this.utils=i,this.logger=a,this.sanitizer=u,this.componentFactoryResolver=r,this.adminUserService=o,this.router=s,this.editor=d,this.alertCtrl=c,this.location=g,this.normalUserService=p,this.areaTreeService=m,this.issueEmergentBroadcastService=h,this.radioAccess=!1,this.page="admin/publish/article",this.isPublished=!1,this.isEditor=!1,this.commonRoles=["push","public","publishDateTime"],this.canSelectPublishArea=!1,this.columnName=this.activatedRoute.snapshot.paramMap.get("columnName"),this.columnId=+this.activatedRoute.snapshot.paramMap.get("columnId"),this.websiteId=+this.activatedRoute.snapshot.paramMap.get("websiteId"),this.publishpower=+this.activatedRoute.snapshot.paramMap.get("publishpower");var f=+this.activatedRoute.snapshot.paramMap.get("articleId");f&&(this.articleId=f),this.canSelectPublishArea=this.app.getFeatureConfig("canSelectPublishArea")||!1,this.canSelectPublishArea&&this.commonRoles.push("publishArea")}return Object.defineProperty(e.prototype,"isChanged",{get:function(){var n=this;return this.logger.log(e.TAG+" getter isChanged() model: "+JSON.stringify(this.models)),!!this.initializedModels&&this.models.some(function(e){if("img"===e.type){if(!(i=n.initializedModels.find(function(n){return n.description===e.description})))return!0;var l=e.content,t=i.content;return(null!=l&&0!==l.length||null!=t&&0!==t.length)&&(null==l||0===l.length||null==t||0===t.length||l.some(function(e){var n=t.find(function(n){return n.id===e.id});return!n||n.url!==e.url}))}var i;return!(i=n.initializedModels.find(function(n){return n.description===e.description}))||("boolean"==typeof e.content?!!i.content!==e.content:i.content!==e.content)})},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.appChannelSubscription=this.editorListener(),this.app.getFeatureConfig("issueEmergentBroadcast")&&this.issueEmergentBroadcast(),this.adminManageableColumnsService.getManageableColumns().subscribe(function(n){e.adminColumn=Array.isArray(n)&&n.find(function(n){return n.columnid===e.columnId}),e.adminColumn||(e.utils.toast("fail","您没有该栏目管理权限！"),setTimeout(function(){e.app.back()},2e3)),e.publishAreaId=e.adminUserService.user.areaId,e.pageLoad()})},e.prototype.ngOnDestroy=function(){this.appChannelSubscription.unsubscribe()},e.prototype.canDeactivate=function(){return!!this.isPublished||(this.isEditor?(this.isEditor=!1,!0):!this.isChanged||this.presentAlert())},e.prototype.edit=function(n,l){switch(n.role){case"content":this.contentItem=n,this.editor.content=n.content,this.isEditor=!0,this.router.navigate(["standard/editor",{title:"内容详情",page:this.page}]);break;case"publishArea":this.publishAreaItem=n,this.isEditor=!0,this.areaTreeService.businessType=v.a.ARTICLE_PUBLISH_AREA,this.areaTreeService.reset(),this.router.navigate(["standard/area-tree",{page:e.TAG}]);break;default:var t=this.containers.find(function(e,n){return n===l});if(t){n.edit=!0;var i=this.componentFactoryResolver.resolveComponentFactory(s.a);t.clear();var a=t.createComponent(i);a.instance.data=new d.a({value:n.content,maxLength:n.maxLength,required:n.required,label:n.description}),a.instance.dataChanged.subscribe(function(e){n.content=e}),a.instance.onBlur.subscribe(function(e){t.clear(),n.edit=!1})}}},e.prototype.publish=function(){var e=this;if(this.fileUpload&&this.fileUpload.length)this.utils.toast("fail","缩略图正在上传中，请稍后发布！");else{if(this.radioAccess&&this.radioComponentsStatus){if(!this.issueEmergentBroadcastService.MsgType)return void this.utils.toast("fail","请选择广播消息类型");if(!this.issueEmergentBroadcastService.Severity)return void this.utils.toast("fail","请选择广播等级");if(!this.issueEmergentBroadcastService.StartTime)return void this.utils.toast("fail","请选择广播开始时间");if(!this.issueEmergentBroadcastService.EndTime)return void this.utils.toast("fail","请选择广播结束时间")}var n=this.preparePostData();n&&(Object.assign(n,{id:this.articleId,websiteId:this.websiteId,faddperson:this.adminUserService.user.id,columnId:this.columnId,areaid:this.publishAreaId,publishpower:"jialing"===this.app.appConfig.name?0:this.publishpower,ftypeid:"template"===this.mode?1:null,ftemplateid:this.adminColumn.defaultArticleTemplateId}),this.aumsService.addArticle(n).subscribe(function(l){if(e.isPublished=!0,e.models.filter(function(n){"push"==n.role&&(e.pushThis=n),"title"==n.role&&(e.title=n)}),e.radioAccess&&e.radioComponentsStatus){var t={EBDType:"EBM",MsgType:e.issueEmergentBroadcastService.MsgType,EventType:"10210",Severity:e.issueEmergentBroadcastService.Severity,StartTime:g(e.issueEmergentBroadcastService.StartTime).format("YYYY-MM-DD HH:mm:ss"),EndTime:g(e.issueEmergentBroadcastService.EndTime).format("YYYY-MM-DD HH:mm:ss"),MsgTitle:n.ftitle,MsgDesc:n.fcontent.replace(/<\/?p>/g,""),ProgramNum:"1",AreaCode:e.issueEmergentBroadcastService.aredId.toString(),userName:e.adminUserService.user.userName};e.aumsService.sendBroadCast(t).subscribe(function(n){"success"===n.status?(e.issueEmergentBroadcastService.MsgType="",e.issueEmergentBroadcastService.Severity="",e.issueEmergentBroadcastService.StartTime="",e.issueEmergentBroadcastService.EndTime="",e.issueEmergentBroadcastService.aredId="",e.utils.toast("success","发送应急广播成功!")):(e.issueEmergentBroadcastService.MsgType="",e.issueEmergentBroadcastService.Severity="",e.issueEmergentBroadcastService.StartTime="",e.issueEmergentBroadcastService.EndTime="",e.issueEmergentBroadcastService.aredId="",e.utils.toast("offline","发送应急广播失败!"))})}var i=l.data.articleid;e.pushThis.content&&(e.aumsService.pushArticleTo({content:e.normalUserService.user.role,title:e.title.content,columnId:e.columnId.toString(),articleId:i,pushType:2,userType:6,areaId:e.publishAreaId,loadUrl:e.app.appConfig.notification.stb.article+"?aid="+i,typeId:1}).subscribe(function(e){},function(e){},function(){}),e.aumsService.pushArticleTo({content:e.normalUserService.user.role,title:e.title.content,columnId:e.columnId.toString(),articleId:i,pushType:1,userType:2,areaId:e.publishAreaId,loadUrl:e.app.appConfig.notification.stb.article+"?aid="+i,typeId:1}).subscribe(function(e){},function(e){},function(){})),e.app.appChannel.emit({type:e.articleId?p.a.PUBLISHEDIT:p.a.PUBLISHNEW,data:{title:n.ftitle,thumbnail:e.thumbnail}}),e.app.back()}))}},e.prototype.onProgress=function(e,n){if(this.fileUpload||(this.fileUpload=[]),"start"===e.state&&this.fileUpload.push({description:n.description}),"finish"===e.state){var l=this.fileUpload.findIndex(function(e){return e.description==e.description});l>-1&&this.fileUpload.splice(l,1),n.content=e.data}},e.prototype.pageLoad=function(){var e=this;this.getAndInitTemplateModels(function(){e.mode=Array.isArray(e.models)&&e.models.length?"template":"normal",e.enhanceModels(),e.loadArticle(function(){e.fillModels(),e.initializedModels=JSON.parse(JSON.stringify(e.models))})})},e.prototype.getAndInitTemplateModels=function(e){var n=this;this.aumsService.getTemplateArticleDetail({id:this.adminColumn.defaultArticleTemplateId}).subscribe(function(l){n.models="success"===l.status&&l.data.filter(function(e){return"stb"!==e.client})||[],e()})},e.prototype.enhanceModels=function(){var n=this,l=[{label:"标题",maxLength:100,role:"title"},{label:"摘要",role:"summary"},{label:"缩略图",type:"img",role:"image"},{label:"内容详情",role:"content"},{label:"发布区域",role:"publishArea"},{label:"是否推送",type:"toggle",role:"push"},{label:"是否公开",type:"toggle",role:"public"},{label:"设置发布时间",type:"dateTime",role:"publishDateTime"}];"normal"===this.mode?l.forEach(function(e){n.models.push({description:e.label,maxLength:e.maxLength,type:e.type||"text",role:e.role,content:"publishArea"==e.role?n.adminUserService.user.areaName:void 0})}):l.filter(function(e){return n.commonRoles.includes(e.role)}).forEach(function(e){n.models.push({description:e.label,maxLength:e.maxLength,type:e.type||"text",role:e.role,content:"publishArea"==e.role?n.adminUserService.user.areaName:void 0})}),this.logger.debug(e.TAG+" enhanceModels() enhanced models: "+JSON.stringify(this.models))},e.prototype.issueEmergentBroadcast=function(){var e=this;this.aumsService.queryAuthori({userName:this.adminUserService.user.userName}).subscribe(function(n){"success"===n.status?(e.radioArea=n.data,e.radioAccess=!0):e.radioAccess=!1})},e.prototype.loadArticle=function(e){var n=this;this.articleId&&this.aumsService.getArticle({id:this.articleId,typeid:1}).subscribe(function(l){"success"===l.status&&(n.articleData=l.data,e())})},e.prototype.fillModels=function(){var n=this;if("template"===this.mode){var l=this.articleData.ArticleRelation;Array.isArray(l)&&l.filter(function(e){return null!=e}).forEach(function(e){var l=n.models.find(function(n){return n.DOMId===e.domid});l&&("text"===l.type?l.content=e.atext:e.imageid&&(l.content=[{id:e.imageid,url:e.atext}]))})}var t=this.articleData.article;this.models.forEach(function(e){if("normal"===n.mode)switch(e.role){case"title":e.content=t.ftitle;break;case"content":e.content=t.fcontent;break;case"summary":e.content=t.fsummary;break;case"image":t.fimage&&(e.content=[{id:t.fimageid,url:t.fimage}])}switch(e.role){case"push":break;case"public":e.content=1===t.publicly;break;case"publishDateTime":e.content=g(t.fupdatetime).toISOString()}}),this.logger.debug(e.TAG+" fillModels() models:",this.models)},e.prototype.preparePostData=function(){var e,n=this,l={},t=[];return this.models.every(function(i){if("title"===i.role&&(l.ftitle=i.content),"content"===i.role&&(l.fcontent=i.content||""),"summary"===i.role&&(l.fsummary=i.content||""),"image"===i.role&&(u=i.content)&&u.length&&(l.fimage=i.content[0].id,n.thumbnail=i.content[0].url),"publishDateTime"===i.role&&i.content&&(l.fupdatetime=g(i.content).format("YYYY-MM-DD HH:mm:ss")),"public"===i.role&&(l.publicly=i.content?1:0),"template"===n.mode&&!n.commonRoles.includes(i.role)){var a={type:i.type,description:i.description,domid:i.DOMId,id:"",text:"",imgid:""};if("text"===i.type)a.text=i.content||"";else if("img"===i.type){var u=i.content;Array.isArray(u)&&u.length&&(a.imgid=u[0].id.toString())}t.push(a)}return!("title"===i.role&&!i.content&&(e=i.description+"不能为空",1))}),e?(this.utils.toast("fail",e),null):(l.temArray=t.length?JSON.stringify(t):null,l)},e.prototype.editorListener=function(){var n=this;return this.app.appChannel.subscribe(function(l){l.type===p.a.EDITORCONTENT&&l.page===n.page?(n.contentItem.content=l.data,n.editor.content=void 0):l.type===p.a.SELECTAREA&&n.areaTreeService.businessType===v.a.ARTICLE_PUBLISH_AREA&&e.TAG===l.page&&(n.publishAreaId=l.data.areaId,n.publishAreaItem.content=l.data.areaName)})},e.prototype.presentAlert=function(){var e=this;return new Promise(function(n,l){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(e){switch(e.label){case 0:return[4,this.alertCtrl.create({header:"退出编辑",message:"您有修改的内容未保存，是否确定退出？",buttons:[{text:"取消",role:"cancel",handler:function(){n(!1)}},{text:"确定",handler:function(){n(!0)}}]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}})})})},e.TAG="PublishArticleComponent",e}(),C=l("4/GC"),T=function(){return function(){}}(),y=l("pMnS"),E=l("prAe"),S=l("MKJQ"),R=l("jy/b"),A=l("Ip0R"),I=l("RU79"),x=l("n752"),D=l("ZYjt"),M=l("U3FM"),L=l("gIcY"),N=l("PqVL"),_=function(){function e(e,n){this.app=e,this.issueEmergentBroadcast=n,this.value=[],this.areaCode="请选择"}return e.prototype.ngOnInit=function(){this.formatPickerData(this.areaData)},e.prototype.onOk=function(e){this.getResult(e)},e.prototype.getResult=function(e){var n=this;this.value=[],this.areaCode="",e.forEach(function(e){n.value.push(e.id||e),n.areaCode+=e.label||e}),this.issueEmergentBroadcast.aredId=this.value.map(function(e){return e}).join(",")},e.prototype.formatPickerData=function(e){var n=this;Array.isArray(e)&&e.length&&(this.data=e.map(function(e){return{label:e.text,id:e.id,children:[]}}),e.forEach(function(e,l){if(e.children&&e.children.length)for(var t=0;t<e.children.length;t++)n.data.splice(l+t+1,0,{label:e.children[t].text,id:e.children[t].id,children:[]})}))},e}(),B=t["ɵcrt"]({encapsulation:0,styles:[[".field[_ngcontent-%COMP%]{display:flex;position:relative;overflow:hidden}.list-md[_ngcontent-%COMP%]{padding:0}"]],data:{}});function w(e){return t["ɵvid"](0,[(e()(),t["ɵeld"](0,0,null,null,101,"div",[["class","form-box"]],null,null,null,null,null)),(e()(),t["ɵeld"](1,0,null,null,90,"ion-list",[],null,null,null,S.Gb,S.E)),t["ɵdid"](2,49152,null,0,R.P,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["ɵeld"](3,0,null,0,23,"ion-item",[],null,null,null,S.Db,S.z)),t["ɵdid"](4,49152,null,0,R.I,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["ɵeld"](5,0,null,0,2,"ion-label",[],null,null,null,S.Eb,S.D)),t["ɵdid"](6,49152,null,0,R.O,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["ɵted"](-1,0,["选择广播等级"])),(e()(),t["ɵeld"](8,0,null,0,18,"ion-select",[["cancelText","取消"],["okText","确定"],["placeholder","请选择"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(e,n,l){var i=!0,a=e.component;return"ionBlur"===n&&(i=!1!==t["ɵnov"](e,9)._handleBlurEvent(l.target)&&i),"ionChange"===n&&(i=!1!==t["ɵnov"](e,9)._handleChangeEvent(l.target)&&i),"ngModelChange"===n&&(i=!1!==(a.issueEmergentBroadcast.Severity=l)&&i),i},S.Tb,S.R)),t["ɵdid"](9,16384,null,0,R.Lb,[t.ElementRef],null,null),t["ɵprd"](1024,null,L.m,function(e){return[e]},[R.Lb]),t["ɵdid"](11,671744,null,0,L.r,[[8,null],[8,null],[8,null],[6,L.m]],{model:[0,"model"]},{update:"ngModelChange"}),t["ɵprd"](2048,null,L.n,null,[L.r]),t["ɵdid"](13,16384,null,0,L.o,[[4,L.n]],null,null),t["ɵdid"](14,49152,null,0,R.lb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{cancelText:[0,"cancelText"],okText:[1,"okText"],placeholder:[2,"placeholder"]},null),(e()(),t["ɵeld"](15,0,null,0,2,"ion-select-option",[["value","1"]],null,null,null,S.Sb,S.S)),t["ɵdid"](16,49152,null,0,R.mb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{value:[0,"value"]},null),(e()(),t["ɵted"](-1,0,["一级(特别重大/红色预警)"])),(e()(),t["ɵeld"](18,0,null,0,2,"ion-select-option",[["value","2"]],null,null,null,S.Sb,S.S)),t["ɵdid"](19,49152,null,0,R.mb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{value:[0,"value"]},null),(e()(),t["ɵted"](-1,0,["二级(重大/橙色预警)"])),(e()(),t["ɵeld"](21,0,null,0,2,"ion-select-option",[["value","3"]],null,null,null,S.Sb,S.S)),t["ɵdid"](22,49152,null,0,R.mb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{value:[0,"value"]},null),(e()(),t["ɵted"](-1,0,["三级(较大/黄色预警)"])),(e()(),t["ɵeld"](24,0,null,0,2,"ion-select-option",[["value","4"]],null,null,null,S.Sb,S.S)),t["ɵdid"](25,49152,null,0,R.mb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{value:[0,"value"]},null),(e()(),t["ɵted"](-1,0,["四级(一般/蓝色预警)"])),(e()(),t["ɵeld"](27,0,null,0,26,"ion-item",[],null,null,null,S.Db,S.z)),t["ɵdid"](28,49152,null,0,R.I,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["ɵeld"](29,0,null,0,2,"ion-label",[],null,null,null,S.Eb,S.D)),t["ɵdid"](30,49152,null,0,R.O,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["ɵted"](-1,0,["选择广播消息类型"])),(e()(),t["ɵeld"](32,0,null,0,21,"ion-select",[["cancelText","取消"],["okText","确定"],["placeholder","请选择"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(e,n,l){var i=!0,a=e.component;return"ionBlur"===n&&(i=!1!==t["ɵnov"](e,33)._handleBlurEvent(l.target)&&i),"ionChange"===n&&(i=!1!==t["ɵnov"](e,33)._handleChangeEvent(l.target)&&i),"ngModelChange"===n&&(i=!1!==(a.issueEmergentBroadcast.MsgType=l)&&i),i},S.Tb,S.R)),t["ɵdid"](33,16384,null,0,R.Lb,[t.ElementRef],null,null),t["ɵprd"](1024,null,L.m,function(e){return[e]},[R.Lb]),t["ɵdid"](35,671744,null,0,L.r,[[8,null],[8,null],[8,null],[6,L.m]],{model:[0,"model"]},{update:"ngModelChange"}),t["ɵprd"](2048,null,L.n,null,[L.r]),t["ɵdid"](37,16384,null,0,L.o,[[4,L.n]],null,null),t["ɵdid"](38,49152,null,0,R.lb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{cancelText:[0,"cancelText"],okText:[1,"okText"],placeholder:[2,"placeholder"]},null),(e()(),t["ɵeld"](39,0,null,0,2,"ion-select-option",[["value","1"]],null,null,null,S.Sb,S.S)),t["ɵdid"](40,49152,null,0,R.mb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{value:[0,"value"]},null),(e()(),t["ɵted"](-1,0,["实际播发"])),(e()(),t["ɵeld"](42,0,null,0,2,"ion-select-option",[["value","2"]],null,null,null,S.Sb,S.S)),t["ɵdid"](43,49152,null,0,R.mb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{value:[0,"value"]},null),(e()(),t["ɵted"](-1,0,["取消播发"])),(e()(),t["ɵeld"](45,0,null,0,2,"ion-select-option",[["value","3"]],null,null,null,S.Sb,S.S)),t["ɵdid"](46,49152,null,0,R.mb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{value:[0,"value"]},null),(e()(),t["ɵted"](-1,0,["平台演练播发"])),(e()(),t["ɵeld"](48,0,null,0,2,"ion-select-option",[["value","4"]],null,null,null,S.Sb,S.S)),t["ɵdid"](49,49152,null,0,R.mb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{value:[0,"value"]},null),(e()(),t["ɵted"](-1,0,["前端演练播发"])),(e()(),t["ɵeld"](51,0,null,0,2,"ion-select-option",[["value","5"]],null,null,null,S.Sb,S.S)),t["ɵdid"](52,49152,null,0,R.mb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{value:[0,"value"]},null),(e()(),t["ɵted"](-1,0,["终端演练播发"])),(e()(),t["ɵeld"](54,0,null,0,18,"ion-item",[],null,null,null,S.Db,S.z)),t["ɵdid"](55,49152,null,0,R.I,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["ɵeld"](56,0,null,0,2,"ion-label",[],null,null,null,S.Eb,S.D)),t["ɵdid"](57,49152,null,0,R.O,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["ɵted"](-1,0,["广播开始时间"])),(e()(),t["ɵeld"](59,0,null,0,6,"ion-datetime",[["cancelText","取消"],["displayFormat","YYYY-MM-DD "],["doneText","确定"],["max","2099-01-01"],["placeholder","选择开始日期"]],[[4,"margin-right","px"],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(e,n,l){var i=!0,a=e.component;return"ionBlur"===n&&(i=!1!==t["ɵnov"](e,60)._handleBlurEvent(l.target)&&i),"ionChange"===n&&(i=!1!==t["ɵnov"](e,60)._handleChangeEvent(l.target)&&i),"ngModelChange"===n&&(i=!1!==(a.issueEmergentBroadcast.StartTime=l)&&i),i},S.pb,S.o)),t["ɵdid"](60,16384,null,0,R.Lb,[t.ElementRef],null,null),t["ɵprd"](1024,null,L.m,function(e){return[e]},[R.Lb]),t["ɵdid"](62,671744,null,0,L.r,[[8,null],[8,null],[8,null],[6,L.m]],{model:[0,"model"]},{update:"ngModelChange"}),t["ɵprd"](2048,null,L.n,null,[L.r]),t["ɵdid"](64,16384,null,0,L.o,[[4,L.n]],null,null),t["ɵdid"](65,49152,null,0,R.w,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{cancelText:[0,"cancelText"],displayFormat:[1,"displayFormat"],doneText:[2,"doneText"],max:[3,"max"],placeholder:[4,"placeholder"]},null),(e()(),t["ɵeld"](66,0,null,0,6,"ion-datetime",[["cancelText","取消"],["displayFormat","HH:mm:ss"],["doneText","确定"],["placeholder","选择开始时间"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(e,n,l){var i=!0,a=e.component;return"ionBlur"===n&&(i=!1!==t["ɵnov"](e,67)._handleBlurEvent(l.target)&&i),"ionChange"===n&&(i=!1!==t["ɵnov"](e,67)._handleChangeEvent(l.target)&&i),"ngModelChange"===n&&(i=!1!==(a.issueEmergentBroadcast.StartTime=l)&&i),i},S.pb,S.o)),t["ɵdid"](67,16384,null,0,R.Lb,[t.ElementRef],null,null),t["ɵprd"](1024,null,L.m,function(e){return[e]},[R.Lb]),t["ɵdid"](69,671744,null,0,L.r,[[8,null],[8,null],[8,null],[6,L.m]],{model:[0,"model"]},{update:"ngModelChange"}),t["ɵprd"](2048,null,L.n,null,[L.r]),t["ɵdid"](71,16384,null,0,L.o,[[4,L.n]],null,null),t["ɵdid"](72,49152,null,0,R.w,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{cancelText:[0,"cancelText"],displayFormat:[1,"displayFormat"],doneText:[2,"doneText"],placeholder:[3,"placeholder"]},null),(e()(),t["ɵeld"](73,0,null,0,18,"ion-item",[],null,null,null,S.Db,S.z)),t["ɵdid"](74,49152,null,0,R.I,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["ɵeld"](75,0,null,0,2,"ion-label",[],null,null,null,S.Eb,S.D)),t["ɵdid"](76,49152,null,0,R.O,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["ɵted"](-1,0,["广播结束时间"])),(e()(),t["ɵeld"](78,0,null,0,6,"ion-datetime",[["cancelText","取消"],["displayFormat","YYYY-MM-DD"],["doneText","确定"],["max","2099-01-01"],["placeholder","选择结束日期"]],[[4,"margin-right","px"],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(e,n,l){var i=!0,a=e.component;return"ionBlur"===n&&(i=!1!==t["ɵnov"](e,79)._handleBlurEvent(l.target)&&i),"ionChange"===n&&(i=!1!==t["ɵnov"](e,79)._handleChangeEvent(l.target)&&i),"ngModelChange"===n&&(i=!1!==(a.issueEmergentBroadcast.EndTime=l)&&i),i},S.pb,S.o)),t["ɵdid"](79,16384,null,0,R.Lb,[t.ElementRef],null,null),t["ɵprd"](1024,null,L.m,function(e){return[e]},[R.Lb]),t["ɵdid"](81,671744,null,0,L.r,[[8,null],[8,null],[8,null],[6,L.m]],{model:[0,"model"]},{update:"ngModelChange"}),t["ɵprd"](2048,null,L.n,null,[L.r]),t["ɵdid"](83,16384,null,0,L.o,[[4,L.n]],null,null),t["ɵdid"](84,49152,null,0,R.w,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{cancelText:[0,"cancelText"],displayFormat:[1,"displayFormat"],doneText:[2,"doneText"],max:[3,"max"],placeholder:[4,"placeholder"]},null),(e()(),t["ɵeld"](85,0,null,0,6,"ion-datetime",[["cancelText","取消"],["displayFormat","HH:mm:ss"],["doneText","确定"],["placeholder","选择结束时间"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(e,n,l){var i=!0,a=e.component;return"ionBlur"===n&&(i=!1!==t["ɵnov"](e,86)._handleBlurEvent(l.target)&&i),"ionChange"===n&&(i=!1!==t["ɵnov"](e,86)._handleChangeEvent(l.target)&&i),"ngModelChange"===n&&(i=!1!==(a.issueEmergentBroadcast.EndTime=l)&&i),i},S.pb,S.o)),t["ɵdid"](86,16384,null,0,R.Lb,[t.ElementRef],null,null),t["ɵprd"](1024,null,L.m,function(e){return[e]},[R.Lb]),t["ɵdid"](88,671744,null,0,L.r,[[8,null],[8,null],[8,null],[6,L.m]],{model:[0,"model"]},{update:"ngModelChange"}),t["ɵprd"](2048,null,L.n,null,[L.r]),t["ɵdid"](90,16384,null,0,L.o,[[4,L.n]],null,null),t["ɵdid"](91,49152,null,0,R.w,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{cancelText:[0,"cancelText"],displayFormat:[1,"displayFormat"],doneText:[2,"doneText"],placeholder:[3,"placeholder"]},null),(e()(),t["ɵeld"](92,0,null,null,9,"List",[["className","my-list"]],[[8,"className",0]],null,null,E.r,E.j)),t["ɵdid"](93,49152,null,0,N.ib,[],{className:[0,"className"]},null),(e()(),t["ɵeld"](94,16777216,null,0,7,"ListItem",[["Picker",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[8,"className",0]],[[null,"ngModelChange"],[null,"click"],[null,"touchstart"],[null,"touchmove"],[null,"touchend"],[null,"mousedown"],[null,"mouseup"]],function(e,n,l){var i=!0,a=e.component;return"click"===n&&(i=!1!==t["ɵnov"](e,95).togglePicker()&&i),"click"===n&&(i=!1!==t["ɵnov"](e,100).click(l)&&i),"touchstart"===n&&(i=!1!==t["ɵnov"](e,100).start()&&i),"touchmove"===n&&(i=!1!==t["ɵnov"](e,100).move()&&i),"touchend"===n&&(i=!1!==t["ɵnov"](e,100).end()&&i),"mousedown"===n&&(i=!1!==t["ɵnov"](e,100).mouse_start()&&i),"mouseup"===n&&(i=!1!==t["ɵnov"](e,100).mouse_end()&&i),"ngModelChange"===n&&(i=!1!==(a.value=l)&&i),"ngModelChange"===n&&(i=!1!==a.onOk(l)&&i),i},E.s,E.k)),t["ɵdid"](95,737280,null,0,N.Db,[t.ViewContainerRef,t.ElementRef,N.Fb,t.ComponentFactoryResolver,t.Renderer2,t.NgZone],{data:[0,"data"],mask:[1,"mask"],title:[2,"title"]},null),t["ɵprd"](1024,null,L.m,function(e){return[e]},[N.Db]),t["ɵdid"](97,671744,null,0,L.r,[[8,null],[8,null],[8,null],[6,L.m]],{model:[0,"model"]},{update:"ngModelChange"}),t["ɵprd"](2048,null,L.n,null,[L.r]),t["ɵdid"](99,16384,null,0,L.o,[[4,L.n]],null,null),t["ɵdid"](100,245760,null,0,N.jb,[],{extra:[0,"extra"],arrow:[1,"arrow"]},null),(e()(),t["ɵted"](-1,0,[" 选择区域 "]))],function(e,n){var l=n.component;e(n,11,0,l.issueEmergentBroadcast.Severity),e(n,14,0,"取消","确定","请选择"),e(n,16,0,"1"),e(n,19,0,"2"),e(n,22,0,"3"),e(n,25,0,"4"),e(n,35,0,l.issueEmergentBroadcast.MsgType),e(n,38,0,"取消","确定","请选择"),e(n,40,0,"1"),e(n,43,0,"2"),e(n,46,0,"3"),e(n,49,0,"4"),e(n,52,0,"5"),e(n,62,0,l.issueEmergentBroadcast.StartTime),e(n,65,0,"取消","YYYY-MM-DD ","确定","2099-01-01","选择开始日期"),e(n,69,0,l.issueEmergentBroadcast.StartTime),e(n,72,0,"取消","HH:mm:ss","确定","选择开始时间"),e(n,81,0,l.issueEmergentBroadcast.EndTime),e(n,84,0,"取消","YYYY-MM-DD","确定","2099-01-01","选择结束日期"),e(n,88,0,l.issueEmergentBroadcast.EndTime),e(n,91,0,"取消","HH:mm:ss","确定","选择结束时间"),e(n,93,0,"my-list"),e(n,95,0,l.data,!0,"请选择区域"),e(n,97,0,l.value),e(n,100,0,l.areaCode,"horizontal")},function(e,n){e(n,8,0,t["ɵnov"](n,13).ngClassUntouched,t["ɵnov"](n,13).ngClassTouched,t["ɵnov"](n,13).ngClassPristine,t["ɵnov"](n,13).ngClassDirty,t["ɵnov"](n,13).ngClassValid,t["ɵnov"](n,13).ngClassInvalid,t["ɵnov"](n,13).ngClassPending),e(n,32,0,t["ɵnov"](n,37).ngClassUntouched,t["ɵnov"](n,37).ngClassTouched,t["ɵnov"](n,37).ngClassPristine,t["ɵnov"](n,37).ngClassDirty,t["ɵnov"](n,37).ngClassValid,t["ɵnov"](n,37).ngClassInvalid,t["ɵnov"](n,37).ngClassPending),e(n,59,0,8,t["ɵnov"](n,64).ngClassUntouched,t["ɵnov"](n,64).ngClassTouched,t["ɵnov"](n,64).ngClassPristine,t["ɵnov"](n,64).ngClassDirty,t["ɵnov"](n,64).ngClassValid,t["ɵnov"](n,64).ngClassInvalid,t["ɵnov"](n,64).ngClassPending),e(n,66,0,t["ɵnov"](n,71).ngClassUntouched,t["ɵnov"](n,71).ngClassTouched,t["ɵnov"](n,71).ngClassPristine,t["ɵnov"](n,71).ngClassDirty,t["ɵnov"](n,71).ngClassValid,t["ɵnov"](n,71).ngClassInvalid,t["ɵnov"](n,71).ngClassPending),e(n,78,0,8,t["ɵnov"](n,83).ngClassUntouched,t["ɵnov"](n,83).ngClassTouched,t["ɵnov"](n,83).ngClassPristine,t["ɵnov"](n,83).ngClassDirty,t["ɵnov"](n,83).ngClassValid,t["ɵnov"](n,83).ngClassInvalid,t["ɵnov"](n,83).ngClassPending),e(n,85,0,t["ɵnov"](n,90).ngClassUntouched,t["ɵnov"](n,90).ngClassTouched,t["ɵnov"](n,90).ngClassPristine,t["ɵnov"](n,90).ngClassDirty,t["ɵnov"](n,90).ngClassValid,t["ɵnov"](n,90).ngClassInvalid,t["ɵnov"](n,90).ngClassPending),e(n,92,0,t["ɵnov"](n,93).hostClassName),e(n,94,0,t["ɵnov"](n,99).ngClassUntouched,t["ɵnov"](n,99).ngClassTouched,t["ɵnov"](n,99).ngClassPristine,t["ɵnov"](n,99).ngClassDirty,t["ɵnov"](n,99).ngClassValid,t["ɵnov"](n,99).ngClassInvalid,t["ɵnov"](n,99).ngClassPending,t["ɵnov"](n,100).bingClassName)})}var O=l("ZYCi"),P=t["ɵcrt"]({encapsulation:0,styles:[[".item[_ngcontent-%COMP%]{padding:13px 16px}.item[_ngcontent-%COMP%]:last-child{border-bottom:none}.item.line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 16px}.item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:var(--font-size-md);color:var(--text-color-title);margin-bottom:5px}.item.line[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0}.item[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;position:relative;overflow:hidden}.item[_ngcontent-%COMP%]   .field-content[_ngcontent-%COMP%]{flex:1;padding-right:10px;color:var(--text-color-primary);font-size:var(--font-size-sm);line-height:22px;white-space:normal}.item[_ngcontent-%COMP%]   .field-content[_ngcontent-%COMP%]  p img{display:block}.item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--text-color-primary);font-size:var(--font-size-md)}.item[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]{border-bottom:2px solid #f4f4f4}ion-datetime[_ngcontent-%COMP%]{padding:10px 0}.emergent[_ngcontent-%COMP%]{padding:5px 16px!important;border-top:5px solid #f4f4f4}"]],data:{}});function Z(e){return t["ɵvid"](0,[(e()(),t["ɵeld"](0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),t["ɵeld"](1,0,null,null,1,"ion-icon",[["src","assets/icons/chevron-forward-outline.svg"]],null,null,null,S.vb,S.u)),t["ɵdid"](2,49152,null,0,R.D,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{src:[0,"src"]},null)],function(e,n){e(n,2,0,"assets/icons/chevron-forward-outline.svg")},null)}function F(e){return t["ɵvid"](0,[(e()(),t["ɵeld"](0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),t["ɵeld"](1,0,null,null,1,"ion-icon",[["src","assets/icons/chevron-forward-outline.svg"]],null,null,null,S.vb,S.u)),t["ɵdid"](2,49152,null,0,R.D,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{src:[0,"src"]},null)],function(e,n){e(n,2,0,"assets/icons/chevron-forward-outline.svg")},null)}function k(e){return t["ɵvid"](0,[(e()(),t["ɵeld"](0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),t["ɵeld"](1,0,null,null,1,"ion-icon",[["src","assets/icons/edit.svg"]],null,null,null,S.vb,S.u)),t["ɵdid"](2,49152,null,0,R.D,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{src:[0,"src"]},null)],function(e,n){e(n,2,0,"assets/icons/edit.svg")},null)}function H(e){return t["ɵvid"](0,[(e()(),t["ɵeld"](0,0,null,null,11,"div",[["class","ion-activatable field"]],null,[[null,"click"]],function(e,n,l){var t=!0;return"click"===n&&(t=!1!==e.component.edit(e.parent.parent.context.$implicit,e.parent.parent.context.index)&&t),t},null,null)),(e()(),t["ɵeld"](1,0,null,null,0,"div",[["class","field-content"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),t["ɵeld"](2,0,null,null,7,null,null,null,null,null,null,null)),t["ɵdid"](3,16384,null,0,A.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),t["ɵand"](16777216,null,null,1,null,Z)),t["ɵdid"](5,278528,null,0,A.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,A.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),t["ɵand"](16777216,null,null,1,null,F)),t["ɵdid"](7,278528,null,0,A.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,A.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),t["ɵand"](16777216,null,null,1,null,k)),t["ɵdid"](9,16384,null,0,A.NgSwitchDefault,[t.ViewContainerRef,t.TemplateRef,A.NgSwitch],null,null),(e()(),t["ɵeld"](10,0,null,null,1,"ion-ripple-effect",[],null,null,null,S.Nb,S.M)),t["ɵdid"](11,49152,null,0,R.fb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null)],function(e,n){e(n,3,0,n.parent.parent.context.$implicit.role),e(n,5,0,"content"),e(n,7,0,"publishArea")},function(e,n){e(n,1,0,n.parent.parent.context.$implicit.content||"暂无")})}function U(e){return t["ɵvid"](0,[(e()(),t["ɵand"](0,null,null,0))],null,null)}function j(e){return t["ɵvid"](0,[(e()(),t["ɵeld"](0,0,null,null,5,null,null,null,null,null,null,null)),(e()(),t["ɵeld"](1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),t["ɵted"](2,null,["",""])),(e()(),t["ɵand"](16777216,null,null,1,null,H)),t["ɵdid"](4,16384,null,0,A.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(e()(),t["ɵand"](16777216,[[1,3],["container",2]],null,0,null,U)),(e()(),t["ɵand"](0,null,null,0))],function(e,n){e(n,4,0,!n.parent.context.$implicit.edit)},function(e,n){e(n,2,0,n.parent.context.$implicit.description+":")})}function V(e){return t["ɵvid"](0,[(e()(),t["ɵand"](0,null,null,0))],null,null)}function Y(e){return t["ɵvid"](0,[(e()(),t["ɵeld"](0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),t["ɵeld"](1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),t["ɵted"](2,null,["",""])),(e()(),t["ɵeld"](3,0,null,null,2,"div",[["class","field"]],null,null,null,null,null)),(e()(),t["ɵeld"](4,0,null,null,1,"app-upload-file",[],null,[[null,"progress"]],function(e,n,l){var t=!0;return"progress"===n&&(t=!1!==e.component.onProgress(l,e.parent.context.$implicit)&&t),t},I.b,I.a)),t["ɵdid"](5,114688,null,0,x.a,[c.a,a.a,D.b,o.a,M.b,R.Ib],{uploadFileList:[0,"uploadFileList"]},{progress:"progress"}),(e()(),t["ɵand"](16777216,[[1,3],["container",2]],null,0,null,V)),(e()(),t["ɵand"](0,null,null,0))],function(e,n){e(n,5,0,n.parent.context.$implicit.content)},function(e,n){e(n,2,0,n.parent.context.$implicit.description+":")})}function z(e){return t["ɵvid"](0,[(e()(),t["ɵeld"](0,0,null,null,9,null,null,null,null,null,null,null)),(e()(),t["ɵeld"](1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),t["ɵted"](2,null,["",""])),(e()(),t["ɵeld"](3,0,null,null,6,"ion-toggle",[["color","secondary"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(e,n,l){var i=!0;return"ionBlur"===n&&(i=!1!==t["ɵnov"](e,5)._handleBlurEvent(l.target)&&i),"ionChange"===n&&(i=!1!==t["ɵnov"](e,5)._handleIonChange(l.target)&&i),"ngModelChange"===n&&(i=!1!==(e.parent.context.$implicit.content=l)&&i),i},S.ac,S.Z)),t["ɵdid"](4,49152,null,0,R.zb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"]},null),t["ɵdid"](5,16384,null,0,R.d,[t.ElementRef],null,null),t["ɵprd"](1024,null,L.m,function(e){return[e]},[R.d]),t["ɵdid"](7,671744,null,0,L.r,[[8,null],[8,null],[8,null],[6,L.m]],{model:[0,"model"]},{update:"ngModelChange"}),t["ɵprd"](2048,null,L.n,null,[L.r]),t["ɵdid"](9,16384,null,0,L.o,[[4,L.n]],null,null)],function(e,n){e(n,4,0,"secondary"),e(n,7,0,n.parent.context.$implicit.content)},function(e,n){e(n,2,0,n.parent.context.$implicit.description+":"),e(n,3,0,t["ɵnov"](n,9).ngClassUntouched,t["ɵnov"](n,9).ngClassTouched,t["ɵnov"](n,9).ngClassPristine,t["ɵnov"](n,9).ngClassDirty,t["ɵnov"](n,9).ngClassValid,t["ɵnov"](n,9).ngClassInvalid,t["ɵnov"](n,9).ngClassPending)})}function $(e){return t["ɵvid"](0,[(e()(),t["ɵeld"](0,0,null,null,17,null,null,null,null,null,null,null)),(e()(),t["ɵeld"](1,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),t["ɵted"](2,null,["",""])),(e()(),t["ɵeld"](3,0,null,null,14,"div",[["class","field"]],null,null,null,null,null)),(e()(),t["ɵeld"](4,0,null,null,6,"ion-datetime",[["cancelText","取消"],["displayFormat","YYYY-MM-DD"],["doneText","确定"],["max","2099-01-01"],["placeholder","选择日期"]],[[4,"margin-right","px"],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(e,n,l){var i=!0;return"ionBlur"===n&&(i=!1!==t["ɵnov"](e,6)._handleBlurEvent(l.target)&&i),"ionChange"===n&&(i=!1!==t["ɵnov"](e,6)._handleChangeEvent(l.target)&&i),"ngModelChange"===n&&(i=!1!==(e.parent.context.$implicit.content=l)&&i),i},S.pb,S.o)),t["ɵdid"](5,49152,null,0,R.w,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{cancelText:[0,"cancelText"],displayFormat:[1,"displayFormat"],doneText:[2,"doneText"],max:[3,"max"],placeholder:[4,"placeholder"]},null),t["ɵdid"](6,16384,null,0,R.Lb,[t.ElementRef],null,null),t["ɵprd"](1024,null,L.m,function(e){return[e]},[R.Lb]),t["ɵdid"](8,671744,null,0,L.r,[[8,null],[8,null],[8,null],[6,L.m]],{model:[0,"model"]},{update:"ngModelChange"}),t["ɵprd"](2048,null,L.n,null,[L.r]),t["ɵdid"](10,16384,null,0,L.o,[[4,L.n]],null,null),(e()(),t["ɵeld"](11,0,null,null,6,"ion-datetime",[["cancelText","取消"],["displayFormat","HH:mm:ss"],["doneText","确定"],["placeholder","选择时间"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(e,n,l){var i=!0;return"ionBlur"===n&&(i=!1!==t["ɵnov"](e,13)._handleBlurEvent(l.target)&&i),"ionChange"===n&&(i=!1!==t["ɵnov"](e,13)._handleChangeEvent(l.target)&&i),"ngModelChange"===n&&(i=!1!==(e.parent.context.$implicit.content=l)&&i),i},S.pb,S.o)),t["ɵdid"](12,49152,null,0,R.w,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{cancelText:[0,"cancelText"],displayFormat:[1,"displayFormat"],doneText:[2,"doneText"],placeholder:[3,"placeholder"]},null),t["ɵdid"](13,16384,null,0,R.Lb,[t.ElementRef],null,null),t["ɵprd"](1024,null,L.m,function(e){return[e]},[R.Lb]),t["ɵdid"](15,671744,null,0,L.r,[[8,null],[8,null],[8,null],[6,L.m]],{model:[0,"model"]},{update:"ngModelChange"}),t["ɵprd"](2048,null,L.n,null,[L.r]),t["ɵdid"](17,16384,null,0,L.o,[[4,L.n]],null,null)],function(e,n){e(n,5,0,"取消","YYYY-MM-DD","确定","2099-01-01","选择日期"),e(n,8,0,n.parent.context.$implicit.content),e(n,12,0,"取消","HH:mm:ss","确定","选择时间"),e(n,15,0,n.parent.context.$implicit.content)},function(e,n){e(n,2,0,n.parent.context.$implicit.description+":"),e(n,4,0,8,t["ɵnov"](n,10).ngClassUntouched,t["ɵnov"](n,10).ngClassTouched,t["ɵnov"](n,10).ngClassPristine,t["ɵnov"](n,10).ngClassDirty,t["ɵnov"](n,10).ngClassValid,t["ɵnov"](n,10).ngClassInvalid,t["ɵnov"](n,10).ngClassPending),e(n,11,0,t["ɵnov"](n,17).ngClassUntouched,t["ɵnov"](n,17).ngClassTouched,t["ɵnov"](n,17).ngClassPristine,t["ɵnov"](n,17).ngClassDirty,t["ɵnov"](n,17).ngClassValid,t["ɵnov"](n,17).ngClassInvalid,t["ɵnov"](n,17).ngClassPending)})}function G(e){return t["ɵvid"](0,[(e()(),t["ɵeld"](0,0,null,null,10,"div",[["class","item"]],[[2,"line",null]],null,null,null,null)),(e()(),t["ɵeld"](1,0,null,null,9,null,null,null,null,null,null,null)),t["ɵdid"](2,16384,null,0,A.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),t["ɵand"](16777216,null,null,1,null,j)),t["ɵdid"](4,278528,null,0,A.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,A.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),t["ɵand"](16777216,null,null,1,null,Y)),t["ɵdid"](6,278528,null,0,A.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,A.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),t["ɵand"](16777216,null,null,1,null,z)),t["ɵdid"](8,278528,null,0,A.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,A.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),t["ɵand"](16777216,null,null,1,null,$)),t["ɵdid"](10,278528,null,0,A.NgSwitchCase,[t.ViewContainerRef,t.TemplateRef,A.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(e,n){e(n,2,0,n.context.$implicit.type),e(n,4,0,"text"),e(n,6,0,"img"),e(n,8,0,"toggle"),e(n,10,0,"dateTime")},function(e,n){e(n,0,0,"toggle"===n.context.$implicit.type)})}function J(e){return t["ɵvid"](0,[(e()(),t["ɵeld"](0,0,null,null,1,"app-issue-emergent-broadcast",[],null,null,null,w,B)),t["ɵdid"](1,114688,null,0,_,[r.a,f],{areaData:[0,"areaData"]},null)],function(e,n){e(n,1,0,n.component.radioArea)},null)}function q(e){return t["ɵvid"](0,[(e()(),t["ɵeld"](0,0,null,null,13,"div",[],null,null,null,null,null)),(e()(),t["ɵeld"](1,0,null,null,10,"div",[["class","item line emergent"]],null,null,null,null,null)),(e()(),t["ɵeld"](2,0,null,null,9,null,null,null,null,null,null,null)),(e()(),t["ɵeld"](3,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),t["ɵted"](-1,null,["是否发送应急广播"])),(e()(),t["ɵeld"](5,0,null,null,6,"ion-toggle",[["color","secondary"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(e,n,l){var i=!0,a=e.component;return"ionBlur"===n&&(i=!1!==t["ɵnov"](e,7)._handleBlurEvent(l.target)&&i),"ionChange"===n&&(i=!1!==t["ɵnov"](e,7)._handleIonChange(l.target)&&i),"ngModelChange"===n&&(i=!1!==(a.radioComponentsStatus=l)&&i),i},S.ac,S.Z)),t["ɵdid"](6,49152,null,0,R.zb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"]},null),t["ɵdid"](7,16384,null,0,R.d,[t.ElementRef],null,null),t["ɵprd"](1024,null,L.m,function(e){return[e]},[R.d]),t["ɵdid"](9,671744,null,0,L.r,[[8,null],[8,null],[8,null],[6,L.m]],{model:[0,"model"]},{update:"ngModelChange"}),t["ɵprd"](2048,null,L.n,null,[L.r]),t["ɵdid"](11,16384,null,0,L.o,[[4,L.n]],null,null),(e()(),t["ɵand"](16777216,null,null,1,null,J)),t["ɵdid"](13,16384,null,0,A.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var l=n.component;e(n,6,0,"secondary"),e(n,9,0,l.radioComponentsStatus),e(n,13,0,l.radioComponentsStatus)},function(e,n){e(n,5,0,t["ɵnov"](n,11).ngClassUntouched,t["ɵnov"](n,11).ngClassTouched,t["ɵnov"](n,11).ngClassPristine,t["ɵnov"](n,11).ngClassDirty,t["ɵnov"](n,11).ngClassValid,t["ɵnov"](n,11).ngClassInvalid,t["ɵnov"](n,11).ngClassPending)})}function W(e){return t["ɵvid"](0,[t["ɵqud"](671088640,1,{containers:1}),(e()(),t["ɵeld"](1,0,null,null,15,"ion-header",[["class","ion-no-border"]],null,null,null,S.ub,S.t)),t["ɵdid"](2,49152,null,0,R.C,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["ɵeld"](3,0,null,0,13,"ion-toolbar",[["mode","ios"]],null,null,null,S.bc,S.ab)),t["ɵdid"](4,49152,null,0,R.Ab,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{mode:[0,"mode"]},null),(e()(),t["ɵeld"](5,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,S.gb,S.f)),t["ɵdid"](6,49152,null,0,R.m,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["ɵeld"](7,0,null,0,1,"ion-icon",[["name","chevron-back-outline"]],null,[[null,"click"]],function(e,n,l){var t=!0;return"click"===n&&(t=!1!==e.component.app.back()&&t),t},S.vb,S.u)),t["ɵdid"](8,49152,null,0,R.D,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{name:[0,"name"]},null),(e()(),t["ɵeld"](9,0,null,0,2,"ion-title",[],null,null,null,S.Zb,S.Y)),t["ɵdid"](10,49152,null,0,R.yb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["ɵted"](11,0,["",""])),(e()(),t["ɵeld"](12,0,null,0,4,"ion-buttons",[["slot","end"]],null,null,null,S.gb,S.f)),t["ɵdid"](13,49152,null,0,R.m,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["ɵeld"](14,0,null,0,2,"ion-button",[["fill","clear"]],null,[[null,"click"]],function(e,n,l){var t=!0;return"click"===n&&(t=!1!==e.component.publish()&&t),t},S.fb,S.e)),t["ɵdid"](15,49152,null,0,R.l,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{fill:[0,"fill"]},null),(e()(),t["ɵted"](-1,0,["发布"])),(e()(),t["ɵeld"](17,0,null,null,6,"ion-content",[],null,null,null,S.ob,S.n)),t["ɵdid"](18,49152,null,0,R.v,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(e()(),t["ɵeld"](19,0,null,0,4,"div",[["class","list"]],null,null,null,null,null)),(e()(),t["ɵand"](16777216,null,null,1,null,G)),t["ɵdid"](21,278528,null,0,A.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),t["ɵand"](16777216,null,null,1,null,q)),t["ɵdid"](23,16384,null,0,A.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(e,n){var l=n.component;e(n,4,0,"ios"),e(n,8,0,"chevron-back-outline"),e(n,15,0,"clear"),e(n,21,0,l.models),e(n,23,0,l.radioAccess)},function(e,n){e(n,11,0,n.component.columnName)})}function K(e){return t["ɵvid"](0,[(e()(),t["ɵeld"](0,0,null,null,1,"app-publish-article",[],null,null,null,W,P)),t["ɵdid"](1,245760,null,0,b,[O.a,a.a,u.a,r.a,o.a,M.b,D.b,t.ComponentFactoryResolver,c.a,O.m,m.a,R.b,A.Location,h.a,v.b,f],null,null)],function(e,n){e(n,1,0)},null)}var Q=t["ɵccf"]("app-publish-article",b,K,{},{},[]),X=l("M2Lx"),ee=l("eDkP"),ne=l("Fzqc"),le=l("7inl"),te=l("4c35"),ie=l("dWZg"),ae=l("qAlS"),ue=function(){return function(){}}();l.d(n,"PublishArticleModuleNgFactory",function(){return re});var re=t["ɵcmf"](T,[],function(e){return t["ɵmod"]([t["ɵmpd"](512,t.ComponentFactoryResolver,t["ɵCodegenComponentFactoryResolver"],[[8,[y.a,E.a,E.n,E.b,E.d,E.f,E.c,E.e,Q]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["ɵmpd"](4608,A.NgLocalization,A.NgLocaleLocalization,[t.LOCALE_ID,[2,A["ɵangular_packages_common_common_a"]]]),t["ɵmpd"](4608,R.c,R.c,[t.NgZone,t.ApplicationRef]),t["ɵmpd"](4608,R.Fb,R.Fb,[R.c,t.ComponentFactoryResolver,t.Injector]),t["ɵmpd"](4608,R.Jb,R.Jb,[R.c,t.ComponentFactoryResolver,t.Injector]),t["ɵmpd"](4608,L.y,L.y,[]),t["ɵmpd"](4608,X.c,X.c,[]),t["ɵmpd"](5120,N.mb,N.Nc,[[3,N.mb],N.hb]),t["ɵmpd"](4608,ee.a,ee.a,[ee.g,ee.c,t.ComponentFactoryResolver,ee.f,ee.d,t.Injector,t.NgZone,A.DOCUMENT,ne.b,[2,A.Location]]),t["ɵmpd"](5120,ee.h,ee.i,[ee.a]),t["ɵmpd"](4608,N.Pc,N.Pc,[ee.a]),t["ɵmpd"](4608,N.g,N.g,[ee.a]),t["ɵmpd"](4608,N.Ic,N.Ic,[t.ApplicationRef,t.ComponentFactoryResolver,t.NgZone]),t["ɵmpd"](4608,L.d,L.d,[]),t["ɵmpd"](4608,N.k,N.k,[]),t["ɵmpd"](4608,N.sb,N.sb,[ee.a]),t["ɵmpd"](4608,N.P,N.P,[]),t["ɵmpd"](4608,N.Fb,N.Fb,[]),t["ɵmpd"](4608,N.Gb,N.Gb,[ee.a]),t["ɵmpd"](1073742336,A.CommonModule,A.CommonModule,[]),t["ɵmpd"](1073742336,O.n,O.n,[[2,O.s],[2,O.m]]),t["ɵmpd"](1073742336,R.Cb,R.Cb,[]),t["ɵmpd"](1073742336,le.a,le.a,[]),t["ɵmpd"](1073742336,L.x,L.x,[]),t["ɵmpd"](1073742336,L.i,L.i,[]),t["ɵmpd"](1073742336,N.i,N.i,[]),t["ɵmpd"](1073742336,N.D,N.D,[]),t["ɵmpd"](1073742336,X.d,X.d,[]),t["ɵmpd"](1073742336,N.Bc,N.Bc,[]),t["ɵmpd"](1073742336,N.m,N.m,[]),t["ɵmpd"](1073742336,N.xc,N.xc,[]),t["ɵmpd"](1073742336,N.cb,N.cb,[]),t["ɵmpd"](1073742336,N.Mc,N.Mc,[]),t["ɵmpd"](1073742336,N.Kc,N.Kc,[]),t["ɵmpd"](1073742336,N.kb,N.kb,[]),t["ɵmpd"](1073742336,N.p,N.p,[]),t["ɵmpd"](1073742336,N.uc,N.uc,[]),t["ɵmpd"](1073742336,N.lb,N.lb,[]),t["ɵmpd"](1073742336,N.cc,N.cc,[]),t["ɵmpd"](1073742336,N.nc,N.nc,[]),t["ɵmpd"](1073742336,N.pc,N.pc,[]),t["ɵmpd"](1073742336,N.J,N.J,[]),t["ɵmpd"](1073742336,N.Pb,N.Pb,[]),t["ɵmpd"](1073742336,N.ec,N.ec,[]),t["ɵmpd"](1073742336,N.F,N.F,[]),t["ɵmpd"](1073742336,ne.a,ne.a,[]),t["ɵmpd"](1073742336,te.c,te.c,[]),t["ɵmpd"](1073742336,ie.b,ie.b,[]),t["ɵmpd"](1073742336,ae.b,ae.b,[]),t["ɵmpd"](1073742336,ee.e,ee.e,[]),t["ɵmpd"](1073742336,N.xb,N.xb,[]),t["ɵmpd"](1073742336,N.f,N.f,[]),t["ɵmpd"](1073742336,N.c,N.c,[]),t["ɵmpd"](1073742336,N.zb,N.zb,[]),t["ɵmpd"](1073742336,N.Hc,N.Hc,[]),t["ɵmpd"](1073742336,N.Vb,N.Vb,[]),t["ɵmpd"](1073742336,L.u,L.u,[]),t["ɵmpd"](1073742336,N.gb,N.gb,[]),t["ɵmpd"](1073742336,N.qb,N.qb,[]),t["ɵmpd"](1073742336,N.Nb,N.Nb,[]),t["ɵmpd"](1073742336,N.Mb,N.Mb,[]),t["ɵmpd"](1073742336,N.vb,N.vb,[]),t["ɵmpd"](1073742336,N.O,N.O,[]),t["ɵmpd"](1073742336,N.R,N.R,[]),t["ɵmpd"](1073742336,N.u,N.u,[]),t["ɵmpd"](1073742336,N.Y,N.Y,[]),t["ɵmpd"](1073742336,N.Qc,N.Qc,[]),t["ɵmpd"](1073742336,N.ab,N.ab,[]),t["ɵmpd"](1073742336,N.ic,N.ic,[]),t["ɵmpd"](1073742336,N.Xb,N.Xb,[]),t["ɵmpd"](1073742336,N.Fc,N.Fc,[]),t["ɵmpd"](1073742336,N.Eb,N.Eb,[]),t["ɵmpd"](1073742336,N.Ib,N.Ib,[]),t["ɵmpd"](1073742336,N.eb,N.eb,[]),t["ɵmpd"](1073742336,N.Zb,N.Zb,[]),t["ɵmpd"](1073742336,N.Bb,N.Bb,[]),t["ɵmpd"](1073742336,N.Dc,N.Dc,[]),t["ɵmpd"](1073742336,N.ob,N.ob,[]),t["ɵmpd"](1073742336,N.V,N.V,[]),t["ɵmpd"](1073742336,N.Rb,N.Rb,[]),t["ɵmpd"](1073742336,N.sc,N.sc,[]),t["ɵmpd"](1073742336,N.wb,N.wb,[]),t["ɵmpd"](1073742336,ue,ue,[]),t["ɵmpd"](1073742336,T,T,[]),t["ɵmpd"](256,N.hb,void 0,[]),t["ɵmpd"](1024,O.k,function(){return[[{path:"",component:b,canDeactivate:[C.a]}]]},[])])})},TN67:function(e,n,l){"use strict";l.d(n,"a",function(){return d}),l.d(n,"b",function(){return c});var t=l("lbwW"),i=l("F/XL"),a=l("15JJ"),u=l("67Y/"),r=l("O0u2"),o=l("atIC"),s=l("CcnG"),d=function(e){return e[e.SELECT_PUBLIC_AREA=0]="SELECT_PUBLIC_AREA",e[e.SHORT_VIDEO_SHARE=1]="SHORT_VIDEO_SHARE",e[e.SHORT_VIDEO_SHARE_STB=2]="SHORT_VIDEO_SHARE_STB",e[e.LIVE_SHARE=3]="LIVE_SHARE",e[e.LIVE_SHARE_STB=4]="LIVE_SHARE_STB",e[e.ARTICLE_PUBLISH_AREA=5]="ARTICLE_PUBLISH_AREA",e[e.SELECT_BELONGS_AREA=6]="SELECT_BELONGS_AREA",e[e.ARTICLE_SHARE=7]="ARTICLE_SHARE",e}({}),c=function(){function e(e,n,l){this.aums=e,this.adminUserService=n,this.app=l,this.userSelectAllArea="",this.userSelectTown="",this.formatAreaTree=[]}return Object.defineProperty(e.prototype,"selectedAreaList",{get:function(){return this._selectedAreaList},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.shareShortVideoAreaTree=null,this.shareLiveAreaTree=null,this.articlePublishAreaTree=null,this.pageCount=1},e.prototype.addSelectedAreaList=function(e,n){void 0===n&&(n=!1),this._selectedAreaList&&!n||(this._selectedAreaList=[]),this._selectedAreaList.push(e)},e.prototype.getList=function(e){var n=this,l=e.areaId,t=e.upLevel;return Object(i.a)(this.businessType).pipe(Object(a.a)(function(e){switch(e){case d.SELECT_PUBLIC_AREA:case d.SELECT_BELONGS_AREA:return n.aums.getAreaList({areaId:l}).pipe(Object(u.a)(function(e){var n=e.data&&e.data.children;return Array.isArray(n)&&n.length?{status:"success",data:n}:Array.isArray(n)?{status:"empty"}:e}));case d.SHORT_VIDEO_SHARE:case d.SHORT_VIDEO_SHARE_STB:return n.getShareShortVideoAreaTree(l);case d.LIVE_SHARE:case d.LIVE_SHARE_STB:return n.getShareLiveAreaTree(t,l);case d.ARTICLE_PUBLISH_AREA:return n.getArticlePublishAreaTree(l);case d.ARTICLE_SHARE:return n.getShareArticleAreaTree(t,l)}}))},e.prototype.getShareShortVideoAreaTree=function(e){var n=this;if(e){var l=this.getChildrenAreaTreeByAreaId(this.shareShortVideoAreaTree,e);return Array.isArray(l)&&l.length?Object(i.a)({status:"success",data:l}):Object(i.a)({status:"error",message:"当前分享区域为空"})}return Object(i.a)(this.adminUserService.user).pipe(Object(a.a)(function(e){return e?n.aums.getShareShortVideoAreaTree({userId:e.id.toString(),userType:n.app.appConfig.aums.userType}).pipe(Object(u.a)(function(e){return"success"===e.status?(n.shareShortVideoAreaTree=n.convertToAreaList(e.data),{status:"success",data:n.shareShortVideoAreaTree}):e})):Object(i.a)({status:"error",message:"管理用户未登录！"})}))},e.prototype.getShareLiveAreaTree=function(e,n){var l=this;if(n){var t=this.getChildrenAreaTreeByAreaId(this.shareLiveAreaTree,n);return Array.isArray(t)&&t.length?Object(i.a)({status:"success",data:t}):Object(i.a)({status:"error",message:"当前分享区域为空"})}return Object(i.a)(this.adminUserService.user).pipe(Object(a.a)(function(n){return n?l.aums.getAreaListByAreaId({regionId:n.areaId,upperLevel:e,lowerLevel:7,needDetailInfo:!0}).pipe(Object(u.a)(function(e){return"success"===e.status?(l.shareLiveAreaTree=l.convertToAreaList(e.data),{status:"success",data:l.shareLiveAreaTree}):e})):Object(i.a)({status:"error",message:"管理用户未登录！"})}))},e.prototype.getShareArticleAreaTree=function(e,n){var l=this;if(n){var t=this.getChildrenAreaTreeByAreaId(this.shareArticleAreaTree,n);return Array.isArray(t)&&t.length?Object(i.a)({status:"success",data:t}):Object(i.a)({status:"error",message:"当前分享区域为空"})}return Object(i.a)(this.adminUserService.user).pipe(Object(a.a)(function(n){return n?l.aums.getAreaListByAreaId({regionId:n.areaId,upperLevel:e,lowerLevel:7,needDetailInfo:!0}).pipe(Object(u.a)(function(e){return"success"===e.status?(l.shareArticleAreaTree=l.convertToAreaList(e.data),{status:"success",data:l.shareArticleAreaTree}):e})):Object(i.a)({status:"error",message:"管理用户未登录！"})}))},e.prototype.getArticlePublishAreaTree=function(e){var n=this;if(e){var l=this.getChildrenAreaTreeByAreaId(this.articlePublishAreaTree,e);return Array.isArray(l)&&l.length?Object(i.a)({status:"success",data:l}):Object(i.a)({status:"error",message:"可发布区域为空"})}return Object(i.a)(this.adminUserService.user).pipe(Object(a.a)(function(e){return e?n.aums.articlePublishAreaTree({areaId:e.areaId}).pipe(Object(u.a)(function(e){return"success"===e.status?(n.articlePublishAreaTree=n.convertToAreaList(e.data[0]),{status:"success",data:n.articlePublishAreaTree}):e})):Object(i.a)({status:"error",message:"管理用户未登录！"})}))},e.prototype.convertToAreaList=function(e){var n,l;if(Array.isArray(e.upperRegion)&&e.upperRegion.length)for(var t=0;t<e.upperRegion.length;t++)0==t?n=[e.upperRegion[t]]:l&&(l.children=[e.upperRegion[t]]),l=e.upperRegion[t];return e.areaId&&e.areaName&&e.areaLevel&&(l?l.children=[{areaName:e.areaName,areaId:e.areaId,areaLevel:e.areaLevel,children:e.lowerRegion||[]}]:n=[{areaName:e.areaName,areaId:e.areaId,areaLevel:e.areaLevel,children:e.lowerRegion||[]}]),e.id&&e.text&&e.level&&(this.formatAreaTree=[],n=[{areaName:e.text,areaId:e.id,areaLevel:e.level,children:this.formatAreaList(e)}]),n},e.prototype.getChildrenAreaTreeByAreaId=function(e,n){var l;if(e)for(var t=0;t<e.length;t++)if(l=e[t].areaId===n?e[t].children:this.getChildrenAreaTreeByAreaId(e[t].children,n))return l;return l},e.prototype.formatAreaList=function(e,n){var l=this;return void 0===n&&(n=this.formatAreaTree),Array.isArray(e.children)&&e.children.length&&e.children.forEach(function(e,t){n.push({areaId:e.id,areaName:e.text,areaLevel:e.level,children:[]}),l.formatAreaList(e,n[t].children)}),this.formatAreaTree},e.ngInjectableDef=s["ɵɵdefineInjectable"]({factory:function(){return new e(s["ɵɵinject"](t.a),s["ɵɵinject"](r.a),s["ɵɵinject"](o.a))},token:e,providedIn:"root"}),e}()}}]);