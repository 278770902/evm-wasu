(window.webpackJsonp=window.webpackJsonp||[]).push([[125],{"0my4":function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),o=function(){return function(){}}(),u=t("pMnS"),i=t("MKJQ"),a=t("jy/b"),r=t("lnN7"),c=t("Z+Mw"),d=t("ZYjt"),s=t("Ip0R"),g=t("gIcY"),p=t("ENPE"),m=t("atIC"),h=t("B0rH"),f=function(){function n(n,l,t,e,o){this.location=n,this.commentService=l,this.app=t,this.utils=e,this.logger=o,this.placeholder="请输入内容，不得超过30字。",this.MAX_INPUT_LENGTH=60,this.emojiPattern=/[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF][\u200D|\uFE0F]|[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF]|[0-9|*|#]\uFE0F\u20E3|[0-9|#]\u20E3|[\u203C-\u3299]\uFE0F\u200D|[\u203C-\u3299]\uFE0F|[\u2122-\u2B55]|\u303D|[\A9|\AE]\u3030|\uA9|\uAE|\u3030/gi}return n.prototype.getLength=function(n){if(!n)return 0;for(var l=0,t=0;t<n.length;t++)n.charCodeAt(t)>255?l+=2:l+=1;return l},n.prototype.onContentChanged=function(n){if(this.emojiPattern.test(n.html)){this.utils.toast("fail","不支持Emoji表情");var l=this.filter(n.html);this.text=l}var t=n.html&&n.html.replace(/<(\/)?[a-z]*>/g,"")||"";this.getLength(t)>this.MAX_INPUT_LENGTH&&this.utils.toast("fail","评论不得超过30个字")},n.prototype.filter=function(n){return n&&(n=n.replace(this.emojiPattern,"")),n},n.prototype.submit=function(){var l=this.text&&this.text.replace(/<(\/)?[a-z]*>/g,"")||"";this.getLength(l)>this.MAX_INPUT_LENGTH?this.utils.toast("fail","评论内容不能超过30个字"):void 0!==this.text?(this.location.back(),this.commentService.makeComments.update(this.text),this.logger.warn(n.TAG+" update() 评论成功 "+this.text)):this.location.back()},n.TAG="EditorCommentPage",n}(),C=t("U3FM"),b=e["ɵcrt"]({encapsulation:0,styles:[[".ql-toolbar.ql-snow[_ngcontent-%COMP%]{padding:0}.submit[_ngcontent-%COMP%]{background-color:transparent;height:47px;width:47px;font-size:15px;color:#fff;margin-right:5px}.place-input[_ngcontent-%COMP%]{box-shadow:none;margin-top:2px;padding:12px 16px;height:100%;border-top:1px solid #ccc}.native-input.sc-ion-input-ios[_ngcontent-%COMP%]{padding:0;height:100%;line-height:1.42;font-size:12px}"]],data:{}});function v(n){return e["ɵvid"](0,[(n()(),e["ɵeld"](0,0,null,null,14,"ion-header",[],null,null,null,i.ub,i.t)),e["ɵdid"](1,49152,null,0,a.C,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(n()(),e["ɵeld"](2,0,null,0,12,"ion-toolbar",[["mode","ios"]],null,null,null,i.bc,i.ab)),e["ɵdid"](3,49152,null,0,a.Ab,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],{mode:[0,"mode"]},null),(n()(),e["ɵeld"](4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,i.gb,i.f)),e["ɵdid"](5,49152,null,0,a.m,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(n()(),e["ɵeld"](6,0,null,0,1,"ion-icon",[["name","chevron-back-outline"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.app.back()&&e),e},i.vb,i.u)),e["ɵdid"](7,49152,null,0,a.D,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],{name:[0,"name"]},null),(n()(),e["ɵeld"](8,0,null,0,2,"ion-title",[],null,null,null,i.Zb,i.Y)),e["ɵdid"](9,49152,null,0,a.yb,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(n()(),e["ɵted"](-1,0,["写评论"])),(n()(),e["ɵeld"](11,0,null,0,3,"ion-buttons",[["slot","end"]],null,null,null,i.gb,i.f)),e["ɵdid"](12,49152,null,0,a.m,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(n()(),e["ɵeld"](13,0,null,0,1,"button",[["class","submit"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.submit()&&e),e},null,null)),(n()(),e["ɵted"](-1,null,[" 确定 "])),(n()(),e["ɵeld"](15,0,null,null,10,"ion-content",[],null,null,null,i.ob,i.n)),e["ɵdid"](16,49152,null,0,a.v,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(n()(),e["ɵeld"](17,0,null,0,8,"quill-editor",[],[[8,"style",2],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onContentChanged"]],function(n,l,t){var e=!0,o=n.component;return"ngModelChange"===l&&(e=!1!==(o.text=t)&&e),"onContentChanged"===l&&(e=!1!==o.onContentChanged(t)&&e),e},r.b,r.a)),e["ɵdid"](18,4898816,null,0,c.b,[e.ElementRef,d.b,s.DOCUMENT,e.PLATFORM_ID,e.Renderer2,e.NgZone,c.a],{placeholder:[0,"placeholder"],maxLength:[1,"maxLength"]},{onContentChanged:"onContentChanged"}),e["ɵprd"](1024,null,g.l,function(n){return[n]},[c.b]),e["ɵprd"](1024,null,g.m,function(n){return[n]},[c.b]),e["ɵdid"](21,671744,null,0,g.r,[[8,null],[6,g.l],[8,null],[6,g.m]],{model:[0,"model"]},{update:"ngModelChange"}),e["ɵprd"](2048,null,g.n,null,[g.r]),e["ɵdid"](23,16384,null,0,g.o,[[4,g.n]],null,null),e["ɵpod"](24,{height:0}),(n()(),e["ɵeld"](25,0,null,0,0,"div",[["quill-editor-toolbar",""]],null,null,null,null,null))],function(n,l){var t=l.component;n(l,3,0,"ios"),n(l,7,0,"chevron-back-outline"),n(l,18,0,t.placeholder,5),n(l,21,0,t.text)},function(n,l){var t=n(l,24,0,"100%");n(l,17,0,t,e["ɵnov"](l,23).ngClassUntouched,e["ɵnov"](l,23).ngClassTouched,e["ɵnov"](l,23).ngClassPristine,e["ɵnov"](l,23).ngClassDirty,e["ɵnov"](l,23).ngClassValid,e["ɵnov"](l,23).ngClassInvalid,e["ɵnov"](l,23).ngClassPending)})}function E(n){return e["ɵvid"](0,[(n()(),e["ɵeld"](0,0,null,null,1,"app-editor-comment",[],null,null,null,v,b)),e["ɵdid"](1,49152,null,0,f,[s.Location,p.a,m.a,h.a,C.b],null,null)],null,null)}var D=e["ɵccf"]("app-editor-comment",f,E,{},{},[]),R=t("ZYCi"),F=function(){return function(){}}();t.d(l,"EditorCommentPageModuleNgFactory",function(){return N});var N=e["ɵcmf"](o,[],function(n){return e["ɵmod"]([e["ɵmpd"](512,e.ComponentFactoryResolver,e["ɵCodegenComponentFactoryResolver"],[[8,[u.a,D]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["ɵmpd"](4608,s.NgLocalization,s.NgLocaleLocalization,[e.LOCALE_ID,[2,s["ɵangular_packages_common_common_a"]]]),e["ɵmpd"](4608,g.y,g.y,[]),e["ɵmpd"](4608,a.c,a.c,[e.NgZone,e.ApplicationRef]),e["ɵmpd"](4608,a.Fb,a.Fb,[a.c,e.ComponentFactoryResolver,e.Injector]),e["ɵmpd"](4608,a.Jb,a.Jb,[a.c,e.ComponentFactoryResolver,e.Injector]),e["ɵmpd"](1073742336,s.CommonModule,s.CommonModule,[]),e["ɵmpd"](1073742336,g.x,g.x,[]),e["ɵmpd"](1073742336,g.i,g.i,[]),e["ɵmpd"](1073742336,a.Cb,a.Cb,[]),e["ɵmpd"](1073742336,R.n,R.n,[[2,R.s],[2,R.m]]),e["ɵmpd"](1073742336,F,F,[]),e["ɵmpd"](1073742336,c.c,c.c,[]),e["ɵmpd"](1073742336,o,o,[]),e["ɵmpd"](1024,R.k,function(){return[[{path:"",component:f}]]},[])])})},ENPE:function(n,l,t){"use strict";t.d(l,"a",function(){return o});var e=t("CcnG"),o=function(){function n(){}return n.ngInjectableDef=e["ɵɵdefineInjectable"]({factory:function(){return new n},token:n,providedIn:"root"}),n}()}}]);