(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{"/7xp":function(n,t,l){"use strict";l.d(t,"a",function(){return e});var e=function(){return function(){}}()},CYnb:function(n,t,l){"use strict";var e=l("CcnG"),i=l("MKJQ"),u=l("jy/b"),o=l("Ip0R"),c=function(){function n(){this.status="inactive",this.refetch=new e.EventEmitter}return n.prototype.ngOnInit=function(){},n.prototype.onRefetch=function(){this.refetch.emit()},n}(),r=e["ɵcrt"]({encapsulation:0,styles:[[".infinite-content[_ngcontent-%COMP%]{height:42px;display:flex;justify-content:center;align-items:center;font-size:12px;color:var(--text-color-secondary)}.infinite-content[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin-right:5px}.infinite-content[_ngcontent-%COMP%]   .loading-box[_ngcontent-%COMP%]{position:relative;overflow:hidden}.infinite-content[_ngcontent-%COMP%]   .loading-box[_ngcontent-%COMP%]   .mask[_ngcontent-%COMP%]{position:absolute;left:-36px;top:-9px;width:154px;height:34px;background:linear-gradient(to right,rgba(255,255,255,.45) 0,rgba(255,255,255,.75) 5%,rgba(255,255,255,.45) 10%,transparent 10%,transparent 100%);background-size:154px 34px;-webkit-animation-duration:3s;animation-duration:3s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:shimmer;animation-name:shimmer;-webkit-animation-timing-function:linear;animation-timing-function:linear;transform:rotate(15deg)}@-webkit-keyframes shimmer{0%{background-position:-154px 0}100%{background-position:154px 0}}@keyframes shimmer{0%{background-position:-154px 0}100%{background-position:154px 0}}"]],data:{}});function a(n){return e["ɵvid"](0,[(n()(),e["ɵeld"](0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),e["ɵeld"](1,0,null,null,3,"div",[["class","loading-box"]],null,null,null,null,null)),(n()(),e["ɵeld"](2,0,null,null,0,"div",[["class","mask"]],null,null,null,null,null)),(n()(),e["ɵeld"](3,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),e["ɵted"](-1,null,["正在努力加载"]))],null,null)}function s(n){return e["ɵvid"](0,[(n()(),e["ɵeld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e["ɵeld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e["ɵted"](-1,null,["加载成功"]))],null,null)}function d(n){return e["ɵvid"](0,[(n()(),e["ɵeld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e["ɵeld"](1,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e["ɵted"](-1,null,["没有更多了"]))],null,null)}function f(n){return e["ɵvid"](0,[(n()(),e["ɵeld"](0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e["ɵeld"](1,0,null,null,1,"span",[],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.onRefetch()&&e),e},null,null)),(n()(),e["ɵted"](-1,null,["加载失败，请点击刷新"]))],null,null)}function p(n){return e["ɵvid"](0,[(n()(),e["ɵeld"](0,0,null,null,10,"div",[["class","infinite-content"]],null,null,null,null,null)),(n()(),e["ɵeld"](1,0,null,null,9,null,null,null,null,null,null,null)),e["ɵdid"](2,16384,null,0,o.NgSwitch,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),e["ɵand"](16777216,null,null,1,null,a)),e["ɵdid"](4,278528,null,0,o.NgSwitchCase,[e.ViewContainerRef,e.TemplateRef,o.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e["ɵand"](16777216,null,null,1,null,s)),e["ɵdid"](6,278528,null,0,o.NgSwitchCase,[e.ViewContainerRef,e.TemplateRef,o.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e["ɵand"](16777216,null,null,1,null,d)),e["ɵdid"](8,278528,null,0,o.NgSwitchCase,[e.ViewContainerRef,e.TemplateRef,o.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null),(n()(),e["ɵand"](16777216,null,null,1,null,f)),e["ɵdid"](10,278528,null,0,o.NgSwitchCase,[e.ViewContainerRef,e.TemplateRef,o.NgSwitch],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(n,t){n(t,2,0,t.component.status),n(t,4,0,"loading"),n(t,6,0,"success"),n(t,8,0,"empty"),n(t,10,0,"error")},null)}l("ucSS"),l("U3FM"),l.d(t,"a",function(){return g}),l.d(t,"b",function(){return m});var g=e["ɵcrt"]({encapsulation:0,styles:[[""]],data:{}});function m(n){return e["ɵvid"](0,[e["ɵqud"](671088640,1,{infiniteScroll:0}),(n()(),e["ɵeld"](1,0,null,null,3,"ion-infinite-scroll",[],null,[[null,"ionInfinite"]],function(n,t,l){var e=!0;return"ionInfinite"===t&&(e=!1!==n.component.doInfinite(l)&&e),e},i.yb,i.w)),e["ɵdid"](2,49152,[[1,4]],0,u.F,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],{threshold:[0,"threshold"]},null),(n()(),e["ɵeld"](3,0,null,0,1,"app-custom-infinite-scroll-content",[],null,[[null,"refetch"]],function(n,t,l){var e=!0;return"refetch"===t&&(e=!1!==n.component.doInfinite()&&e),e},p,r)),e["ɵdid"](4,114688,null,0,c,[],{status:[0,"status"]},{refetch:"refetch"})],function(n,t){var l=t.component;n(t,2,0,l.threshold),n(t,4,0,l.status)},null)}},lkOh:function(n,t,l){"use strict";l.r(t);var e=l("CcnG"),i=l("atIC"),u=l("/BJd"),o=l("67Y/"),c=function(){function n(n){this.edumsService=n}return n.prototype.selectPlayRecord=function(n,t,l){return void 0===t&&(t=1),void 0===l&&(l=10),this.edumsService.selectPlayRecord({page:t,rows:l,stuid:n})},n.prototype.getStuTestPaperList=function(n,t,l){return void 0===t&&(t=1),void 0===l&&(l=10),this.edumsService.getStuTestPaperList({page:t,rows:l,studentid:n}).pipe(Object(o.a)(function(n){return"success"===n.status?{status:"success",data:n.data.filter(function(n){return 1===n.submitState})}:n}))},n}(),r=function(){function n(n,t,l,e,i){this.app=n,this.logger=t,this.studyRecordService=l,this.route=e,this.edums=i,this.cName="学习记录",this.columns=["学习记录","考试记录"],this.curColumn=this.columns[0],this.page=1,this.infiniteStatus="active"}return n.prototype.ngOnInit=function(){var n=this;this.route.data.subscribe(function(t){n.userInfo=t.userInfo,n.pageInit()})},n.prototype.pageInit=function(){this.getStudyRecord()},n.prototype.changeColumn=function(t){switch(this.logger.log(n.TAG+" changeColumn() 栏目改变："+JSON.stringify(t)),this.logger.log(n.TAG+" changeColumn() 当前栏目："+this.curColumn),this.infiniteStatus="active",this.page=1,this.curColumn){case"学习记录":this.getStudyRecord();break;case"考试记录":this.getStuTestPaperList()}},n.prototype.getStudyRecord=function(n){var t=this;if(void 0===n&&(n=1),this.edums.userInfo&&1!==this.edums.userInfo.ckstate)return this.studyRecord=[],void(this.infiniteStatus="success");this.studyRecordService.selectPlayRecord(+this.userInfo.id,n).subscribe(function(l){"success"===l.status?(t.studyRecord=1===n?l.data:t.studyRecord.concat(l.data),t.infiniteStatus="success"):t.infiniteStatus="empty"},function(n){t.infiniteStatus="error"})},n.prototype.getStuTestPaperList=function(n){var t=this;void 0===n&&(n=1),this.studyRecordService.getStuTestPaperList(+this.userInfo.id,n).subscribe(function(l){"success"===l.status?(t.examRecord=1===n?l.data:t.examRecord.concat(l.data),t.examRecord.length<15&&(t.page++,t.getStuTestPaperList(t.page)),t.infiniteStatus="success"):t.infiniteStatus="empty"},function(n){t.infiniteStatus="error"})},n.prototype.onInfinite=function(n){this.page++,this.getStudyRecord(this.page)},n.TAG="StudyRecordComponent",n}(),a=function(){return function(){}}(),s=l("pMnS"),d=l("MKJQ"),f=l("jy/b"),p=l("Ip0R"),g=l("fCh1"),m=l("F/XL"),h=l("xzkB"),b=l("9Z1F"),v=l("B0rH"),y=function(){function n(n,t,l,e){this.nativeBridge=n,this.vrmsService=t,this.utils=l,this.edums=e,this.edums.userInfo&&1!==this.edums.userInfo.ckstate&&(this.data=[])}return n.prototype.ngOnInit=function(){},n.prototype.trackByFun=function(n,t){return t.id},n.prototype.durationFormat=function(n){var t=Math.floor(n/1e3/60/60);t=t>9?t.toString():"0"+t;var l=Math.floor(n/1e3/60%60);l=l>9?l.toString():"0"+l;var e=Math.floor(n/1e3%60);return t+":"+l+":"+(e>9?e.toString():"0"+e)},n.prototype.PlayContinues=function(n){var t=this;this.getVideoPlayUrl(n.playNameID).subscribe(function(l){l?t.nativeBridge.invoke({method:g.b.METHOD_PLAY_MONITOR},l,n.playName,n.playNameID,n.playColumn,n.playColumnID,n.stbNumber):t.utils.toast("fail","视频地址获取失败！",2e3,function(){})},function(n){t.utils.toast("fail","视频地址获取失败！",2e3,function(){})})},n.prototype.getVideoPlayUrl=function(n){return this.vrmsService.getMediaDetail({videoGuid:n}).pipe(Object(o.a)(function(n){return"success"===n.status?n.data.playurl:""}),Object(b.a)(function(n){return Object(m.a)("")}))},n}(),C=e["ɵcrt"]({encapsulation:0,styles:[[".study-record-video[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start:0;--inner-padding-end:0}.study-record-video[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{width:40px;height:auto}.study-record-video[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{padding-left:16px}.study-record-video[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;padding-bottom:6px}.study-record-video[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#8b8b8b}.study-record-video[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;padding-top:20px;color:#df2d20;line-height:20px;text-align:center}"]],data:{}});function S(n){return e["ɵvid"](0,[(n()(),e["ɵeld"](0,0,null,null,10,"ion-item",[],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.PlayContinues(n.context.$implicit)&&e),e},d.Db,d.z)),e["ɵdid"](1,49152,null,0,f.I,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(n()(),e["ɵeld"](2,0,null,0,2,"ion-thumbnail",[],null,null,null,d.Yb,d.X)),e["ɵdid"](3,49152,null,0,f.xb,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(n()(),e["ɵeld"](4,0,null,0,0,"img",[["alt","视频"],["src","assets/images/banna/icon.png"]],null,null,null,null,null)),(n()(),e["ɵeld"](5,0,null,0,5,"ion-label",[],null,null,null,d.Eb,d.D)),e["ɵdid"](6,49152,null,0,f.O,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(n()(),e["ɵeld"](7,0,null,0,1,"h4",[],null,null,null,null,null)),(n()(),e["ɵted"](8,null,[" 课程："," "])),(n()(),e["ɵeld"](9,0,null,0,1,"span",[],null,null,null,null,null)),(n()(),e["ɵted"](10,null,[" 观看时长："," "]))],null,function(n,t){var l=t.component;n(t,8,0,t.context.$implicit.playName),n(t,10,0,l.durationFormat(t.context.$implicit.videoDuration))})}function R(n){return e["ɵvid"](0,[(n()(),e["ɵeld"](0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e["ɵted"](-1,null,[" 暂无课程学习记录 "]))],null,null)}function w(n){return e["ɵvid"](0,[(n()(),e["ɵeld"](0,0,null,null,6,"div",[["class","study-record-video ion-padding-horizontal"]],null,null,null,null,null)),(n()(),e["ɵeld"](1,0,null,null,3,"ion-list",[["class","ion-no-padding"]],null,null,null,d.Gb,d.E)),e["ɵdid"](2,49152,null,0,f.P,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(n()(),e["ɵand"](16777216,null,0,1,null,S)),e["ɵdid"](4,278528,null,0,p.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(n()(),e["ɵand"](16777216,null,null,1,null,R)),e["ɵdid"](6,16384,null,0,p.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,t){var l=t.component;n(t,4,0,l.data,l.trackByFun),n(t,6,0,!(null!=l.data&&l.data.length))},null)}var O=l("CYnb"),I=l("ucSS"),M=l("U3FM"),P=l("ZYCi"),k=e["ɵcrt"]({encapsulation:0,styles:[[".study-record[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:url('banna-top-bg.7bbb792759a4aad1625b.png') center/100% no-repeat;--min-height:60px}.study-record[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]{--background:#f4f4f4;padding:0 16px}.study-record[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{font-size:15px;font-weight:700}"]],data:{}});function x(n){return e["ɵvid"](0,[(n()(),e["ɵeld"](0,0,null,null,18,"ion-app",[["class","study-record"]],null,null,null,d.bb,d.a)),e["ɵdid"](1,49152,null,0,f.f,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(n()(),e["ɵeld"](2,0,null,0,10,"ion-header",[["class","ion-no-border"]],null,null,null,d.ub,d.t)),e["ɵdid"](3,49152,null,0,f.C,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(n()(),e["ɵeld"](4,0,null,0,8,"ion-toolbar",[["mode","ios"]],null,null,null,d.bc,d.ab)),e["ɵdid"](5,49152,null,0,f.Ab,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],{mode:[0,"mode"]},null),(n()(),e["ɵeld"](6,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,d.gb,d.f)),e["ɵdid"](7,49152,null,0,f.m,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(n()(),e["ɵeld"](8,0,null,0,1,"ion-icon",[["name","chevron-back-outline"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.app.back()&&e),e},d.vb,d.u)),e["ɵdid"](9,49152,null,0,f.D,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],{name:[0,"name"]},null),(n()(),e["ɵeld"](10,0,null,0,2,"ion-title",[],null,null,null,d.Zb,d.Y)),e["ɵdid"](11,49152,null,0,f.yb,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(n()(),e["ɵted"](12,0,[" "," "])),(n()(),e["ɵeld"](13,0,null,0,5,"ion-content",[],null,null,null,d.ob,d.n)),e["ɵdid"](14,49152,null,0,f.v,[e.ChangeDetectorRef,e.ElementRef,e.NgZone],null,null),(n()(),e["ɵeld"](15,0,null,0,1,"evm-study-record-video",[],null,null,null,w,C)),e["ɵdid"](16,114688,null,0,y,[g.b,h.a,v.a,u.a],{data:[0,"data"]},null),(n()(),e["ɵeld"](17,0,null,0,1,"app-custom-infinite-scroll",[],null,[[null,"ionInfinite"]],function(n,t,l){var e=!0;return"ionInfinite"===t&&(e=!1!==n.component.onInfinite(l)&&e),e},O.b,O.a)),e["ɵdid"](18,4833280,null,0,I.a,[M.b],{status:[0,"status"]},{ionInfinite:"ionInfinite"})],function(n,t){var l=t.component;n(t,5,0,"ios"),n(t,9,0,"chevron-back-outline"),n(t,16,0,l.studyRecord),n(t,18,0,l.infiniteStatus)},function(n,t){n(t,12,0,t.component.cName)})}function N(n){return e["ɵvid"](0,[(n()(),e["ɵeld"](0,0,null,null,1,"evm-study-record",[],null,null,null,x,k)),e["ɵdid"](1,114688,null,0,r,[i.a,M.b,c,P.a,u.a],null,null)],function(n,t){n(t,1,0)},null)}var _=e["ɵccf"]("evm-study-record",r,N,{},{},[]),D=l("gIcY"),F=function(){return function(){}}(),T=function(){return function(){}}(),E=l("yH+W"),Z=l("/7xp");l.d(t,"StudyRecordComponentModuleNgFactory",function(){return V});var V=e["ɵcmf"](a,[],function(n){return e["ɵmod"]([e["ɵmpd"](512,e.ComponentFactoryResolver,e["ɵCodegenComponentFactoryResolver"],[[8,[s.a,_]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["ɵmpd"](4608,p.NgLocalization,p.NgLocaleLocalization,[e.LOCALE_ID,[2,p["ɵangular_packages_common_common_a"]]]),e["ɵmpd"](4608,D.y,D.y,[]),e["ɵmpd"](4608,f.c,f.c,[e.NgZone,e.ApplicationRef]),e["ɵmpd"](4608,f.Fb,f.Fb,[f.c,e.ComponentFactoryResolver,e.Injector]),e["ɵmpd"](4608,f.Jb,f.Jb,[f.c,e.ComponentFactoryResolver,e.Injector]),e["ɵmpd"](4608,c,c,[u.a]),e["ɵmpd"](1073742336,p.CommonModule,p.CommonModule,[]),e["ɵmpd"](1073742336,D.x,D.x,[]),e["ɵmpd"](1073742336,D.i,D.i,[]),e["ɵmpd"](1073742336,f.Cb,f.Cb,[]),e["ɵmpd"](1073742336,F,F,[]),e["ɵmpd"](1073742336,T,T,[]),e["ɵmpd"](1073742336,E.a,E.a,[]),e["ɵmpd"](1073742336,Z.a,Z.a,[]),e["ɵmpd"](1073742336,P.n,P.n,[[2,P.s],[2,P.m]]),e["ɵmpd"](1073742336,a,a,[]),e["ɵmpd"](1024,P.k,function(){return[[{path:"",component:r}]]},[])])})},ucSS:function(n,t,l){"use strict";l.d(t,"a",function(){return i});var e=l("CcnG"),i=function(){function n(n){this.logger=n,this.ionInfinite=new e.EventEmitter,this.threshold="10px",this.actions=[]}return n.prototype.ngOnInit=function(){},n.prototype.ngOnChanges=function(t){if(t.status&&t.status.currentValue!==t.status.previousValue)switch(this.logger.debug(n.TAG+" ngOnChanges() currentValue: "+t.status.currentValue),t.status.currentValue){case"success":case"empty":case"error":this.complete();break;case"inactive":this.disable();break;case"active":this.enable()}},n.prototype.ngAfterViewInit=function(){var n=this;this.actions.forEach(function(t){t.bind(n)()})},n.prototype.doInfinite=function(t){this.logger.debug(n.TAG+" doInfinite() event: "+JSON.stringify(t)),this.ionInfinite.emit(t)},n.prototype.complete=function(){this.infiniteScroll?this.infiniteScroll.complete():this.actions.push(this.complete)},n.prototype.disable=function(){this.infiniteScroll?this.infiniteScroll.disabled=!0:this.actions.push(this.disable)},n.prototype.enable=function(){this.infiniteScroll?this.infiniteScroll.disabled=!1:this.actions.push(this.enable)},n.TAG="CustomInfiniteScrollComponent",n}()},"yH+W":function(n,t,l){"use strict";l.d(t,"a",function(){return e});var e=function(){return function(){}}()}}]);