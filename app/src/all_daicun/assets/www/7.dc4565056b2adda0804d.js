(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"4tQ3":function(n,e,l){"use strict";l.d(e,"a",function(){return u}),l("B0rH"),l("lbwW"),l("O0u2"),l("atIC");var t=l("TN67"),a=l("1FC6"),r=(l("fQKf"),l("fCh1")),u=function(){function n(n,e,l,t,a,r,u,i,o){this.nativeBridgeService=n,this.actionSheetCtrl=e,this.utils=l,this.aums=t,this.adminUserService=a,this.app=r,this.areaTreeService=u,this.router=i,this.shortVideoService=o,this.shortVideoOnlineSwitch=!1,this.checkNameList=["待审核","通过审核","不通过审核"],this.onlineNameList=["下线","上线"]}return n.prototype.ngOnInit=function(){this.shortVideoOnlineSwitch=this.app.getFeatureConfig("shortVideoOnlineSwitch")},n.prototype.ngOnDestroy=function(){},n.prototype.play=function(){this.nativeBridgeService.invoke({method:r.b.METHOD_PLAY_VIDEO},this.data.raw.clientPlayUrl,this.data.raw.isHorizontal)},n.prototype.check=function(){var n=this,e=this.checkNameList[this.data.raw.checkStatus];if(e){var l=function(e){var l=n.adminUserService.user;l?n.aums.checkShortVideo({userId:l.id,userType:n.app.appConfig.aums.userType,shortVideoId:n.data.raw.id,checkStatus:e}).subscribe(function(l){"success"===l.status?(n.data.raw.checkStatus=e,n.utils.toast("success","更新短视频状态为"+n.checkNameList[e])):n.utils.toast("fail","更新短视频状态失败，请稍后再试!")}):n.utils.toast("fail","您没有权限操作！")};this.actionSheetCtrl.create({header:"短视频审核",buttons:[{text:"待审核",handler:function(){l(0)}},{text:"通过审核",handler:function(){l(1)}},{text:"不通过审核",handler:function(){l(2)}},{text:"关闭",handler:function(){}}].filter(function(n){return n.text!==e})}).then(function(n){n.present()})}else this.utils.toast("fail","未知审核状态")},n.prototype.share=function(){var n=this;this.areaTreeService.businessType=t.a.SHORT_VIDEO_SHARE,this.areaTreeService.reset();var e=this.app.appChannel.subscribe(function(l){l.type===a.a.SELECTAREA&&n.areaTreeService.businessType===t.a.SHORT_VIDEO_SHARE&&(n.postShareArea(l.data.areaId,l.data.areaName),e.unsubscribe())});this.router.navigate(["/standard/area-tree"])},n.prototype.shareStb=function(){var n=this;this.shortVideoService.getAdminShareUser().subscribe(function(e){if(e&&1==e.devicePublishPower){var l=n.adminUserService.user;if(l){var r=[{text:"分享到可观看区域",handler:function(){n.areaTreeService.businessType=t.a.SHORT_VIDEO_SHARE_STB,n.areaTreeService.reset();var e=n.app.appChannel.subscribe(function(r){r.type===a.a.SELECTAREA&&n.areaTreeService.businessType===t.a.SHORT_VIDEO_SHARE_STB&&(n.aums.shareShortVideoListToStb({userId:l.id.toString(),userType:n.app.appConfig.aums.userType,shortVideoId:n.data.raw.id,areaId:r.data.areaId}).subscribe(function(e){"success"===e.status&&(n.utils.toast("success","分享到机顶盒成功"),n.data.raw.stbPlayAreaName=r.data.areaName,n.data.raw.stbPlayPower=1)}),e.unsubscribe())});n.router.navigate(["/standard/area-tree"])}},{text:"取消观看",handler:function(){n.aums.shareShortVideoListToStb({userId:l.id.toString(),userType:n.app.appConfig.aums.userType,shortVideoId:n.data.raw.id,areaId:"0"}).subscribe(function(e){"success"===e.status&&(n.utils.toast("success","取消分享到机顶盒成功"),n.data.raw.stbPlayAreaName="",n.data.raw.stbPlayPower=0)})}},{text:"关闭",handler:function(){}}];n.actionSheetCtrl.create({header:"设置机顶盒是否观看？",buttons:r}).then(function(n){n.present()})}else n.utils.toast("fail","管理用户未登录！")}else n.utils.toast("fail","当前用户没有分享到机顶盒权限！")})},n.prototype.postShareArea=function(n,e){var l=this,t=this.adminUserService.user;t?this.aums.shareShortVideoListToClient({userId:t.id.toString(),userType:this.app.appConfig.aums.userType,shortVideoId:this.data.raw.id,areaId:n}).subscribe(function(n){"success"===n.status&&(l.utils.toast("success","分享区域设置成功！"),l.data.raw.clientPlayAreaName=e,l.data.raw.clientPlayPower=1)}):this.utils.toast("fail","管理员未登录！")},n.prototype.switchOnline=function(){var n,e,l=this;this.onlineNameList[this.data.raw.publishStatus||0]?(n=1===this.data.raw.publishStatus?0:1,(e=l.adminUserService.user)?l.aums.publishShortVideo({userId:e.id,userType:l.app.appConfig.aums.userType,shortVideoId:l.data.raw.id,publishStatus:n}).subscribe(function(e){"success"===e.status?(l.data.raw.publishStatus=n,l.utils.toast("success","短视频"+l.onlineNameList[n]+"成功")):l.utils.toast("fail","短视频"+l.onlineNameList[n]+"失败，请稍后再试!")}):l.utils.toast("fail","您没有权限操作！")):this.utils.toast("fail","未知状态")},n}()},Cct2:function(n,e,l){"use strict";l.d(e,"a",function(){return t});var t=function(){return function(){}}()},DRql:function(n,e,l){"use strict";var t=l("CcnG"),a=l("MKJQ"),r=l("jy/b");l("jc1A"),l("fCh1"),l("h1wG"),l("lbwW"),l("atIC"),l("B0rH"),l.d(e,"a",function(){return u}),l.d(e,"b",function(){return i});var u=t["ɵcrt"]({encapsulation:0,styles:[['.img-box[_ngcontent-%COMP%]{position:relative;height:180px;overflow:hidden}.img-box[_ngcontent-%COMP%]   .player-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:990}.img-box[_ngcontent-%COMP%]   .player-icon[_ngcontent-%COMP%]:before{width:50px;height:50px;background-position:0 0;background-image:url(player-bg.31ab007ab42a1f30c2dd.png);background-size:100px 150px;display:inline-block;background-repeat:no-repeat;content:""}.title-box[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;z-index:100;padding:12px 8px 0;color:#fff}.title-box[_ngcontent-%COMP%]:before{position:absolute;left:0;top:0;right:0;content:"";z-index:-1;height:48px;background-image:linear-gradient(to bottom,rgba(0,0,0,.5) 0,rgba(0,0,0,0) 100%);background-repeat:repeat-x}.title-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:var(--font-size-md);font-weight:700;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.sub-title[_ngcontent-%COMP%]{display:flex;align-items:center}.sub-title[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:6px;border-radius:15px;background-color:var(--ion-color-light)}.sub-title[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{color:var(--text-color-title)}.sub-title[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{color:var(--text-color-secondary);font-size:var(--font-size-xs);transform-origin:0 0}.action[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;border-top:1px solid #eee;padding-top:8px}']],data:{}});function i(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,25,"ion-card",[],null,null,null,a.lb,a.g)),t["ɵdid"](1,49152,null,0,r.n,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](2,0,null,0,5,"div",[["class","img-box"]],null,[[null,"click"]],function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.play()&&t),t},null,null)),(n()(),t["ɵeld"](3,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),t["ɵeld"](4,0,null,null,0,"div",[["class","player-icon"]],null,null,null,null,null)),(n()(),t["ɵeld"](5,0,null,null,2,"div",[["class","title-box"]],null,null,null,null,null)),(n()(),t["ɵeld"](6,0,null,null,1,"div",[["class","title"]],null,null,null,null,null)),(n()(),t["ɵted"](7,null,["",""])),(n()(),t["ɵeld"](8,0,null,0,11,"ion-card-header",[],null,null,null,a.ib,a.i)),t["ɵdid"](9,49152,null,0,r.p,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](10,0,null,0,9,"ion-card-subtitle",[],null,null,null,a.jb,a.j)),t["ɵdid"](11,49152,null,0,r.q,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](12,0,null,0,7,"div",[["class","sub-title"]],null,null,null,null,null)),(n()(),t["ɵeld"](13,0,null,null,1,"div",[["class","avatar"]],null,null,null,null,null)),(n()(),t["ɵeld"](14,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),t["ɵeld"](15,0,null,null,4,"div",[["class","author-box"]],null,null,null,null,null)),(n()(),t["ɵeld"](16,0,null,null,1,"div",[["class","author"]],null,null,null,null,null)),(n()(),t["ɵted"](17,null,["",""])),(n()(),t["ɵeld"](18,0,null,null,1,"div",[["class","location"]],null,null,null,null,null)),(n()(),t["ɵted"](19,null,["",""])),(n()(),t["ɵeld"](20,0,null,0,5,"ion-card-content",[],null,null,null,a.hb,a.h)),t["ɵdid"](21,49152,null,0,r.o,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](22,0,null,0,3,"div",[["class","action"]],null,null,null,null,null)),(n()(),t["ɵeld"](23,0,null,null,2,"ion-button",[["color","danger"],["fill","outline"],["shape","round"],["size","small"]],null,[[null,"click"]],function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.onDelete()&&t),t},a.fb,a.e)),t["ɵdid"](24,49152,null,0,r.l,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"],fill:[1,"fill"],shape:[2,"shape"],size:[3,"size"]},null),(n()(),t["ɵted"](-1,0,["删除"]))],function(n,e){n(e,24,0,"danger","outline","round","small")},function(n,e){var l=e.component;n(e,3,0,null==l.data?null:l.data.imageUrl),n(e,7,0,null==l.data?null:l.data.title),n(e,14,0,(null==l.data?null:l.data.avatar)||"assets/images/common/default-avatar.png"),n(e,17,0,(null==l.data?null:l.data.author)||"已删除"),n(e,19,0,null==l.data?null:l.data.area)})}},KlRW:function(n,e,l){"use strict";var t=l("CcnG"),a=l("tW7o"),r=l("mviv"),u=l("nWGD"),i=l("3+oq"),o=l("LvKh"),s=l("Htlr"),c=t["ɵcrt"]({encapsulation:2,styles:["\n        vg-overlay-play {\n            z-index: 200;\n        }\n\n        vg-overlay-play.is-buffering {\n            display: none;\n        }\n\n        vg-overlay-play .vg-overlay-play {\n            transition: all 0.5s;\n            cursor: pointer;\n            position: absolute;\n            display: block;\n            color: white;\n            width: 100%;\n            height: 100%;\n            font-size: 80px;\n            filter: alpha(opacity=60);\n            opacity: 0.6;\n        }\n\n        vg-overlay-play .vg-overlay-play.native-fullscreen.controls-hidden {\n            cursor: none;\n        }\n\n        vg-overlay-play .vg-overlay-play .overlay-play-container.vg-icon-play_arrow {\n            pointer-events: none;\n            width: 100%;\n            height: 100%;\n            position: absolute;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 80px;\n        }\n\n        vg-overlay-play .vg-overlay-play:hover {\n            filter: alpha(opacity=100);\n            opacity: 1;\n        }\n\n        vg-overlay-play .vg-overlay-play:hover .overlay-play-container.vg-icon-play_arrow:before {\n            transform: scale(1.2);\n        }\n    "],data:{}});function d(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"div",[["class","vg-overlay-play"]],[[2,"native-fullscreen",null],[2,"controls-hidden",null]],null,null,null,null)),(n()(),t["ɵeld"](1,0,null,null,0,"div",[["class","overlay-play-container"]],[[2,"vg-icon-play_arrow",null]],null,null,null,null))],null,function(n,e){var l=e.component;n(e,0,0,l.isNativeFullscreen,l.areControlsHidden),n(e,1,0,"playing"!==l.getState())})}var p=l("nhFB"),g=t["ɵcrt"]({encapsulation:2,styles:["\n        vg-buffering {\n            display: none;\n            z-index: 201;\n        }\n\n        vg-buffering.is-buffering {\n            display: block;\n        }\n        \n        .vg-buffering {\n            position: absolute;\n            display: block;\n            width: 100%;\n            height: 100%;\n        }\n\n        .vg-buffering .bufferingContainer {\n            width: 100%;\n            position: absolute;\n            cursor: pointer;\n            top: 50%;\n            margin-top: -50px;\n\n            zoom: 1;\n            filter: alpha(opacity=60);\n            opacity: 0.6;\n        }\n\n        \n        .vg-buffering .loadingSpinner {\n            background-color: rgba(0, 0, 0, 0);\n            border: 5px solid rgba(255, 255, 255, 1);\n            opacity: .9;\n            border-top: 5px solid rgba(0, 0, 0, 0);\n            border-left: 5px solid rgba(0, 0, 0, 0);\n            border-radius: 50px;\n            box-shadow: 0 0 35px #FFFFFF;\n            width: 50px;\n            height: 50px;\n            margin: 0 auto;\n            -moz-animation: spin .5s infinite linear;\n            -webkit-animation: spin .5s infinite linear;\n        }\n\n        .vg-buffering .loadingSpinner .stop {\n            -webkit-animation-play-state: paused;\n            -moz-animation-play-state: paused;\n        }\n\n        @-moz-keyframes spin {\n            0% {\n                -moz-transform: rotate(0deg);\n            }\n            100% {\n                -moz-transform: rotate(360deg);\n            }\n        }\n\n        @-moz-keyframes spinoff {\n            0% {\n                -moz-transform: rotate(0deg);\n            }\n            100% {\n                -moz-transform: rotate(-360deg);\n            }\n        }\n\n        @-webkit-keyframes spin {\n            0% {\n                -webkit-transform: rotate(0deg);\n            }\n            100% {\n                -webkit-transform: rotate(360deg);\n            }\n        }\n\n        @-webkit-keyframes spinoff {\n            0% {\n                -webkit-transform: rotate(0deg);\n            }\n            100% {\n                -webkit-transform: rotate(-360deg);\n            }\n        }\n    "],data:{}});function f(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,2,"div",[["class","vg-buffering"]],null,null,null,null,null)),(n()(),t["ɵeld"](1,0,null,null,1,"div",[["class","bufferingContainer"]],null,null,null,null,null)),(n()(),t["ɵeld"](2,0,null,null,0,"div",[["class","loadingSpinner"]],null,null,null,null,null))],null,null)}var h=l("4BR/"),v=l("nsQ7"),m=l("Tyes"),b=l("Ip0R"),y=t["ɵcrt"]({encapsulation:2,styles:["\n        vg-time-display {\n            -webkit-touch-callout: none;\n            -webkit-user-select: none;\n            -moz-user-select: none;\n            -ms-user-select: none;\n            user-select: none;\n            display: flex;\n            justify-content: center;\n            height: 50px;\n            width: 60px;\n            cursor: pointer;\n            color: white;\n            line-height: 50px;\n            pointer-events: none;\n            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;\n        }\n    "],data:{}});function C(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["LIVE"]))],null,null)}function O(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),t["ɵted"](1,null,["",""])),t["ɵppd"](2,2)],null,function(n,e){var l=e.component,a=t["ɵunv"](e,1,0,n(e,2,0,t["ɵnov"](e.parent,0),l.getTime(),l.vgFormat));n(e,1,0,a)})}function P(n){return t["ɵvid"](0,[t["ɵpid"](0,m.VgUtcPipe,[]),(n()(),t["ɵand"](16777216,null,null,1,null,C)),t["ɵdid"](2,16384,null,0,b.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵand"](16777216,null,null,1,null,O)),t["ɵdid"](4,16384,null,0,b.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),t["ɵncd"](null,0)],function(n,e){var l=e.component;n(e,2,0,null==l.target?null:l.target.isLive),n(e,4,0,!(null!=l.target&&l.target.isLive))},null)}var _=l("KAR6"),S=l("iWq0"),A=l("AQOk"),I=l("/FkA"),w=l("hSXr"),x=l("UFPq"),M=l("tHRT"),T=l("p2KA"),R=l("dYC4");l("o/zX"),l("jy/b"),l("lbwW"),l("atIC"),l("B0rH"),l.d(e,"a",function(){return k}),l.d(e,"b",function(){return U});var k=t["ɵcrt"]({encapsulation:0,styles:[['.item[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{position:relative;height:180px;overflow:hidden;background-size:100% auto;background-position:center center}.item[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .player-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:990}.item[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .player-icon[_ngcontent-%COMP%]:before{width:50px;height:50px;background-position:0 0;background-image:url(player-bg.31ab007ab42a1f30c2dd.png);background-size:100px 150px;display:inline-block;background-repeat:no-repeat;content:""}.item[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title-box[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;z-index:100;display:flex;justify-content:space-between;padding:0 12px 8px;color:#fff}.item[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title-box[_ngcontent-%COMP%]:before{position:absolute;left:0;bottom:0;right:0;content:"";z-index:-1;height:48px;background-image:linear-gradient(to top,rgba(0,0,0,.5) 0,rgba(0,0,0,0) 100%);background-repeat:repeat-x}.item[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;font-size:var(--font-size-md);font-weight:700}.item[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title-box[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{background:url(icon-location.f1350fe3e690fb6cc1ff.png) left center/auto 100% no-repeat;padding-left:20px}.item[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 16px}.item[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{height:30px}.item[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:6px;border-radius:15px;background-color:var(--ion-color-light)}.item[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{flex:1;color:var(--text-color-primary)}.item[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .favor[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .share[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;padding:15px 5px;margin:0 2px;height:24px}.item[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .favor[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .share[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;width:24px;height:24px;background:url(list-handle-icons.9c9cf3bfb8d1262a6ab5.png) 0 0/264px 24px no-repeat}.item[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .favor[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .share[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;left:20px;top:-2px;height:12px;line-height:11px;border-radius:10px;font-size:12px;color:#999;padding:0 4px;transform:scale(.75);white-space:nowrap}.item[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .favor[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background-position:-24px 0}.item[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .favor.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background-position:-48px 0}.item[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .share[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background-position:-72px 0}vg-controls[_ngcontent-%COMP%]{background:linear-gradient(to top,rgba(0,0,0,.5) 0,rgba(0,0,0,0) 100%)}vg-overlay-play[_ngcontent-%COMP%]     .vg-overlay-play:hover .overlay-play-container.vg-icon-play_arrow:before{transform:scale(.8)}vg-buffering[_ngcontent-%COMP%]     .vg-buffering .bufferingContainer{margin-top:-20px}video[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;position:relative;z-index:1}']],data:{}});function E(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),t["ɵeld"](1,0,null,null,5,"div",[["class","title-box"]],null,null,null,null,null)),(n()(),t["ɵeld"](2,0,null,null,1,"div",[["class","title"]],null,null,null,null,null)),(n()(),t["ɵted"](3,null,["",""])),(n()(),t["ɵeld"](4,0,null,null,2,"div",[["class","location"]],null,null,null,null,null)),(n()(),t["ɵeld"](5,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["ɵted"](6,null,["",""])),(n()(),t["ɵeld"](7,0,null,null,0,"div",[["class","player-icon"]],null,null,null,null,null))],null,function(n,e){var l=e.component;n(e,3,0,null==l.data?null:l.data.title),n(e,6,0,null==l.data?null:l.data.area)})}function V(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,26,"vg-player",[],[[2,"fullscreen",null],[2,"native-fullscreen",null],[2,"controls-hidden",null],[4,"z-index",null]],[[null,"onPlayerReady"]],function(n,e,l){var t=!0;return"onPlayerReady"===e&&(t=!1!==n.component.onPlayerReady(l)&&t),t},a.b,a.a)),t["ɵprd"](512,null,r.VgAPI,r.VgAPI,[]),t["ɵprd"](512,null,u.VgFullscreenAPI,u.VgFullscreenAPI,[]),t["ɵprd"](512,null,i.VgControlsHidden,i.VgControlsHidden,[]),t["ɵdid"](4,1228800,null,1,o.VgPlayer,[t.ElementRef,r.VgAPI,u.VgFullscreenAPI,i.VgControlsHidden],null,{onPlayerReady:"onPlayerReady"}),t["ɵqud"](603979776,1,{medias:1}),(n()(),t["ɵeld"](6,0,null,0,1,"vg-overlay-play",[],[[2,"is-buffering",null]],[[null,"click"]],function(n,e,l){var a=!0;return"click"===e&&(a=!1!==t["ɵnov"](n,7).onClick()&&a),a},d,c)),t["ɵdid"](7,245760,null,0,s.VgOverlayPlay,[t.ElementRef,r.VgAPI,u.VgFullscreenAPI,i.VgControlsHidden],null,null),(n()(),t["ɵeld"](8,0,null,0,1,"vg-buffering",[],[[2,"is-buffering",null]],null,null,f,g)),t["ɵdid"](9,245760,null,0,p.VgBuffering,[t.ElementRef,r.VgAPI],null,null),(n()(),t["ɵeld"](10,0,null,0,13,"vg-controls",[],[[4,"pointer-events",null],[2,"hide",null]],null,null,h.b,h.a)),t["ɵdid"](11,4440064,null,0,v.VgControls,[r.VgAPI,t.ElementRef,i.VgControlsHidden],null,null),(n()(),t["ɵeld"](12,0,null,0,1,"vg-time-display",[["vgFormat","mm:ss"],["vgProperty","current"]],null,null,null,P,y)),t["ɵdid"](13,245760,null,0,m.VgTimeDisplay,[t.ElementRef,r.VgAPI],{vgProperty:[0,"vgProperty"],vgFormat:[1,"vgFormat"]},null),(n()(),t["ɵeld"](14,0,null,0,5,"vg-scrub-bar",[],[[2,"hide",null]],[[null,"mousedown"],["document","mousemove"],["document","mouseup"],[null,"touchstart"],["document","touchmove"],["document","touchcancel"],["document","touchend"],[null,"keydown"]],function(n,e,l){var a=!0;return"mousedown"===e&&(a=!1!==t["ɵnov"](n,15).onMouseDownScrubBar(l)&&a),"document:mousemove"===e&&(a=!1!==t["ɵnov"](n,15).onMouseMoveScrubBar(l)&&a),"document:mouseup"===e&&(a=!1!==t["ɵnov"](n,15).onMouseUpScrubBar(l)&&a),"touchstart"===e&&(a=!1!==t["ɵnov"](n,15).onTouchStartScrubBar(l)&&a),"document:touchmove"===e&&(a=!1!==t["ɵnov"](n,15).onTouchMoveScrubBar(l)&&a),"document:touchcancel"===e&&(a=!1!==t["ɵnov"](n,15).onTouchCancelScrubBar(l)&&a),"document:touchend"===e&&(a=!1!==t["ɵnov"](n,15).onTouchEndScrubBar(l)&&a),"keydown"===e&&(a=!1!==t["ɵnov"](n,15).arrowAdjustVolume(l)&&a),a},_.b,_.a)),t["ɵdid"](15,245760,null,0,S.VgScrubBar,[t.ElementRef,r.VgAPI,i.VgControlsHidden],null,null),(n()(),t["ɵeld"](16,0,null,0,1,"vg-scrub-bar-current-time",[],null,null,null,A.b,A.a)),t["ɵdid"](17,245760,null,0,I.VgScrubBarCurrentTime,[t.ElementRef,r.VgAPI],null,null),(n()(),t["ɵeld"](18,0,null,0,1,"vg-scrub-bar-buffering-time",[],null,null,null,w.b,w.a)),t["ɵdid"](19,245760,null,0,x.VgScrubBarBufferingTime,[t.ElementRef,r.VgAPI],null,null),(n()(),t["ɵeld"](20,0,null,0,1,"vg-time-display",[["vgFormat","mm:ss"],["vgProperty","total"]],null,null,null,P,y)),t["ɵdid"](21,245760,null,0,m.VgTimeDisplay,[t.ElementRef,r.VgAPI],{vgProperty:[0,"vgProperty"],vgFormat:[1,"vgFormat"]},null),(n()(),t["ɵeld"](22,0,null,0,1,"vg-fullscreen",[],null,[[null,"click"],[null,"keydown"]],function(n,e,l){var a=!0;return"click"===e&&(a=!1!==t["ɵnov"](n,23).onClick()&&a),"keydown"===e&&(a=!1!==t["ɵnov"](n,23).onKeyDown(l)&&a),a},M.b,M.a)),t["ɵdid"](23,245760,null,0,T.VgFullscreen,[t.ElementRef,r.VgAPI,u.VgFullscreenAPI],null,null),(n()(),t["ɵeld"](24,0,[["media",1]],0,2,"video",[["autoplay",""],["id","singleVideo"],["preload","auto"]],[[8,"poster",4]],null,null,null,null)),t["ɵdid"](25,212992,[[1,4]],0,R.VgMedia,[r.VgAPI,t.ChangeDetectorRef],{vgMedia:[0,"vgMedia"]},null),(n()(),t["ɵeld"](26,0,null,null,0,"source",[["type","video/mp4"]],[[8,"src",4]],null,null,null,null))],function(n,e){n(e,7,0),n(e,9,0),n(e,11,0),n(e,13,0,"current","mm:ss"),n(e,15,0),n(e,17,0),n(e,19,0),n(e,21,0,"total","mm:ss"),n(e,23,0),n(e,25,0,t["ɵnov"](e,24))},function(n,e){var l=e.component;n(e,0,0,t["ɵnov"](e,4).isFullscreen,t["ɵnov"](e,4).isNativeFullscreen,t["ɵnov"](e,4).areControlsHidden,t["ɵnov"](e,4).zIndex),n(e,6,0,t["ɵnov"](e,7).isBuffering),n(e,8,0,t["ɵnov"](e,9).isBuffering),n(e,10,0,t["ɵnov"](e,11).isAdsPlaying,t["ɵnov"](e,11).hideControls),n(e,14,0,t["ɵnov"](e,15).hideScrubBar),n(e,24,0,t["ɵinlineInterpolate"](1,"",null==l.data?null:l.data.imageUrl,"")),n(e,26,0,null==l.data?null:null==l.data.raw?null:l.data.raw.clientPlayUrl)})}function L(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,1,"div",[["class","share"]],null,[[null,"click"]],function(n,e,l){var t=!0,a=n.component;return"click"===e&&(t=!1!==a.shareVideo(l,a.data)&&t),t},null,null)),(n()(),t["ɵeld"](1,0,null,null,0,"i",[],null,null,null,null,null))],null,null)}function j(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,20,"div",[["class","item"]],null,null,null,null,null)),(n()(),t["ɵeld"](1,0,null,null,4,"div",[["class","header"]],[[4,"backgroundImage",null]],[[null,"click"]],function(n,e,l){var t=!0,a=n.component;return"click"===e&&(t=!1!==a.onPlay(a.data.raw)&&t),t},null,null)),(n()(),t["ɵand"](16777216,null,null,1,null,E)),t["ɵdid"](3,16384,null,0,b.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵand"](16777216,null,null,1,null,V)),t["ɵdid"](5,16384,null,0,b.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵeld"](6,0,null,null,14,"div",[["class","footer"]],null,null,null,null,null)),(n()(),t["ɵeld"](7,0,null,null,1,"div",[["class","avatar"]],null,null,null,null,null)),(n()(),t["ɵeld"](8,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),t["ɵeld"](9,0,null,null,1,"div",[["class","author"]],null,null,null,null,null)),(n()(),t["ɵted"](10,null,["",""])),(n()(),t["ɵeld"](11,0,null,null,3,"div",[["class","comment"]],null,[[null,"click"]],function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.goCommentListPage()&&t),t},null,null)),(n()(),t["ɵeld"](12,0,null,null,0,"i",[],null,null,null,null,null)),(n()(),t["ɵeld"](13,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["ɵted"](14,null,["",""])),(n()(),t["ɵeld"](15,0,null,null,3,"div",[["class","favor"]],[[2,"active",null]],[[null,"click"]],function(n,e,l){var t=!0,a=n.component;return"click"===e&&(t=!1!==a.toggleFavor(a.data)&&t),t},null,null)),(n()(),t["ɵeld"](16,0,null,null,0,"i",[],null,null,null,null,null)),(n()(),t["ɵeld"](17,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["ɵted"](18,null,["",""])),(n()(),t["ɵand"](16777216,null,null,1,null,L)),t["ɵdid"](20,16384,null,0,b.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var l=e.component;n(e,3,0,!(null!=l.data&&l.data.playing)),n(e,5,0,null==l.data?null:l.data.playing),n(e,20,0,l.isShowShareBtn)},function(n,e){var l=e.component;n(e,1,0,"url("+(null==l.data?null:l.data.imageUrl)+")"),n(e,8,0,(null==l.data?null:l.data.avatar)||"assets/images/common/default-avatar.png"),n(e,10,0,(null==l.data?null:l.data.author)||"村民"),n(e,14,0,(null==l.data?null:l.data.commentCount)||""),n(e,15,0,null==l.data?null:l.data.isFavor),n(e,18,0,(null==l.data?null:l.data.favorCount)||"")})}function U(n){return t["ɵvid"](0,[(n()(),t["ɵand"](16777216,null,null,1,null,j)),t["ɵdid"](1,16384,null,0,b.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){n(e,1,0,e.component.data)},null)}},TN67:function(n,e,l){"use strict";l.d(e,"a",function(){return c}),l.d(e,"b",function(){return d});var t=l("lbwW"),a=l("F/XL"),r=l("15JJ"),u=l("67Y/"),i=l("O0u2"),o=l("atIC"),s=l("CcnG"),c=function(n){return n[n.SELECT_PUBLIC_AREA=0]="SELECT_PUBLIC_AREA",n[n.SHORT_VIDEO_SHARE=1]="SHORT_VIDEO_SHARE",n[n.SHORT_VIDEO_SHARE_STB=2]="SHORT_VIDEO_SHARE_STB",n[n.LIVE_SHARE=3]="LIVE_SHARE",n[n.LIVE_SHARE_STB=4]="LIVE_SHARE_STB",n[n.ARTICLE_PUBLISH_AREA=5]="ARTICLE_PUBLISH_AREA",n[n.SELECT_BELONGS_AREA=6]="SELECT_BELONGS_AREA",n[n.ARTICLE_SHARE=7]="ARTICLE_SHARE",n}({}),d=function(){function n(n,e,l){this.aums=n,this.adminUserService=e,this.app=l,this.userSelectAllArea="",this.userSelectTown="",this.formatAreaTree=[]}return Object.defineProperty(n.prototype,"selectedAreaList",{get:function(){return this._selectedAreaList},enumerable:!0,configurable:!0}),n.prototype.reset=function(){this.shareShortVideoAreaTree=null,this.shareLiveAreaTree=null,this.articlePublishAreaTree=null,this.pageCount=1},n.prototype.addSelectedAreaList=function(n,e){void 0===e&&(e=!1),this._selectedAreaList&&!e||(this._selectedAreaList=[]),this._selectedAreaList.push(n)},n.prototype.getList=function(n){var e=this,l=n.areaId,t=n.upLevel;return Object(a.a)(this.businessType).pipe(Object(r.a)(function(n){switch(n){case c.SELECT_PUBLIC_AREA:case c.SELECT_BELONGS_AREA:return e.aums.getAreaList({areaId:l}).pipe(Object(u.a)(function(n){var e=n.data&&n.data.children;return Array.isArray(e)&&e.length?{status:"success",data:e}:Array.isArray(e)?{status:"empty"}:n}));case c.SHORT_VIDEO_SHARE:case c.SHORT_VIDEO_SHARE_STB:return e.getShareShortVideoAreaTree(l);case c.LIVE_SHARE:case c.LIVE_SHARE_STB:return e.getShareLiveAreaTree(t,l);case c.ARTICLE_PUBLISH_AREA:return e.getArticlePublishAreaTree(l);case c.ARTICLE_SHARE:return e.getShareArticleAreaTree(t,l)}}))},n.prototype.getShareShortVideoAreaTree=function(n){var e=this;if(n){var l=this.getChildrenAreaTreeByAreaId(this.shareShortVideoAreaTree,n);return Array.isArray(l)&&l.length?Object(a.a)({status:"success",data:l}):Object(a.a)({status:"error",message:"当前分享区域为空"})}return Object(a.a)(this.adminUserService.user).pipe(Object(r.a)(function(n){return n?e.aums.getShareShortVideoAreaTree({userId:n.id.toString(),userType:e.app.appConfig.aums.userType}).pipe(Object(u.a)(function(n){return"success"===n.status?(e.shareShortVideoAreaTree=e.convertToAreaList(n.data),{status:"success",data:e.shareShortVideoAreaTree}):n})):Object(a.a)({status:"error",message:"管理用户未登录！"})}))},n.prototype.getShareLiveAreaTree=function(n,e){var l=this;if(e){var t=this.getChildrenAreaTreeByAreaId(this.shareLiveAreaTree,e);return Array.isArray(t)&&t.length?Object(a.a)({status:"success",data:t}):Object(a.a)({status:"error",message:"当前分享区域为空"})}return Object(a.a)(this.adminUserService.user).pipe(Object(r.a)(function(e){return e?l.aums.getAreaListByAreaId({regionId:e.areaId,upperLevel:n,lowerLevel:7,needDetailInfo:!0}).pipe(Object(u.a)(function(n){return"success"===n.status?(l.shareLiveAreaTree=l.convertToAreaList(n.data),{status:"success",data:l.shareLiveAreaTree}):n})):Object(a.a)({status:"error",message:"管理用户未登录！"})}))},n.prototype.getShareArticleAreaTree=function(n,e){var l=this;if(e){var t=this.getChildrenAreaTreeByAreaId(this.shareArticleAreaTree,e);return Array.isArray(t)&&t.length?Object(a.a)({status:"success",data:t}):Object(a.a)({status:"error",message:"当前分享区域为空"})}return Object(a.a)(this.adminUserService.user).pipe(Object(r.a)(function(e){return e?l.aums.getAreaListByAreaId({regionId:e.areaId,upperLevel:n,lowerLevel:7,needDetailInfo:!0}).pipe(Object(u.a)(function(n){return"success"===n.status?(l.shareArticleAreaTree=l.convertToAreaList(n.data),{status:"success",data:l.shareArticleAreaTree}):n})):Object(a.a)({status:"error",message:"管理用户未登录！"})}))},n.prototype.getArticlePublishAreaTree=function(n){var e=this;if(n){var l=this.getChildrenAreaTreeByAreaId(this.articlePublishAreaTree,n);return Array.isArray(l)&&l.length?Object(a.a)({status:"success",data:l}):Object(a.a)({status:"error",message:"可发布区域为空"})}return Object(a.a)(this.adminUserService.user).pipe(Object(r.a)(function(n){return n?e.aums.articlePublishAreaTree({areaId:n.areaId}).pipe(Object(u.a)(function(n){return"success"===n.status?(e.articlePublishAreaTree=e.convertToAreaList(n.data[0]),{status:"success",data:e.articlePublishAreaTree}):n})):Object(a.a)({status:"error",message:"管理用户未登录！"})}))},n.prototype.convertToAreaList=function(n){var e,l;if(Array.isArray(n.upperRegion)&&n.upperRegion.length)for(var t=0;t<n.upperRegion.length;t++)0==t?e=[n.upperRegion[t]]:l&&(l.children=[n.upperRegion[t]]),l=n.upperRegion[t];return n.areaId&&n.areaName&&n.areaLevel&&(l?l.children=[{areaName:n.areaName,areaId:n.areaId,areaLevel:n.areaLevel,children:n.lowerRegion||[]}]:e=[{areaName:n.areaName,areaId:n.areaId,areaLevel:n.areaLevel,children:n.lowerRegion||[]}]),n.id&&n.text&&n.level&&(this.formatAreaTree=[],e=[{areaName:n.text,areaId:n.id,areaLevel:n.level,children:this.formatAreaList(n)}]),e},n.prototype.getChildrenAreaTreeByAreaId=function(n,e){var l;if(n)for(var t=0;t<n.length;t++)if(l=n[t].areaId===e?n[t].children:this.getChildrenAreaTreeByAreaId(n[t].children,e))return l;return l},n.prototype.formatAreaList=function(n,e){var l=this;return void 0===e&&(e=this.formatAreaTree),Array.isArray(n.children)&&n.children.length&&n.children.forEach(function(n,t){e.push({areaId:n.id,areaName:n.text,areaLevel:n.level,children:[]}),l.formatAreaList(n,e[t].children)}),this.formatAreaTree},n.ngInjectableDef=s["ɵɵdefineInjectable"]({factory:function(){return new n(s["ɵɵinject"](t.a),s["ɵɵinject"](i.a),s["ɵɵinject"](o.a))},token:n,providedIn:"root"}),n}()},fQKf:function(n,e,l){"use strict";l.d(e,"a",function(){return d});var t=l("O0u2"),a=l("lbwW"),r=l("atIC"),u=l("F/XL"),i=l("67Y/"),o=l("15JJ"),s=l("h1wG"),c=l("CcnG"),d=function(){function n(n,e,l,t){this.adminUserService=n,this.aums=e,this.app=l,this.normalUserService=t}return n.prototype.getAdminShareUser=function(n){var e=this;return void 0===n&&(n=!1),this.adminUserService.refetch=n,this.adminUserService.user?(n&&(this.adminShareUser=null),this.adminShareUser?Object(u.a)(this.adminShareUser):this.aums.getShortVideoUserInfo({userId:this.adminUserService.user.id.toString(),userType:this.app.appConfig.aums.userType}).pipe(Object(i.a)(function(n){return e.adminShareUser="success"===n.status?n.data:null,e.adminShareUser}))):(this.adminShareUser=null,Object(u.a)(null))},n.prototype.getNormalUserShareUser=function(n){var e=this;return void 0===n&&(n=!1),n&&(this.normalUserShareUser=null),this.normalUserShareUser?Object(u.a)(this.normalUserShareUser):Object(u.a)(this.normalUserService.user).pipe(Object(o.a)(function(n){return n?e.aums.getShortVideoUserInfo({userId:n.userId,userType:e.app.appConfig.ums.userType}).pipe(Object(i.a)(function(n){return e.normalUserShareUser="success"===n.status?n.data:null,e.normalUserShareUser})):Object(u.a)(null)}))},n.prototype.getRecentVideoList=function(n){var e=this;return void 0===n&&(n=1),Object(u.a)(this.normalUserService.user).pipe(Object(i.a)(function(n){return n?{status:"success",data:n}:{message:"未找到用户信息",status:"error"}}),Object(o.a)(function(l){if("success"===l.status){var t=l.data;return e.aums.getViewableShortVideoList({userId:t.userId,userType:e.app.appConfig.ums.userType,areaId:t.areaId,pageNum:n})}return Object(u.a)(l)}),Object(o.a)(function(n){return"success"===n.status?e.aums.getGuestTypeById({typeId:e.app.appConfig.ums.userType}).pipe(Object(i.a)(function(e){return"success"===e.status&&(n.url=e.data),n})):Object(u.a)(n)}),Object(o.a)(function(n){if("success"===n.status&&n.url){var l=n.data.reduce(function(n,e){return n?n+","+e.uploadUserId:e.uploadUserId},"");return e.aums.getUmsUsers({url:n.url,userIds:l}).pipe(Object(i.a)(function(e){return"success"===e.status&&n.data.forEach(function(n){n.umsUser=e.data.find(function(e){return e.GUID===n.uploadUserId&&e.isExisted})}),n}))}return Object(u.a)(n)}))},n.prototype.getMyVideoList=function(n){var e=this;return void 0===n&&(n=1),Object(u.a)(this.normalUserService.user).pipe(Object(i.a)(function(n){return n?{status:"success",data:n}:{message:"未找到用户信息",status:"error"}}),Object(o.a)(function(l){return"success"===l.status?e.aums.getOwnShortVideoList({userId:l.data.userId,userType:e.app.appConfig.ums.userType,pageNum:n}):Object(u.a)(l)}))},n.prototype.getManageVideoList=function(n){var e=this;return void 0===n&&(n=1),Object(u.a)(this.adminUserService.user).pipe(Object(i.a)(function(n){return n?{status:"success",data:n}:{message:"管理用户未登录",status:"error"}}),Object(o.a)(function(l){return"success"===l.status?e.aums.getManageableShortVideoList({userId:l.data.id,userType:e.app.appConfig.aums.userType,pageNum:n}):Object(u.a)(l)}),Object(o.a)(function(n){return"success"===n.status?e.aums.getGuestTypeById({typeId:e.app.appConfig.ums.userType}).pipe(Object(i.a)(function(e){return"success"===e.status&&(n.url=e.data),n})):Object(u.a)(n)}),Object(o.a)(function(n){if("success"===n.status&&n.url){var l=n.data.reduce(function(n,e){return n?n+","+e.uploadUserId:e.uploadUserId},"");return e.aums.getUmsUsers({url:n.url,userIds:l}).pipe(Object(i.a)(function(e){return"success"===e.status&&n.data.forEach(function(n){n.umsUser=e.data.find(function(e){return e.GUID===n.uploadUserId&&e.isExisted})}),n}))}return Object(u.a)(n)}))},n.ngInjectableDef=c["ɵɵdefineInjectable"]({factory:function(){return new n(c["ɵɵinject"](t.a),c["ɵɵinject"](a.a),c["ɵɵinject"](r.a),c["ɵɵinject"](s.a))},token:n,providedIn:"root"}),n}()},iPGB:function(n,e,l){"use strict";l.d(e,"a",function(){return t});var t=function(){return function(){}}()},jc1A:function(n,e,l){"use strict";l.d(e,"a",function(){return u});var t=l("mrSG"),a=l("CcnG"),r=l("fCh1"),u=(l("h1wG"),l("lbwW"),l("atIC"),l("B0rH"),function(){function n(n,e,l,t,r,u){this.nativeBridgeService=n,this.alertCtrl=e,this.normalUserService=l,this.aums=t,this.app=r,this.utils=u,this.delete=new a.EventEmitter}return n.prototype.ngOnInit=function(){},n.prototype.play=function(){this.nativeBridgeService.invoke({method:r.b.METHOD_PLAY_VIDEO},this.data.raw.clientPlayUrl,this.data.raw.isHorizontal)},n.prototype.onDelete=function(){var n=this;this.presentAlert(function(){var e=n.normalUserService.user;e&&n.aums.deleteShortVideo({userId:e.userId,userType:n.app.appConfig.ums.userType,shortVideoId:n.data.raw.id}).subscribe(function(e){"success"===e.status?(n.utils.toast("success","删除成功"),n.delete.emit(n.data)):n.utils.toast("fail","删除失败，请稍后再试！")})}).then(function(n){})},n.prototype.presentAlert=function(n){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(e){switch(e.label){case 0:return[4,this.alertCtrl.create({header:"提示",message:"您是删除该条分享视频?",buttons:[{text:"确定",handler:function(){n()}},{text:"取消",handler:function(){}}]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}})})},n}())},"o/zX":function(n,e,l){"use strict";l.d(e,"a",function(){return r});var t=l("mrSG"),a=l("CcnG"),r=(l("lbwW"),l("atIC"),l("B0rH"),function(){function n(n,e,l,t,r){this.loadingCtrl=n,this.aums=e,this.app=l,this.utils=t,this.navCtrl=r,this.play=new a.EventEmitter,this.isShowShareBtn=!0,this.isShowShareBtn="xishuangbanna"!==this.app.appConfig.name}return n.prototype.ngOnInit=function(){},n.prototype.ngOnDestroy=function(){},n.prototype.onPlay=function(n){this.play.emit(this.data),this.data.playing=!this.data.playing},n.prototype.onPlayerReady=function(n){this.data.vgApi=n,n.getDefaultMedia().subscriptions.seeked.subscribe(function(){n.getDefaultMedia().play()})},n.prototype.toggleFavor=function(n){var e=this;this.updateCount(n.raw.id,this.app.appConfig.vote.type.favor.video.typeId,function(l){"success"===l.status?1===l.data.state?(n.isFavor=!0,n.favorCount++):0===l.data.state&&(n.isFavor=!1,n.favorCount--):e.utils.toast("fail","点赞失败，请稍后再试！")})},n.prototype.goCommentListPage=function(){this.navCtrl.navigateForward("standard/comment-list/video/"+this.data.raw.id)},n.prototype.updateCount=function(n,e,l){var t=this;this.presentLoading().then(function(){t.aums.castVote(n.toString(),e).subscribe(function(n){t.loading.dismiss(),l(n)})})},n.prototype.presentLoading=function(){return t.__awaiter(this,void 0,void 0,function(){var n;return t.__generator(this,function(e){switch(e.label){case 0:return n=this,[4,this.loadingCtrl.create({message:"加载中...",backdropDismiss:!0})];case 1:return n.loading=e.sent(),[4,this.loading.present()];case 2:return e.sent(),[2]}})})},n.prototype.shareVideo=function(n,e){this.app.share("video",{title:e.title,desc:e.raw.describe,thumbnail:e.imageUrl})},n}())},ovjX:function(n,e,l){"use strict";l.d(e,"a",function(){return t});var t=function(){return function(){}}()},qMUB:function(n,e,l){"use strict";var t=l("CcnG"),a=l("MKJQ"),r=l("jy/b"),u=l("s0BX"),i=l("U3FM"),o=l("Ip0R");l("4tQ3"),l("fCh1"),l("B0rH"),l("lbwW"),l("O0u2"),l("atIC"),l("TN67"),l("ZYCi"),l("fQKf"),l.d(e,"a",function(){return s}),l.d(e,"b",function(){return p});var s=t["ɵcrt"]({encapsulation:0,styles:[['.img-box[_ngcontent-%COMP%]{position:relative;height:180px;overflow:hidden}.img-box[_ngcontent-%COMP%]   .player-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:990}.img-box[_ngcontent-%COMP%]   .player-icon[_ngcontent-%COMP%]:before{width:50px;height:50px;background-position:0 0;background-image:url(player-bg.31ab007ab42a1f30c2dd.png);background-size:100px 150px;display:inline-block;background-repeat:no-repeat;content:""}.title-box[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;z-index:100;padding:12px 8px 0;color:#fff}.title-box[_ngcontent-%COMP%]:before{position:absolute;left:0;top:0;right:0;content:"";z-index:-1;height:48px;background-image:linear-gradient(to bottom,rgba(0,0,0,.5) 0,rgba(0,0,0,0) 100%);background-repeat:repeat-x}.title-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.sub-title[_ngcontent-%COMP%]{display:flex;align-items:center}.sub-title[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:6px;border-radius:15px}.sub-title[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{color:var(--text-color-title)}.sub-title[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{color:var(--text-color-secondary);font-size:var(--font-size-xs);transform-origin:0 0}.settings[_ngcontent-%COMP%]{padding-top:10px}.settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:var(--text-color-title)}.settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-color-primary)}.action[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;border-top:1px solid #eee;padding-top:8px}']],data:{}});function c(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,4,"div",[["class","setting-item"]],null,null,null,null,null)),(n()(),t["ɵeld"](1,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["上线状态："])),(n()(),t["ɵeld"](3,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["ɵted"](4,null,["",""]))],null,function(n,e){var l=e.component;n(e,4,0,1===(null==l.data?null:null==l.data.raw?null:l.data.raw.publishStatus)?"已上线":"已下线")})}function d(n){return t["ɵvid"](0,[(n()(),t["ɵeld"](0,0,null,null,2,"ion-button",[["color","secondary"],["fill","outline"],["shape","round"],["size","small"]],null,[[null,"click"]],function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.switchOnline()&&t),t},a.fb,a.e)),t["ɵdid"](1,49152,null,0,r.l,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"],fill:[1,"fill"],shape:[2,"shape"],size:[3,"size"]},null),(n()(),t["ɵted"](2,0,["",""]))],function(n,e){n(e,1,0,"secondary","outline","round","small")},function(n,e){var l=e.component;n(e,2,0,1===(null==l.data?null:null==l.data.raw?null:l.data.raw.publishStatus)?"下线":"上线")})}function p(n){return t["ɵvid"](0,[t["ɵpid"](0,u.a,[i.b]),(n()(),t["ɵeld"](1,0,null,null,52,"ion-card",[],null,null,null,a.lb,a.g)),t["ɵdid"](2,49152,null,0,r.n,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](3,0,null,0,5,"div",[["class","img-box"]],null,[[null,"click"]],function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.play()&&t),t},null,null)),(n()(),t["ɵeld"](4,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),t["ɵeld"](5,0,null,null,0,"div",[["class","player-icon"]],null,null,null,null,null)),(n()(),t["ɵeld"](6,0,null,null,2,"div",[["class","title-box"]],null,null,null,null,null)),(n()(),t["ɵeld"](7,0,null,null,1,"div",[["class","title"]],null,null,null,null,null)),(n()(),t["ɵted"](8,null,["",""])),(n()(),t["ɵeld"](9,0,null,0,30,"ion-card-header",[],null,null,null,a.ib,a.i)),t["ɵdid"](10,49152,null,0,r.p,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](11,0,null,0,28,"ion-card-subtitle",[],null,null,null,a.jb,a.j)),t["ɵdid"](12,49152,null,0,r.q,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](13,0,null,0,7,"div",[["class","sub-title"]],null,null,null,null,null)),(n()(),t["ɵeld"](14,0,null,null,1,"div",[["class","avatar"]],null,null,null,null,null)),(n()(),t["ɵeld"](15,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),t["ɵeld"](16,0,null,null,4,"div",[["class","author-box"]],null,null,null,null,null)),(n()(),t["ɵeld"](17,0,null,null,1,"div",[["class","author"]],null,null,null,null,null)),(n()(),t["ɵted"](18,null,["",""])),(n()(),t["ɵeld"](19,0,null,null,1,"div",[["class","location"]],null,null,null,null,null)),(n()(),t["ɵted"](20,null,["",""])),(n()(),t["ɵeld"](21,0,null,0,18,"div",[["class","settings"]],null,null,null,null,null)),(n()(),t["ɵeld"](22,0,null,null,5,"div",[["class","setting-item"]],null,null,null,null,null)),(n()(),t["ɵeld"](23,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["审核状态："])),(n()(),t["ɵeld"](25,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),t["ɵted"](26,null,["",""])),t["ɵppd"](27,1),(n()(),t["ɵand"](16777216,null,null,1,null,c)),t["ɵdid"](29,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["ɵeld"](30,0,null,null,4,"div",[["class","setting-item"]],null,null,null,null,null)),(n()(),t["ɵeld"](31,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["分享区域："])),(n()(),t["ɵeld"](33,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["ɵted"](34,null,["",""])),(n()(),t["ɵeld"](35,0,null,null,4,"div",[["class","setting-item"]],null,null,null,null,null)),(n()(),t["ɵeld"](36,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),t["ɵted"](-1,null,["机顶盒可观看区域："])),(n()(),t["ɵeld"](38,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t["ɵted"](39,null,["",""])),(n()(),t["ɵeld"](40,0,null,0,13,"ion-card-content",[],null,null,null,a.hb,a.h)),t["ɵdid"](41,49152,null,0,r.o,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(n()(),t["ɵeld"](42,0,null,0,11,"div",[["class","action"]],null,null,null,null,null)),(n()(),t["ɵeld"](43,0,null,null,2,"ion-button",[["color","secondary"],["fill","outline"],["shape","round"],["size","small"]],null,[[null,"click"]],function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.check()&&t),t},a.fb,a.e)),t["ɵdid"](44,49152,null,0,r.l,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"],fill:[1,"fill"],shape:[2,"shape"],size:[3,"size"]},null),(n()(),t["ɵted"](-1,0,["审核"])),(n()(),t["ɵeld"](46,0,null,null,2,"ion-button",[["color","secondary"],["fill","outline"],["shape","round"],["size","small"]],null,[[null,"click"]],function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.share()&&t),t},a.fb,a.e)),t["ɵdid"](47,49152,null,0,r.l,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"],fill:[1,"fill"],shape:[2,"shape"],size:[3,"size"]},null),(n()(),t["ɵted"](-1,0,["分享"])),(n()(),t["ɵeld"](49,0,null,null,2,"ion-button",[["color","secondary"],["fill","outline"],["shape","round"],["size","small"]],null,[[null,"click"]],function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.shareStb()&&t),t},a.fb,a.e)),t["ɵdid"](50,49152,null,0,r.l,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{color:[0,"color"],fill:[1,"fill"],shape:[2,"shape"],size:[3,"size"]},null),(n()(),t["ɵted"](-1,0,["机顶盒"])),(n()(),t["ɵand"](16777216,null,null,1,null,d)),t["ɵdid"](53,16384,null,0,o.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,e){var l=e.component;n(e,29,0,l.shortVideoOnlineSwitch),n(e,44,0,"secondary","outline","round","small"),n(e,47,0,"secondary","outline","round","small"),n(e,50,0,"secondary","outline","round","small"),n(e,53,0,l.shortVideoOnlineSwitch&&1===(null==l.data?null:null==l.data.raw?null:l.data.raw.checkStatus)&&1===(null==l.shortVideoService?null:null==l.shortVideoService.adminShareUser?null:l.shortVideoService.adminShareUser.publishPower))},function(n,e){var l=e.component;n(e,4,0,null==l.data?null:l.data.imageUrl),n(e,8,0,null==l.data?null:l.data.title),n(e,15,0,(null==l.data?null:l.data.avatar)||"assets/images/common/default-avatar.png"),n(e,18,0,(null==l.data?null:l.data.author)||"用户不存在"),n(e,20,0,null==l.data?null:l.data.area);var a=t["ɵunv"](e,26,0,n(e,27,0,t["ɵnov"](e,0),null==l.data?null:null==l.data.raw?null:l.data.raw.checkStatus));n(e,26,0,a),n(e,34,0,1===(null==l.data?null:null==l.data.raw?null:l.data.raw.clientPlayPower)?null==l.data?null:null==l.data.raw?null:l.data.raw.clientPlayAreaName:"不可观看"),n(e,39,0,1===(null==l.data?null:null==l.data.raw?null:l.data.raw.stbPlayPower)?null==l.data?null:null==l.data.raw?null:l.data.raw.stbPlayAreaName:"机顶盒不可观看")})}},s0BX:function(n,e,l){"use strict";l.d(e,"a",function(){return a});var t=[{name:"待审核",value:0},{name:"通过",value:1},{name:"不通过",value:2}],a=function(){function n(n){this.logger=n}return n.prototype.transform=function(e){for(var l=[],a=1;a<arguments.length;a++)l[a-1]=arguments[a];var r=t.find(function(n){return null!=e&&n.value.toString()==e});return r?r.name:(this.logger.warn(n.TAG+" SHARE_STATUS don't contains status("+e+")"),"")},n.TAG="ShareStatusPipe",n}()},utMG:function(n,e,l){"use strict";l.d(e,"a",function(){return t});var t=function(){return function(){}}()}}]);