(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{lbwW:function(e,t,r){"use strict";r.d(t,"a",function(){return f});var a=r("F/XL"),s=r("67Y/"),o=r("9Z1F"),i=r("15JJ"),n=r("h1wG"),u=r("wd/R"),g=r("fCh1"),c=r("atIC"),l=r("+SBZ"),d=r("B0rH"),p=r("CcnG"),A=r("MsM3"),m=r("U3FM"),T=r("xvo6"),h=r("ZYCi"),f=function(){function e(e,t,r,a,s,o,i,n,u){this.aumsApi=e,this.normalUserService=t,this.logger=r,this.utils=a,this.nativeBridgeService=s,this.router=o,this.app=i,this.umsUserService=n,this.appUtils=u}return e.getArticleType=function(e){return e.template&&-1!==e.template.indexOf("视频")?"video":"短视频"===e.aorvtypeName?"video":2===e.aorvtype?"vote":2===e.ftypeid||"图片"===e.classNames?"atlas":"article"},e.getArticleTypeName=function(t){return e.articleTypeList.find(function(e){return e.type===t}).name},e.prototype.validate=function(t,r){if(r.required&&!t)throw new Error(r.label+"不能为空");if(t&&r.maxLength&&t.length>r.maxLength)throw new Error(r.label+"不能超过"+r.maxLength+"字");if(t&&r.minLength&&t.length<r.minLength)throw new Error(r.label+"不能少于"+r.minLength+"字");try{if(r.pattern&&("string"==typeof r.pattern&&(r.pattern=new RegExp(r.pattern)),!r.pattern.test(t)))throw new Error(r.patternErrorMessage||r.label+"提交格式错误")}catch(a){this.logger.error(e.TAG+" validate() "+r.pattern+" 转化为正则报错")}},e.prototype.getBroadcastHistory=function(t,r,i){var n=this;return void 0===i&&(i="aums_cpis"),this.aumsApi.getBroadcastHistory(t,r,i).pipe(Object(s.a)(function(t){return 200===t.data.code&&0!==t.data.rows.length?{status:"success",data:t.data.rows}:200===t.data.code&&0===t.data.rows.length?(n.logger.warn(e.TAG+" getBroadcastHistory() 根据用户名查询广播记录列表返回为空"),n.logger.warn(e.TAG+" getBroadcastHistory() 接口访问地址: "+t.url),n.logger.warn(e.TAG+" getBroadcastHistory() 接口返回数据: "+JSON.stringify(t.data)),{status:"empty",data:[]}):void 0}),Object(o.a)(function(t){return n.logger.error(e.TAG+" getBroadcastHistory() 接口列表报错: "+t.message),n.logger.error(e.TAG+" getBroadcastHistory() 请求接口地址: "+t.url),Object(a.a)(t)}))},e.prototype.queryAuthori=function(t,r,i){var n=this;return void 0===i&&(i="aums_cpis"),this.aumsApi.queryAuthori(t,r,i).pipe(Object(s.a)(function(t){return 200===t.data.code?{status:"success",data:t.data.rows}:(n.logger.warn(e.TAG+" queryAuthori() 用户暂时没有权限"),n.logger.warn(e.TAG+" queryAuthori() 接口访问地址: "+t.url),n.logger.warn(e.TAG+" queryAuthori() 接口返回数据: "+JSON.stringify(t.data)),{status:"error"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" queryAuthori() 接口列表报错: "+t.message),n.logger.error(e.TAG+" queryAuthori() 请求接口地址: "+t.url),Object(a.a)(t)}))},e.prototype.sendBroadCast=function(t,r,i){var n=this;return void 0===i&&(i="aums_cpis"),this.aumsApi.sendBroadCast(t,r,i).pipe(Object(s.a)(function(t){return 200===t.data.code?{status:"success"}:(n.logger.warn(e.TAG+" sendBroadCast() 发布广播失败"),n.logger.warn(e.TAG+" sendBroadCast() 接口访问地址: "+t.url),n.logger.warn(e.TAG+" sendBroadCast() 接口返回数据: "+JSON.stringify(t.data)),{status:"error"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" sendBroadCast() 接口列表报错: "+t.message),n.logger.error(e.TAG+" sendBroadCast() 请求接口地址: "+t.url),Object(a.a)(t)}))},e.prototype.getColumnList=function(t,r,o,i,n){var u=this;void 0===r&&(r=!0),void 0===o&&(o="PHONE"),void 0===n&&(n="ancms_server_interface");var g=this.normalUserService.user;return r&&!g.areaId?(this.logger.warn(e.TAG+" getColumnList() 获取普通用户信息失败"),Object(a.a)({status:"error",message:"获取普通用户信息失败"})):this.aumsApi.getColumnList({columnId:t,areaId:r?g.areaId:"",terminalIdentify:o},i,n).pipe(Object(s.a)(function(e){var t=e.data;return u.utils.isEmpty(t.data)?{status:"empty",message:"栏目列表为空"}:{status:"success",data:t.data.map(function(e){return{name:e.name,icon:e.displayContent,id:e.columnId,displayType:e.displayType,actionType:e.actionType,raw:e}})}}))},e.prototype.getArticleList=function(t,r,i,n){var g=this;void 0===n&&(n="ancms_server_interface");var c=Object.assign({default:"100x65",video:"220x170"},r&&r.size);return this.aumsApi.getArticleList(t,i,n).pipe(Object(s.a)(function(t){var r=t.data,a=r.data&&r.data.articles;return Array.isArray(a)&&!g.utils.isEmpty(a)?{status:"success",data:a.map(function(t){var r,a,s=e.getArticleType(t),o=t.fimage;if(t.listThumbnailImage&&Array.isArray(t.listThumbnailImage))(i=t.listThumbnailImage.find(function(e){return e.key===function(e){return c[e]||c.default}(s)}))&&(o=i.url);else if(t.ArticleRelation&&Array.isArray(t.ArticleRelation)){var i;(i=t.ArticleRelation.find(function(e){return"logo图片"===e.adescride}))&&(o=i.atext)}switch(s){case"video":var n=void 0,g=void 0;t.ArticleRelation&&(n=t.ArticleRelation.filter(function(e){return"视频地址"===e.adescride}),g=t.ArticleRelation.filter(function(e){return"横屏或竖屏"===e.adescride})),n&&n[0]?r=/.+\.mp4$/g.test(n[0].atext)?n[0].atext:n[0].clientVideoUrl:t.clientPlayUrl&&(r=t.clientPlayUrl),g&&g[0]?a=g[0].atext:t.isHorizontal&&(a=t.isHorizontal)}var l=+t.fchecked||t.checkStatus;return{id:t.articleId||t.id,title:t.ftitle,type:s,thumbnail:o,playUrl:r,author:t.faddpersonName||"",time:u(t.fupdatetime||t.faddtime||t.fupdateTime).locale("zh-cn"),publishTime:/\d{4}-\d{2}-\d{2}/.test(t.fupdatetime||t.faddtime||t.fupdateTime)?u(t.fupdatetime||t.faddtime||t.fupdateTime,"YYYY-MM-DD HH:mm:ss"):null,isHorizontal:isNaN(Number(a))?void 0:a,checkStatus:l,raw:t}})}:(g.logger.warn(e.TAG+" getArticleList() 接口列表返回为空或者报错"),g.logger.warn(e.TAG+" getArticleList() 接口访问地址: "+t.url),g.logger.warn(e.TAG+" getArticleList() 接口返回数据: "+JSON.stringify(t.data)),{status:"empty"})}),Object(o.a)(function(t){return g.logger.error(e.TAG+" getArticleList() 接口列表报错: "+t.message),g.logger.error(e.TAG+" getArticleList() 请求接口地址: "+t.url),Object(a.a)(t)}))},e.prototype.pushArticle=function(t,r,i){var n=this;return this.aumsApi.pushArticle(t,r,i).pipe(Object(s.a)(function(t){return"success"===t.status?{status:"success",data:t.data.data}:(n.logger.warn(e.TAG+" pushArticle() 消息推送失败"),n.logger.warn(e.TAG+" pushArticle() 接口返回地址  "+t.url),n.logger.warn(e.TAG+" pushArticle() 接口返回数据: "+JSON.stringify(t.data)),{status:"error",message:t.data.message})}),Object(o.a)(function(t){return n.logger.error(e.TAG+"pushArticle() 消息推送报错: "+t.message),n.logger.error(e.TAG+"pushArticle() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.pushArticleTo=function(t,r,i){var n=this;return this.aumsApi.pushArticleTo(t,r,i).pipe(Object(s.a)(function(t){return"success"===t.status?{status:"success",data:t.data.data}:(n.logger.warn(e.TAG+" pushArticle() 消息推送失败"),n.logger.warn(e.TAG+" pushArticle() 接口返回地址  "+t.url),n.logger.warn(e.TAG+" pushArticle() 接口返回数据: "+JSON.stringify(t.data)),{status:"error",message:t.data.message})}),Object(o.a)(function(t){return n.logger.error(e.TAG+"pushArticle() 消息推送报错: "+t.message),n.logger.error(e.TAG+"pushArticle() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.getColumnListByDisplayType=function(e,t){return this.utils.isEmpty(e)?null:e.filter(function(e){return e.displayType===t})},e.prototype.openColumn=function(t){var r=this.router;if(t.htmlUrl)this.nativeBridgeService.invoke({method:g.b.METHOD_OPEN_SECOND_ACTIVITY},t.htmlUrl);else if("column"===t.actionType){var a="list",s=!1,o={cId:t.columnId,name:t.name};if(t.jumpAddress&&Array.isArray(t.jumpAddress.rows)){var i=t.jumpAddress.rows.filter(function(e){return"PHONE"===e.routeTerminalType});if(i.length){var n=i[0];if(a=n.routeName||"list",s=n.routeRule&&"native"===n.routeRule.routeType,(n.columnRouteParams&&n.columnRouteParams.rows||[]).forEach(function(e){o[e.key]=e.value}),"object"==typeof n.routeRule&&null!=n.routeRule)for(var u in n.routeRule)n.routeRule[u]&&(o[u]=n.routeRule[u])}}else this.logger.warn(e.TAG+" openColumn() "+t.name+"未配置路由模板");s?(this.logger.info(e.TAG+" native route: "+a),this.logger.info(e.TAG+" native route params: "+JSON.stringify(o)),a===g.b.METHOD_START_MEETING?this.nativeBridgeService.invoke({method:a},o.title,o.tab1,o.tab2):this.nativeBridgeService.invoke({method:a})):r.navigate(["/"+a,o])}else"article"===t.actionType?r.navigate(["/article",t.articleId]):this.logger.warn(e.TAG+" openColumn() "+t.name+"栏目未配置点击操作")},e.prototype.getGuestTypeById=function(e,t,r){return void 0===r&&(r="aums_server_interface"),this.umsUserService.getGuestTypeById(e,t,r)},e.prototype.updateGuest=function(t,r,i){var n=this;void 0===i&&(i="aums_server_interface");var u="updateGuest";return this.aumsApi.updateGuest(t,r,i).pipe(Object(s.a)(function(t){return 1==(t&&t.data&&t.data.code)?{status:"success",data:t.data.data}:(n.logger.warn(e.TAG+" "+u+"() 更新第三方用户信息失败"),n.logger.warn(e.TAG+" "+u+"() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" "+u+"() 接口返回数据: "+JSON.stringify(t.data)),{status:"error",message:t.data.message})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" "+u+"() 更新第三方用户信息报错: "+t.message),n.logger.error(e.TAG+" "+u+"() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.saveGuest=function(t,r,i){var n=this;void 0===i&&(i="aums_server_interface");var u="saveGuest";return this.aumsApi.saveGuest(t,r,i).pipe(Object(s.a)(function(t){return 1==(t&&t.data&&t.data.code)?{status:"success",data:t.data.data}:(n.logger.warn(e.TAG+" "+u+"() 保存第三方用户登录信息失败"),n.logger.warn(e.TAG+" "+u+"() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" "+u+"() 接口返回数据: "+JSON.stringify(t.data)),{status:"error",message:t.data.message})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" "+u+"() 保存第三方用户登录信息报错: "+t.message),n.logger.error(e.TAG+" "+u+"() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.getUmsUsers=function(e){return this.umsUserService.getUmsUsers(e)},e.prototype.getGuests=function(t,r,n){var u=this;return this.aumsApi.getGuests(t).pipe(Object(s.a)(function(t){var r=t&&t.data&&t.data.data&&t.data.data.guests;return Array.isArray(r)&&r.length?{status:"success",data:r}:(u.logger.warn(e.TAG+" getGuests() 未获取到第三方用户信息"),u.logger.warn(e.TAG+" getGuests() 请求接口地址: "+t.url),u.logger.warn(e.TAG+" getGuests() 接口返回数据: "+JSON.stringify(t.data)),{status:"empty"})}),Object(o.a)(function(t){return u.logger.error(e.TAG+" getGuests() 获取第三方用户信息报错: "+t.message),Object(a.a)({status:"error",message:t.message})}),Object(i.a)(function(e){return"success"===e.status?u.umsUserService.getGuestTypeById({typeId:u.app.appConfig.ums.userType}).pipe(Object(s.a)(function(t){return"success"===t.status&&(e.url=t.data),e})):Object(a.a)(e)}),Object(i.a)(function(e){if("success"===e.status&&e.url){var t=e.data.reduce(function(e,t){return e+","+t.userId},"");return u.umsUserService.getUmsUsers({url:e.url,userIds:t}).pipe(Object(s.a)(function(t){return"success"===t.status&&e.data.forEach(function(e){e.umsUser=t.data.find(function(t){return t.GUID===e.userId&&t.isExisted})}),e}))}return Object(a.a)(e)}))},e.prototype.checkGuests=function(t,r,i){var n=this;return this.aumsApi.checkGuests(t,r,i).pipe(Object(s.a)(function(t){return 1==(t&&t.data&&t.data.code)?{status:"success"}:(n.logger.warn(e.TAG+" checkGuests() 审核第三方用户失败"),n.logger.warn(e.TAG+" checkGuests() 请求接口地址: "+t.url),n.logger.warn(e.TAG+" checkGuests() 接口返回数据: "+JSON.stringify(t.data)),{status:"error"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" checkGuests() 审核第三方用户信息报错: "+t.message),n.logger.error(e.TAG+" checkGuests() 请求接口地址: "+t.url),Object(a.a)({status:"error"})}))},e.prototype.checkShortVideo=function(t,r,i){var n=this;return this.aumsApi.checkShortVideo(t,r,"aums_terminal_interface").pipe(Object(s.a)(function(t){return 1==(t&&t.data&&t.data.success)?{status:"success"}:(n.logger.warn(e.TAG+" checkShortVideo() 审核短视频操作失败"),n.logger.warn(e.TAG+" checkShortVideo() 请求接口地址: "+t.url),n.logger.warn(e.TAG+" checkShortVideo() 接口返回数据: "+JSON.stringify(t.data)),{status:"error"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" checkShortVideo() 审核短视频操作报错: "+t.message),n.logger.error(e.TAG+" checkShortVideo() 请求接口地址: "+t.url),Object(a.a)({status:"error"})}))},e.prototype.publishShortVideo=function(t,r,i){var n=this;return this.aumsApi.publishShortVideo(t,r,"aums_terminal_interface").pipe(Object(s.a)(function(t){return 1==(t&&t.data&&t.data.isSuccess)?{status:"success"}:(n.logger.warn(e.TAG+" publishShortVideo() 上下线短视频操作失败"),n.logger.warn(e.TAG+" publishShortVideo() 请求接口地址: "+t.url),n.logger.warn(e.TAG+" publishShortVideo() 接口返回数据: "+JSON.stringify(t.data)),{status:"error"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" publishShortVideo() 上下线短视频操作报错: "+t.message),n.logger.error(e.TAG+" publishShortVideo() 请求接口地址: "+t.url),Object(a.a)({status:"error"})}))},e.prototype.checkArticle=function(t,r,i){var n=this;return this.aumsApi.checkArticle(t,r,i).pipe(Object(s.a)(function(t){return 1===(t&&t.data&&t.data.isSuccess)?{status:"success"}:(n.logger.warn(e.TAG+" checkArticle() 审核文章操作失败"),n.logger.warn(e.TAG+" checkArticle() 请求接口地址: "+t.url),n.logger.warn(e.TAG+" checkArticle() 接口返回数据: "+JSON.stringify(t.data)),{status:"error"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" checkArticle() 审核文章操作报错: "+t.message),n.logger.error(e.TAG+" checkArticle() 请求接口地址: "+t.url),Object(a.a)({status:"error"})}))},e.prototype.deleteShortVideo=function(t,r,i){var n=this;return this.aumsApi.deleteShortVideo(t,r,"aums_terminal_interface").pipe(Object(s.a)(function(t){return 1==(t&&t.data&&t.data.success)?{status:"success"}:(n.logger.warn(e.TAG+" deleteShortVideo() 删除短视频操作失败"),n.logger.warn(e.TAG+" deleteShortVideo() 请求接口地址: "+t.url),n.logger.warn(e.TAG+" deleteShortVideo() 接口返回数据: "+JSON.stringify(t.data)),{status:"error"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" deleteShortVideo() 删除短视频操作报错: "+t.message),n.logger.error(e.TAG+" deleteShortVideo() 请求接口地址: "+t.url),Object(a.a)({status:"error"})}))},e.prototype.updateCheckFlag=function(t,r,i){var n=this;return this.aumsApi.updateCheckFlag(t,r,i).pipe(Object(s.a)(function(t){return 1==(t&&t.data&&t.data.isSuccess)?{status:"success"}:(n.logger.warn(e.TAG+" updateCheckFlag() 文章上下线操作失败"),n.logger.warn(e.TAG+" updateCheckFlag() 请求接口地址: "+t.url),n.logger.warn(e.TAG+" updateCheckFlag() 接口返回数据: "+JSON.stringify(t.data)),{status:"error"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" updateCheckFlag() 文章上下线操作报错: "+t.message),n.logger.error(e.TAG+" updateCheckFlag() 请求接口地址: "+t.url),Object(a.a)({status:"error"})}))},e.prototype.getTemplateArticleDetail=function(t,r,i){var n=this;return this.aumsApi.getTemplateArticleDetail(t,r,i).pipe(Object(s.a)(function(t){var r=t&&t.data&&t.data.allDisDetail,a=Array.isArray(r)&&r.filter(function(e){return"stb"!==e.client});return a&&a.length?{status:"success",data:a}:(n.logger.warn(e.TAG+" getTemplateArticleDetail() 获取文章模板信息失败"),n.logger.warn(e.TAG+" getTemplateArticleDetail() 请求接口地址: "+t.url),n.logger.warn(e.TAG+" getTemplateArticleDetail() 接口返回数据: "+JSON.stringify(t.data)),{status:"error"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" getTemplateArticleDetail() 获取文章模板信息报错: "+t.message),n.logger.error(e.TAG+" getTemplateArticleDetail() 请求接口地址: "+t.url),Object(a.a)({status:"error"})}))},e.prototype.getArticle=function(t,r,i){var n=this;void 0===i&&(i="ancms_server_interface");var u="getArticle";return this.aumsApi.getArticle(t,r,i).pipe(Object(s.a)(function(t){return t&&t.data&&t.data.article?{status:"success",data:{article:t.data.article,ArticleRelation:t.data.ArticleRelation}}:(n.logger.warn(e.TAG+" "+u+"() 获取文章失败"),n.logger.warn(e.TAG+" "+u+"() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" "+u+"() 接口返回数据: "+JSON.stringify(t.data)),{status:"error",message:t.data.message})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" "+u+"() 获取文章报错: "+t.message),n.logger.error(e.TAG+" "+u+"() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.addComment=function(t,r,n,u,g,c,l){var d=this;return void 0===l&&(l="aums_comment"),Object(a.a)(this.normalUserService.user).pipe(Object(s.a)(function(e){return e?{status:"success",data:e}:{status:"error"}}),Object(i.a)(function(i){if("success"===i.status){var p=i.data;return d.aumsApi.addComment({targetId:t,commentTypeId:d.app.appConfig.vote.type.comment[n].typeId,userId:p.userId,userTypeId:d.app.appConfig.ums.userType,areaId:p.areaId,content:r,refId:u,subId:g},c,l).pipe(Object(s.a)(function(t){return 1==t.data.isSuccess?{status:"success",data:t.data}:(d.logger.warn(e.TAG+" addComment() 添加评论失败"),d.logger.warn(e.TAG+" addComment() 获取文章失败"),d.logger.warn(e.TAG+" addComment() 请求接口地址: "+t.url),d.logger.warn(e.TAG+" addComment() 接口返回数据: "+JSON.stringify(t.data)),{status:"error"})}),Object(o.a)(function(t){return d.logger.error(e.TAG+" addComment() 获取文章报错: "+t.message),d.logger.error(e.TAG+" addComment() 请求接口地址: "+t.url),Object(a.a)({status:"error"})}))}return d.logger.warn(e.TAG+" addComment() 获取普通用户信息失败"),Object(a.a)({status:"error",message:"获取普通用户信息失败"})}))},e.prototype.getTotalComment=function(t,r,i){var n=this;void 0===i&&(i="aums_comment");var u="getTotalComment";return this.aumsApi.getTotalComment(t,r,i).pipe(Object(s.a)(function(t){var r=t&&t.data&&t.data.data;return Array.isArray(r)&&r.length?{status:"success",data:r}:(n.logger.warn(e.TAG+" "+u+"() 获取评论列表失败"),n.logger.warn(e.TAG+" "+u+"() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" "+u+"() 接口返回数据: "+JSON.stringify(t.data)),{status:"empty"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" "+u+"() 获取评论列表报错: "+t.message),n.logger.error(e.TAG+" "+u+"() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.getReplyList=function(t,r,n,u,g){var c=this;return void 0===g&&(g="aums_comment"),Object(a.a)(this.normalUserService.user).pipe(Object(i.a)(function(i){return i?c.aumsApi.getReplyList({subId:t,userId:i.userId,userTypeId:i.userType,page:r,rows:n},u,g).pipe(Object(s.a)(function(t){var r=t.data&&t.data.data;return r.length?{status:"success",data:r}:(c.logger.warn(e.TAG+" getReplyList() 评论回复列表为空"),c.logger.warn(e.TAG+" getReplyList() 请求接口地址: "+t.url),c.logger.warn(e.TAG+" getReplyList() 接口返回数据: "+JSON.stringify(t.data)),{status:"empty"})}),Object(o.a)(function(t){return c.logger.error(e.TAG+" getReplyList() 获取评论列表报错: "+t.message),c.logger.error(e.TAG+" getReplyList() 请求接口地址: "+t.url),Object(a.a)({status:"error"})})):(c.logger.warn(e.TAG+" getReplyList() 获取普通用户信息失败"),Object(a.a)({status:"error",message:"获取普通用户信息失败"}))}))},e.prototype.addPraise=function(t,r,i){var n=this;return void 0===i&&(i="aums_comment"),this.aumsApi.addPraise(t,r,i).pipe(Object(s.a)(function(t){return 1===t.data.isSuccess?{status:"success",data:t.data}:(n.logger.warn(e.TAG+" 对评论用户评论点赞失败 addPraise()"),n.logger.warn(e.TAG+" addPraise() 请求接口地址 "+t.url),n.logger.warn(e.TAG+" addPraise() 接口返回数据: "+JSON.stringify(t.data)),{status:"error"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" addPraise() 对评论用户评论点赞报错: "+t.message),n.logger.error(e.TAG+" addPraise() 请求接口地址: "+t.url),Object(a.a)({status:"error"})}))},e.prototype.deleteComment=function(t,r,i){var n=this;return void 0===i&&(i="aums_comment"),this.aumsApi.deleteComment(t,r,i).pipe(Object(s.a)(function(t){return 1===t.data.isSuccess?{status:"success",data:t.data}:(n.logger.warn(e.TAG+" 删除评论失败 deleteComment()"),n.logger.warn(e.TAG+" deleteComment() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" deleteComment() 接口返回数据: "+JSON.stringify(t.data)),{status:"error"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" deleteComment() 删除评论报错: "+t.message),n.logger.error(e.TAG+" deleteComment() 请求接口地址: "+t.url),Object(a.a)({status:"error"})}))},e.prototype.getTotalCntByCIds=function(t,r,i){var n=this;return void 0===i&&(i="aums_vote_interface"),this.aumsApi.getTotalCntByCIds(t,r,i).pipe(Object(s.a)(function(t){return t.data&&t.data.data&&t.data.data.length?{status:"success",data:t.data.data}:(n.logger.warn(e.TAG+" 票数为空或者请求失败 getTotalCntByCIds()"),n.logger.warn(e.TAG+" getTotalCntByCIds() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" getTotalCntByCIds() 接口返回数据: "+JSON.stringify(t.data)),{status:"empty"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" getTotalCntByCIds() 获取票数报错: "+t.message),n.logger.error(e.TAG+" getTotalCntByCIds() 请求接口地址: "+t.url),Object(a.a)({status:"error"})}))},e.prototype.getVoteUserCollect=function(t,r,i){var n=this;return void 0===i&&(i="aums_vote_interface"),this.aumsApi.getVoteUserCollect({columnIds:t.columnIds,typeId:t.typeId,userId:t.userId},r,i).pipe(Object(s.a)(function(t){var r=t.data&&t.data.data&&t.data.data.VoteUserCollect;return Array.isArray(r)&&r.length?{status:"success",data:r}:(n.logger.warn(e.TAG+" 用户统计记录为空或者请求失败 getVoteUserCollect()"),n.logger.warn(e.TAG+" getVoteUserCollect() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" getVoteUserCollect() 接口返回数据: "+JSON.stringify(t.data)),{status:"error"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" getVoteUserCollect() 获取用户的统计记录报错: "+t.message),n.logger.error(e.TAG+" getVoteUserCollect() 请求接口地址: "+t.url),Object(a.a)({status:"error"})}))},e.prototype.getObjectCommentCount=function(t,r,i){var n=this;return this.aumsApi.getObjectCommentCount(t,r,i).pipe(Object(s.a)(function(t){return t.data&&t.data.data&&t.data.data.length?{status:"success",data:t.data.data}:(n.logger.warn(e.TAG+" getObjectCommentCount() 查询文章或视频的总评论数量失败"),n.logger.warn(e.TAG+" getObjectCommentCount() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" getObjectCommentCount() 接口返回数据: "+JSON.stringify(t.data)),{status:"empty"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" getObjectCommentCount() 查询文章或视频的总评论数量报错: "+t.message),n.logger.error(e.TAG+" getObjectCommentCount() 请求接口地址: "+t.url),Object(a.a)({status:"error"})}))},e.prototype.castVote=function(t,r,n,u){var g=this;return void 0===u&&(u="aums_vote_interface"),Object(a.a)(this.normalUserService.user).pipe(Object(i.a)(function(i){return i?g.aumsApi.castVote({columnId:t,userId:i.userId,typeId:r,point:1},n,u).pipe(Object(s.a)(function(t){return 1===t.data.code?{status:"success",data:t.data}:(g.logger.warn(e.TAG+" 投票失败 castVote()"),g.logger.warn(e.TAG+" castVote() 接口返回地址 "+t.url),g.logger.warn(e.TAG+" castVote() 接口返回数据: "+JSON.stringify(t.data)),{status:"error"})}),Object(o.a)(function(t){return g.logger.error(e.TAG+" castVote() 投票失败报错: "+t.message),g.logger.error(e.TAG+" castVote() 请求接口地址: "+t.url),Object(a.a)({status:"error"})})):(g.logger.warn(e.TAG+" castVote() 获取普通用户信息失败"),Object(a.a)({status:"error",message:"获取普通用户信息失败"}))}))},e.prototype.getVoteColumCount=function(t,r,i){var n=this;return void 0===i&&(i="aums_vote_interface"),this.aumsApi.getVoteColumCount(t,r,i).pipe(Object(s.a)(function(t){return t.data.data?{status:"success",data:t.data.data}:(n.logger.warn(e.TAG+" 栏目收藏点赞为空 getVoteColumCount()"),n.logger.warn(e.TAG+" getVoteColumCount() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" getVoteColumCount() 接口返回数据: "+JSON.stringify(t.data)),{status:"error"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" getVoteColumCount() 获取栏目收藏点赞统计数据 "+t.message),n.logger.error(e.TAG+" getVoteColumCount() 请求接口地址: "+t.url),Object(a.a)({status:"error"})}))},e.prototype.createImage=function(e,t,r){return this.aumsApi.createImage(e,t,r).pipe(Object(s.a)(function(e){return{status:"success",data:e.data}}))},e.prototype.openArticle=function(t){switch(this.logger.debug(e.TAG+" openArticle() articleItem info is:"+JSON.stringify(t)),t.type){case"atlas":this.router.navigate(["standard/article-photoes/"+t.id]);break;case"article":this.router.navigate(["standard/article/"+t.raw.columnId+"/"+t.id+"/"+t.author]);break;case"vote":this.router.navigate(["questionnaire-form",{id:t.id,name:t.title,cId:t.raw.columnId}]);break;case"video":var r,a=t.raw.ArticleRelation&&t.raw.ArticleRelation.find(function(e){return"视频地址"===e.adescride}),s=t.raw.ArticleRelation&&t.raw.ArticleRelation.find(function(e){return"横屏或竖屏"===e.adescride});(r=a?a.atext:t.playUrl)?this.nativeBridgeService.invoke({method:g.b.METHOD_PLAY_VIDEO},r,+(s?s.atext||1:t.isHorizontal)):this.appUtils.toast("fail","该视频未配置视频播放地址！")}},e.prototype.addArticle=function(e,t,r){return this.aumsApi.addArticle(e,t,r)},e.prototype.getVote=function(t,r,i){var n=this;return this.aumsApi.getQBByid(t,r,i).pipe(Object(s.a)(function(t){try{t.data.avote=JSON.parse(t.data.avote)}catch(r){n.logger.warn(e.TAG+" getVote() 接口返回avote字段反序列化报错: "+r.message)}return t.data.avote?{status:"success",data:t.data}:(n.logger.warn(e.TAG+" getVote() 未获取到投票或者问卷信息 getVote()"),n.logger.warn(e.TAG+" getVote() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" getVote() 接口返回数据: "+JSON.stringify(t.data)),{status:"error"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" getVote() 获取投票或者问卷信息失败: "+t.message),n.logger.error(e.TAG+" getVote() 请求接口地址: "+t.url),Object(a.a)({status:"error"})}))},e.prototype.addVote=function(t,r,i){var n=this;return this.aumsApi.addVote(t,r,i).pipe(Object(s.a)(function(t){return t&&t.data&&t.data.voteId?{status:"success",data:t.data}:(n.logger.warn(e.TAG+" addVote() 添加问卷或者投票信息失败"),n.logger.warn(e.TAG+" addVote() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" addVote() 接口返回数据: "+JSON.stringify(t.data)),{status:"error"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" addVote() 添加问卷或者投票信息报错: "+t.message),n.logger.error(e.TAG+" addVote() 请求接口地址: "+t.url),Object(a.a)({status:"error"})}))},e.prototype.editVQ=function(t,r,i){var n=this;return this.aumsApi.editVQ(t,r,i).pipe(Object(s.a)(function(t){return t&&t.data&&t.data.voteId?{status:"success",data:t.data}:(n.logger.warn(e.TAG+" editVQ() 编辑问卷或者投票信息失败"),n.logger.warn(e.TAG+" editVQ() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" editVQ() 接口返回数据: "+JSON.stringify(t.data)),{status:"error"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" editVQ() 编辑问卷或者投票信息报错: "+t.message),n.logger.error(e.TAG+" editVQ() 请求接口地址: "+t.url),Object(a.a)({status:"error"})}))},e.prototype.addQB=function(t,r,i){var n=this;t=Object.assign({amax:1,amin:1,atype:"text"},t);var u=this.getAddQBFieldsContraint();try{if(this.validate(t.atitle,u.atitle),this.validate(t.voteid,u.voteid),!t.optionInfo||!Array.isArray(t.optionInfo.rows)||0==t.optionInfo.rows.length)throw new Error("该选题还没有添加选项");t.optionInfo.rows&&t.optionInfo.rows.every(function(e){return e.aimageid||n.validate(e.AoptionText,u.AoptionText),!0})}catch(g){return Object(a.a)({status:"error",message:g.message})}return this.aumsApi.addQB(t,r,i).pipe(Object(s.a)(function(t){return t&&t.data&&t.data.data&&t.data.data.id?{status:"success",data:t.data}:(n.logger.warn(e.TAG+" addQB() 新增或者更新投票或问卷题面失败"),n.logger.warn(e.TAG+" addQB() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" addQB() 接口返回数据: "+JSON.stringify(t.data)),{status:"error"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" addQB() 新增或者更新投票或问卷题面报错: "+t.message),n.logger.error(e.TAG+" addQB() 请求接口地址: "+t.url),Object(a.a)({status:"error"})}))},e.prototype.deleteAproblem=function(t,r,i){var n=this;return this.aumsApi.deleteAproblem(t,r,i).pipe(Object(s.a)(function(t){return 1==(t&&t.data&&t.data.isSuccess)?{status:"success"}:(n.logger.warn(e.TAG+" deleteAproblem() 删除投票或问卷题面失败"),n.logger.warn(e.TAG+" deleteAproblem() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" deleteAproblem() 接口返回数据: "+JSON.stringify(t.data)),{status:"error"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" deleteAproblem()删除投票或问卷题面报错: "+t.message),n.logger.error(e.TAG+" deleteAproblem() 请求接口地址: "+t.url),Object(a.a)({status:"error"})}))},e.prototype.getAddQBFieldsContraint=function(){return{atitle:{required:!0,label:"题目名称"},voteid:{required:!0,label:"投票或者问卷的id"},AoptionText:{required:!0,label:"选项名称"}}},e.prototype.logout=function(t,r,i){var n=this;return this.aumsApi.logout(t,r,i).pipe(Object(s.a)(function(t){return 1==(t&&t.data&&t.data.isSuccess)?{status:"success"}:(n.logger.warn(e.TAG+" logout() 退出登录失败"),n.logger.warn(e.TAG+" logout() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" logout() 接口返回数据: "+JSON.stringify(t.data)),{status:"error",message:"退出登录失败，请稍后再试！"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" logout() 退出登录报错: "+t.message),n.logger.error(e.TAG+" logout() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:"退出登录失败，请稍后再试！"})}))},e.prototype.getShortVideoUserInfo=function(t,r,i){var n=this;return this.aumsApi.getShortVideoUserInfo(t,r,i).pipe(Object(s.a)(function(t){return 1==(t&&t.data&&t.data.success)?{status:"success",data:t.data}:(n.logger.warn(e.TAG+" getShortVideoUserInfo() 查询短视频用户信息失败"),n.logger.warn(e.TAG+" getShortVideoUserInfo() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" getShortVideoUserInfo() 接口返回数据: "+JSON.stringify(t.data)),{status:"error"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" getShortVideoUserInfo() 查询短视频用户信息报错: "+t.message),n.logger.error(e.TAG+" getShortVideoUserInfo() 请求接口地址: "+t.url),Object(a.a)({status:"error"})}))},e.prototype.getViewableShortVideoList=function(t,r,i){var n=this;return this.aumsApi.getViewableShortVideoList(t,r,i).pipe(Object(s.a)(function(t){return 1==(t&&t.data&&t.data.success)?{status:"success",data:t.data.data}:(n.logger.warn(e.TAG+" getViewableShortVideoList() 获取自己可以观看的短视频文件列表失败"),n.logger.warn(e.TAG+" getViewableShortVideoList() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" getViewableShortVideoList() 接口返回数据: "+JSON.stringify(t.data)),{status:"error",message:t.data.errMessage})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" getViewableShortVideoList() 获取自己可以观看的短视频文件列表报错: "+t.message),n.logger.error(e.TAG+" getViewableShortVideoList() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.getOwnShortVideoList=function(t,r,i){var n=this;return this.aumsApi.getOwnShortVideoList(t,r,i).pipe(Object(s.a)(function(t){var r=t&&t.data&&t.data.data;return Array.isArray(r)&&r.length?{status:"success",data:t.data.data}:Array.isArray(r)?{status:"empty"}:(n.logger.warn(e.TAG+" getOwnShortVideoList() 获取自己可以观看的短视频文件列表失败"),n.logger.warn(e.TAG+" getOwnShortVideoList() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" getOwnShortVideoList() 接口返回数据: "+JSON.stringify(t.data)),{status:"error",message:t.data.errMessage})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" getOwnShortVideoList() 获取自己可以观看的短视频文件列表报错: "+t.message),n.logger.error(e.TAG+" getOwnShortVideoList() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.getManageableShortVideoList=function(t,r,i){var n=this;return this.aumsApi.getManageableShortVideoList(t,r,i).pipe(Object(s.a)(function(t){return 1==(t&&t.data&&t.data.success)?{status:"success",data:t.data.data}:(n.logger.warn(e.TAG+" getManageableShortVideoList() 获取自己可以管理的短视频文件列表失败"),n.logger.warn(e.TAG+" getManageableShortVideoList() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" getManageableShortVideoList() 接口返回数据: "+JSON.stringify(t.data)),{status:"error",message:t.data.errMessage})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" getManageableShortVideoList() 获取自己可以管理的短视频文件列表报错: "+t.message),n.logger.error(e.TAG+" getManageableShortVideoList() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.getAreaList=function(t,r,i){var n=this;return this.aumsApi.getAreaList(t,r,i).pipe(Object(s.a)(function(t){return 1==(t&&t.data&&t.data.status)?{status:"success",data:t.data}:(n.logger.warn(e.TAG+" getAreaList() 获取区域列表失败"),n.logger.warn(e.TAG+" getAreaList() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" getAreaList() 接口返回数据: "+JSON.stringify(t.data)),{status:"error",message:t.data.message})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" getAreaList() 获取区域列表报错: "+t.message),n.logger.error(e.TAG+" getAreaList() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.getShareShortVideoAreaTree=function(t,r,i){var n=this;return this.aumsApi.getShareShortVideoAreaTree(t,r,i).pipe(Object(s.a)(function(t){return 1==(t&&t.data&&t.data.success)?{status:"success",data:t.data}:(n.logger.warn(e.TAG+" getShareShortVideoAreaTree() 获取短视频可分享的区域列表失败"),n.logger.warn(e.TAG+" getShareShortVideoAreaTree() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" getShareShortVideoAreaTree() 接口返回数据: "+JSON.stringify(t.data)),{status:"error",message:t.data.message})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" getShareShortVideoAreaTree()获取短视频可分享的区域列表报错: "+t.message),n.logger.error(e.TAG+" getShareShortVideoAreaTree() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.getAreaListByAreaId=function(t,r,i){var n=this;return this.aumsApi.getAreaListByAreaId(t,r,i).pipe(Object(s.a)(function(t){return 1==(t&&t.data&&t.data.status)?{status:"success",data:t.data}:(n.logger.warn(e.TAG+" getAreaListByAreaId() 查询直播可分享区域列表失败"),n.logger.warn(e.TAG+" getAreaListByAreaId() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" getAreaListByAreaId() 接口返回数据: "+JSON.stringify(t.data)),{status:"error",message:t.data.message})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" getAreaListByAreaId() 查询直播可分享区域列表报错: "+t.message),n.logger.error(e.TAG+" getAreaListByAreaId() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.shareShortVideoListToClient=function(t,r,i){var n=this;return this.aumsApi.shareShortVideoListToClient(t,r,i).pipe(Object(s.a)(function(t){return 1==(t&&t.data&&t.data.success)?{status:"success",data:t.data}:(n.logger.warn(e.TAG+" shareShortVideoListToClient() 短视频分享区域设置失败"),n.logger.warn(e.TAG+" shareShortVideoListToClient() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" shareShortVideoListToClient() 接口返回数据: "+JSON.stringify(t.data)),{status:"error",message:t.data.message})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" shareShortVideoListToClient() 短视频分享区域设置报错: "+t.message),n.logger.error(e.TAG+" shareShortVideoListToClient() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.shareShortVideoListToStb=function(t,r,i){var n=this;return this.aumsApi.shareShortVideoListToStb(t,r,i).pipe(Object(s.a)(function(t){return 1==(t&&t.data&&t.data.success)?{status:"success",data:t.data}:(n.logger.warn(e.TAG+" shareShortVideoListToStb() 短视频分享到机顶盒失败"),n.logger.warn(e.TAG+" shareShortVideoListToStb() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" shareShortVideoListToStb() 接口返回数据: "+JSON.stringify(t.data)),{status:"error",message:t.data.message})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" shareShortVideoListToStb() 短视频分享到机顶盒报错: "+t.message),n.logger.error(e.TAG+" shareShortVideoListToStb() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.articlePublishAreaTree=function(t,r,i){var n=this;return this.aumsApi.articlePublishAreaTree(t,r,i).pipe(Object(s.a)(function(t){return Array.isArray(t.data)&&t.data[0].text?{status:"success",data:t.data}:(n.logger.warn(e.TAG+" articlePublishAreaTree() 获取文章可发布区域失败！"),n.logger.warn(e.TAG+" articlePublishAreaTree() 接口地址："+t.url),n.logger.warn(e.TAG+" articlePublishAreaTree() 接口返回数据："+t.data),{status:"error",message:t.data.message})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" articlePublishAreaTree() 获取文章可发布区域报错: "+t.message),n.logger.error(e.TAG+" articlePublishAreaTree() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.getHostInfo=function(t,r,i){var n=this;return this.aumsApi.getHostInfo(t,r,i).pipe(Object(s.a)(function(t){return t&&t.data&&t.data.success?{status:"success",data:t.data}:(n.logger.warn(e.TAG+" getHostInfo() 查看主播信息失败"),n.logger.warn(e.TAG+" getHostInfo() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" getHostInfo() 接口返回数据: "+JSON.stringify(t.data)),{status:"error",message:t.data.message})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" getHostInfo() 查看主播信息报错: "+t.message),n.logger.error(e.TAG+" getHostInfo() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.getMyLive=function(t,r,i){var n=this,u="getMyLive";return this.aumsApi.getMyLive(t,r,i).pipe(Object(s.a)(function(t){return t&&t.data&&t.data.success?{status:"success",data:t.data}:(n.logger.warn(e.TAG+" "+u+"() 查询我发起的直播失败"),n.logger.warn(e.TAG+" "+u+"() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" "+u+"() 接口返回数据: "+JSON.stringify(t.data)),{status:"empty",message:"您还没有发起直播！"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" "+u+"() 查询我发起的直播报错: "+t.message),n.logger.error(e.TAG+" "+u+"() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.getMyWacthLive=function(t,r,i){var n=this,u="getMyWacthLive";return this.aumsApi.getMyWacthLive(t,r,i).pipe(Object(s.a)(function(t){var r=t&&t.data&&t.data.data;return Array.isArray(r)&&r.length?{status:"success",data:r}:(n.logger.warn(e.TAG+" "+u+"() 查询我可以观看的直播失败"),n.logger.warn(e.TAG+" "+u+"() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" "+u+"() 接口返回数据: "+JSON.stringify(t.data)),{status:"empty",message:"暂时没有发布的直播！"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" "+u+"() 查询我可以观看的直播报错: "+t.message),n.logger.error(e.TAG+" "+u+"() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.getMyManagerLive=function(t,r,i){var n=this,u="getMyManagerLive";return this.aumsApi.getMyManagerLive(t,r,i).pipe(Object(s.a)(function(t){var r=t&&t.data&&t.data.data;return Array.isArray(r)&&r.length?{status:"success",data:r}:(n.logger.warn(e.TAG+" "+u+"() 查询我可以管理的直播失败"),n.logger.warn(e.TAG+" "+u+"() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" "+u+"() 接口返回数据: "+JSON.stringify(t.data)),{status:"empty",message:t.data.message||"暂时没有可管理的直播！"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" "+u+"() 查询我可以管理的直播报错: "+t.message),n.logger.error(e.TAG+" "+u+"() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.createLive=function(t,r,i){var n=this,u="createLive";return this.aumsApi.createLive(t,r,i).pipe(Object(s.a)(function(t){return t&&t.data&&t.data.errorCode?{status:"success",data:t.data}:(n.logger.warn(e.TAG+" "+u+"() 发起直播失败"),n.logger.warn(e.TAG+" "+u+"() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" "+u+"() 接口返回数据: "+JSON.stringify(t.data)),{status:"error",message:t.data.message})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" "+u+"() 发起直播报错: "+t.message),n.logger.error(e.TAG+" "+u+"() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.stopLive=function(t,r,i){var n=this,u="stopLive";return this.aumsApi.stopLive(t,r,i).pipe(Object(s.a)(function(t){return t&&t.data&&t.data.success?{status:"success",data:t.data}:(n.logger.warn(e.TAG+" "+u+"() 结束直播失败"),n.logger.warn(e.TAG+" "+u+"() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" "+u+"() 接口返回数据: "+JSON.stringify(t.data)),{status:"error",message:t.data.message})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" "+u+"() 结束直播报错: "+t.message),n.logger.error(e.TAG+" "+u+"() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.checkLive=function(t,r,i){var n=this,u="checkLive";return this.aumsApi.checkLive(t,r,i).pipe(Object(s.a)(function(t){return t&&t.data&&t.data.success?{status:"success",data:t.data}:(n.logger.warn(e.TAG+" "+u+"() 设置直播间信息失败"),n.logger.warn(e.TAG+" "+u+"() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" "+u+"() 接口返回数据: "+JSON.stringify(t.data)),{status:"error",message:t.data.message})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" "+u+"() 设置直播间信息报错: "+t.message),n.logger.error(e.TAG+" "+u+"() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.shareLive=function(t,r,i){var n=this,u="shareLive";return this.aumsApi.shareLive(t,r,i).pipe(Object(s.a)(function(t){return t&&t.data&&t.data.success?{status:"success",data:t.data}:(n.logger.warn(e.TAG+" "+u+"() 分享直播间失败"),n.logger.warn(e.TAG+" "+u+"() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" "+u+"() 接口返回数据: "+JSON.stringify(t.data)),{status:"error",message:t.data.message})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" "+u+"() 分享直播间报错: "+t.message),n.logger.error(e.TAG+" "+u+"() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.livePush=function(t,r,i){var n=this,u="livePush";return this.aumsApi.livePush(t,r,i).pipe(Object(s.a)(function(t){return t&&t.data&&t.data.success?{status:"success",data:t.data}:(n.logger.warn(e.TAG+" "+u+"() 推送直播间信息失败"),n.logger.warn(e.TAG+" "+u+"() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" "+u+"() 接口返回数据: "+JSON.stringify(t.data)),{status:"error",message:t.data.message})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" "+u+"() 推送直播间信息报错: "+t.message),n.logger.error(e.TAG+" "+u+"() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.checkUserVote=function(t,r,i){var n=this;void 0===i&&(i="ancms_server_interface");var u="checkUserVote";return this.aumsApi.checkUserVote(t,r,i).pipe(Object(s.a)(function(t){var r=t&&t.data&&t.data.isSuccess;if(1==r)return{status:"success",data:t.data};n.logger.warn(e.TAG+" "+u+"() 检查用户投票权限失败"),n.logger.warn(e.TAG+" "+u+"() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" "+u+"() 接口返回数据: "+JSON.stringify(t.data));var a="无法投票！";return-1==r?a="投票问卷未开始，请在投票开始后进行投票！":-2==r?a="投票问卷已结束！":2==r?a="已达到最大投票次数！":3==r&&(a="今日投票已达上限！"),{status:"error",message:a}}),Object(o.a)(function(t){return n.logger.error(e.TAG+" "+u+"() 检查用户投票权限报错: "+t.message),n.logger.error(e.TAG+" "+u+"() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.vqStatisticsServlet=function(t,r,i){var n=this;void 0===i&&(i="ancms_server_interface");var u="vqStatisticsServlet";return this.aumsApi.vqStatisticsServlet(t,r,i).pipe(Object(s.a)(function(t){return t&&t.data&&t.data.isSuccess?{status:"success"}:(n.logger.warn(e.TAG+" "+u+"() 提交问卷答题失败"),n.logger.warn(e.TAG+" "+u+"() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" "+u+"() 接口返回数据: "+JSON.stringify(t.data)),{status:"error",message:t.data.errorMessage||"投票失败，请稍后再试"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" "+u+"() 提交问卷答题报错: "+t.message),n.logger.error(e.TAG+" "+u+"() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.asaverecore=function(t,r,i){var n=this;void 0===i&&(i="ancms_server_interface");var u="asaverecore";return this.aumsApi.asaverecore(t,r,i).pipe(Object(s.a)(function(t){return t&&t.data&&t.data.isSuccess?{status:"success"}:(n.logger.warn(e.TAG+" "+u+"() 投票完成后记录低量数据失败"),n.logger.warn(e.TAG+" "+u+"() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" "+u+"() 接口返回数据: "+JSON.stringify(t.data)),{status:"error",message:t.data.errorMessage||"投票失败，请稍后再试"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" "+u+"() 投票完成后记录低量数据报错: "+t.message),n.logger.error(e.TAG+" "+u+"() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.shareArticle=function(t,r,i){var n=this;void 0===i&&(i="ancms");var u="shareArticle";return this.aumsApi.shareArticle(t,r,i).pipe(Object(s.a)(function(t){return 0===(t&&t.data&&t.data.isSuccess)?{status:"success"}:(n.logger.warn(e.TAG+" "+u+"() 文章分享到指定区域失败"),n.logger.warn(e.TAG+" "+u+"() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" "+u+"() 接口返回数据: "+JSON.stringify(t.data)),{status:"error",message:t.data.errorMessage||"文章分享失败，请稍后再试"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" "+u+"() 文章分享到指定区域报错: "+t.message),n.logger.error(e.TAG+" "+u+"() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.prototype.modifyPwd=function(t,r,i){var n=this,u="modifyPwd";return this.aumsApi.modifyPwd(t,r,i).pipe(Object(s.a)(function(t){return 1==(t&&t.data&&t.data.code)?{status:"success"}:(n.logger.warn(e.TAG+" "+u+"() 管理员修改密码失败"),n.logger.warn(e.TAG+" "+u+"() 接口返回地址 "+t.url),n.logger.warn(e.TAG+" "+u+"() 接口返回数据: "+JSON.stringify(t.data)),{status:"error",message:t.data.errorMessage||"修改密码失败，请稍后再试"})}),Object(o.a)(function(t){return n.logger.error(e.TAG+" "+u+"() 管理员修改密码报错: "+t.message),n.logger.error(e.TAG+" "+u+"() 请求接口地址: "+t.url),Object(a.a)({status:"error",message:t.message})}))},e.TAG="AumsService",e.articleTypeList=[{type:"video",name:"短视频"},{type:"article",name:"图文",adminRoute:"admin/publish/article",detailRoute:""},{type:"atlas",name:"图集",adminRoute:"admin/publish/photos"},{type:"vote",name:"问卷调查",adminRoute:"admin/publish/vote/subject"}],e.ngInjectableDef=p["ɵɵdefineInjectable"]({factory:function(){return new e(p["ɵɵinject"](A.b),p["ɵɵinject"](n.a),p["ɵɵinject"](m.b),p["ɵɵinject"](T.c),p["ɵɵinject"](g.b),p["ɵɵinject"](h.m),p["ɵɵinject"](c.a),p["ɵɵinject"](l.a),p["ɵɵinject"](d.a))},token:e,providedIn:"root"}),e}()}}]);