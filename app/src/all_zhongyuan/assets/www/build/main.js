webpackJsonp([48],{132:function(e,t,r){"use strict";r.d(t,"a",function(){return i});r(0),r(20),r(56);var i=function(){function e(e,t,r,i){this.http=e,this.normalUser=t,this.logger=r,this.app=i,this.TAG="PageAuthProvider"}return e.prototype.canEnter=function(e,t,r){var i=this;return void 0===t&&(t="normal"),void 0===r&&(r=this.app.defaultNormalUserStatusLevels),new Promise(function(e,t){i.playload=null,i.logger.info(i.TAG+" canEnter() normal user status: "+i.normalUser.getNormalUserStatus()),-1!==r.indexOf(i.normalUser.getNormalUserStatus())?e():(i.playload={status:"error",message:"没有权限浏览该页面",type:"user"},t())})},e.prototype.invalidUserRouter=function(e,t){this.playload&&(this.playload=null,t.push("NormalInvalidUserPage",{name:e}))},e}()},133:function(e,t,r){"use strict";r.d(t,"a",function(){return u});r(0),r(27);var i=r(22),s=(r.n(i),r(26),r(34)),n=(r.n(s),r(42)),o=(r(20),r(355)),a=r(64),u=(r.n(a),function(){function e(e,t,r,i,s){this.http=e,this.aumsApi=t,this.utils=r,this.nativeJsExtend=i,this.app=s,this.TAG="ServerAddressListProvider",this.KEY="storage_server_address_list",this.KEY_STORAGE_CURRENT_SERVER_ADDRESS="storage_current_server_address",this.refetch=!0}return Object.defineProperty(e.prototype,"serverAddressList",{get:function(){return this._serverAddressList||(this._serverAddressList=this.loadFormStorage(this.KEY)),this._serverAddressList},set:function(e){this._serverAddressList=e,this.saveToStorage(this.KEY,JSON.stringify(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentServerAddress",{get:function(){return this._currentServerAddress||(this._currentServerAddress=this.loadFormStorage(this.KEY_STORAGE_CURRENT_SERVER_ADDRESS)),this._currentServerAddress},set:function(e){this._currentServerAddress=e,this.saveToStorage(this.KEY_STORAGE_CURRENT_SERVER_ADDRESS,JSON.stringify(e))},enumerable:!0,configurable:!0}),e.prototype.setRefetch=function(e){this.refetch=!!e},e.prototype.getList=function(e){var t=this;return this.refetch&&(this.refetch=!1,this.serverAddressList=null),this.serverAddressList&&this.serverAddressList.length?Object(s.of)({status:"complete",data:this.serverAddressList}):this.aumsApi.getServerAddress(this.app.aums_center.apiEndPoint).pipe(Object(i.map)(function(e){return 1===e.code?t.serverAddressList=e.data:t.utils.log("warn",t.TAG,"getList","获取服务器列表失败: "+e.message),Array.isArray(t.serverAddressList)?{status:"complete"}:{status:"empty"}}),Object(i.catchError)(function(e){return new a.ErrorObservable({status:"error",message:e.message})}))},e.prototype.saveToStorage=function(e,t){this.nativeJsExtend.startActivity(n.a.ACTIVITY_STORAGE_SETTER,e,t)},e.prototype.loadFormStorage=function(e){var t;try{var r=this.nativeJsExtend.startActivity(n.a.ACTIVITY_STORAGE_GETTER,e,"");null!==r&&(t=JSON.parse(r),this.utils.log("info",this.TAG,"loadFormStorage","APP缓存加载数据(key="+e+")成功"))}catch(t){this.utils.log("error",this.TAG,"loadFormStorage","APP缓存加载数据(key="+e+")失败: "+t.message)}return t},e.prototype.setCurrentServerAddress=function(e){this.currentServerAddress=e},e.prototype.setRemoteConfig=function(e){if(e){var t=e.host,r=new o.a;t?r.apiEndPoint="http://"+t:this.utils.log("warn",this.TAG,"setAumsServer",e.hostName+"服务器未配置主机地址"),r.rootAreaId=e.regionId,r.websiteId=+e.columnId,this.app.setAumsConfig(r),this.app.setAumsVoteConfig(e.vote_data)}},e.prototype.setCurrentServerAddressNull=function(){this._currentServerAddress=null},e}())},134:function(e,t,r){"use strict";r.d(t,"a",function(){return a});r(0),r(27);var i=r(34),s=(r.n(i),r(22)),n=(r.n(s),r(26),r(42)),o=(r(93),r(20),r(64)),a=(r.n(o),function(){function e(e,t,r,i,s,n){this.http=e,this.aumsApi=t,this.utils=r,this.nativeJsExtend=i,this.umsUser=s,this.app=n,this.TAG="UserAreaListProvider",this.KEY="storage_user_area_list",this.KEY_CURRENT_USER_AREA="storage_current_user_area",this.refetch=!0}return Object.defineProperty(e.prototype,"userAreaList",{get:function(){return this._userAreaList||(this._userAreaList=this.loadFormStorage(this.KEY)),this._userAreaList},set:function(e){this._userAreaList=e,this.saveToStorage(this.KEY,JSON.stringify(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentUserArea",{get:function(){return this._currentUserArea||(this._currentUserArea=this.loadFormStorage(this.KEY_CURRENT_USER_AREA)),this._currentUserArea},set:function(e){this._currentUserArea=e,this.saveToStorage(this.KEY_CURRENT_USER_AREA,JSON.stringify(e))},enumerable:!0,configurable:!0}),e.prototype.setRefetch=function(e){this.refetch=!!e},e.prototype.getList=function(){var e=this;if(this.userAreaList&&this.userAreaList.length&&!0!==this.refetch)return Object(i.of)({status:"complete",data:this.userAreaList});var t=this.umsUser.getUserId();return t?(this.refetch&&(this.refetch=!1),this.aumsApi.getGuestServer({userId:t,userType:this.app.ums.userType},this.app.aums_center.apiEndPoint).pipe(Object(s.map)(function(t){return 1===t.code?e.userAreaList=t.data:e.utils.log("warn",e.TAG,"getList","未获取到用户归属地列表: "+t.message),Array.isArray(e.userAreaList)?{status:"complete",data:e.userAreaList}:{status:"empty",data:[]}}),Object(s.catchError)(function(e){return new o.ErrorObservable({status:"error",message:e.message})}))):Object(i.of)({status:"unlogin",data:[]})},e.prototype.saveToStorage=function(e,t){this.nativeJsExtend.startActivity(n.a.ACTIVITY_STORAGE_SETTER,e,t)},e.prototype.loadFormStorage=function(e){var t;try{var r=this.nativeJsExtend.startActivity(n.a.ACTIVITY_STORAGE_GETTER,e,"");null!==r&&(t=JSON.parse(r),this.utils.log("info",this.TAG,"loadFormStorage","APP缓存加载数据(key="+e+")成功: "+r))}catch(t){this.utils.log("error",this.TAG,"loadFormStorage","APP缓存加载数据(key="+e+")失败: "+t.message)}return t},e.prototype.setCurrentUserArea=function(e){this.currentUserArea=e},e.prototype.checkDuplicateBind=function(e){if(this.utils.log("info",this.TAG,"checkDuplicateBind","检查归属地重复绑定"),!this.userAreaList||0===this.userAreaList.length)return!1;return!!this.userAreaList.find(function(t){return t.areaId===e})},e.prototype.clear=function(){this.userAreaList=null,this.saveToStorage(this.KEY,JSON.stringify(null))},e.prototype.setCurrentUserAreaNull=function(){this._currentUserArea=null},e}())},142:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var i=function(){var e={};return e[e.Unbind=0]="Unbind",e[e.Pending=1]="Pending",e[e.Passed=2]="Passed",e[e.Rejected=3]="Rejected",e[e.Unknown=4]="Unknown",e}()},190:function(e,t,r){"use strict";r.d(t,"a",function(){return n});r(0),r(27);var i=r(22),s=(r.n(i),r(26),r(20),r(42)),n=function(){function e(e,t,r,i,s){this.http=e,this.aumsApiProvider=t,this.utils=r,this.app=i,this.nativeJsExtend=s,this.TAG="GpsLocationProvider",this.permission=!0}return e.prototype.getServer=function(){var e=this,t=this.nativeJsExtend.startActivity(s.a.ACTIVITY_GET_LATITUDE),r=this.nativeJsExtend.startActivity(s.a.ACTIVITY_GET_LONGITUDE);return null!=t&&null!=r||(this.permission=!1),this.utils.log("info",this.TAG,"getServer","gps location : ("+r+","+t+")"),this.aumsApiProvider.getServerByGps({lat:t,lng:r},this.app.aums_center.apiEndPoint).pipe(Object(i.map)(function(t){return t.columnId?{status:"success",data:t}:(e.utils.log("warn",e.TAG,"getServer","gps location find empty server response data: "+JSON.stringify(t)),{status:"empty",message:t.message})}))},e}()},194:function(e,t,r){"use strict";r.d(t,"a",function(){return i});r(0);var i=function(){function e(e){this.http=e}return e.prototype.instanceFatory=function(e,t){switch(e){case"offline":return this.offlineInstance(t);case"timeout":return this.timeoutInstance("网络连接超时，请点击重新加载");case"error":return this.errorInstance(t);case"empty":return this.emptyInstance(t);case"unbind":return this.userUnbindInstance(t);case"pending":return this.userPendingInstance(t);case"rejected":return this.userRejectedInstance(t);case"loading":return this.loadingInstance(t);case"error-montior":return this.errorPublicMonitor(t);default:return this.errorInstance(t)}},e.prototype.loadingInstance=function(e){return{show:!0,data:{status:"loading",icon:"assets/common/loading.gif",message:""}}},e.prototype.errorInstance=function(e){return{show:!0,data:{status:"error",icon:"assets/common/theme/error.png",message:e||"加载出错，点击重新加载"}}},e.prototype.emptyInstance=function(e){return{show:!0,data:{status:"empty",icon:"assets/common/theme/empty.png",message:e||"栏目暂无数据"}}},e.prototype.offlineInstance=function(e){return{show:!0,data:{status:"offline",icon:"assets/common/theme/disconnect.png",message:e||"没有网络连接"}}},e.prototype.timeoutInstance=function(e){return{show:!0,data:{status:"timeout",icon:"assets/common/theme/disconnect.png",message:e||"没有网络连接"}}},e.prototype.successInstance=function(e){return{show:!1,data:{status:"success",icon:"",message:e||"加载完成"}}},e.prototype.errorPublicMonitor=function(e){return{show:!0,data:{status:"empty",icon:"assets/common/theme/empty.png",message:e||"暂无监控数据"}}},e.prototype.userUnbindInstance=function(e){return e="您是游客<br/>能使用亲情圈、视频通、看家宝等功能",{show:!0,data:{status:"unbind",icon:"",message:e||"您还没有归属地!"}}},e.prototype.userPendingInstance=function(e){return e="您是游客<br/>能使用亲情圈、视频通、看家宝等功能",{show:!0,data:{status:"pending",icon:"",message:e||"用户待审核中，请耐心等待!"}}},e.prototype.userRejectedInstance=function(e){return{show:!0,data:{status:"rejected",icon:"assets/common/empty.png",message:e||"用户审核不通过!"}}},e}()},196:function(e,t,r){"use strict";r(0),r(13);var i=r(1),s=function(){function e(){}return e.equal=function(e,t){return e.areaId===t.areaId&&e.id===t.id&&e.areaName===t.areaName&&JSON.stringify(e.power)===JSON.stringify(t.power)&&e.deleteFlag===t.deleteFlag},e}(),n=r(42),o=(r(26),r(34)),a=r(86),u=r(98),l=r(22);r(27),r(20);r.d(t,"a",function(){return c});var c=function(){function e(e,t,r,s,n){this.http=e,this.nativeJsExtendProvider=t,this.utils=r,this.aumsApiProvider=s,this.app=n,this.TAG="AdminUserProvider",this.KEY_AUMS_SERVER_ADDRESS="aums_server_address",this.mock=!1,this.refetch=!0,this.onUserChanged=new i.EventEmitter,this.deepCopyUserList={},this.mock=a.a.mockUser}return Object.defineProperty(e.prototype,"user",{get:function(){return this._user},set:function(e){this._user=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shareUser",{get:function(){return this._shareUser},set:function(e){this._shareUser=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"liveUser",{get:function(){return this._liveUser},set:function(e){this._liveUser=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aumsServerAddress",{get:function(){if(this._aumsServerAddress)return this._aumsServerAddress;var e;try{e=this.nativeJsExtendProvider.startActivity(n.a.ACTIVITY_STORAGE_GETTER,this.KEY_AUMS_SERVER_ADDRESS,""),e=JSON.parse(e)}catch(e){this.utils.log("error",this.TAG,"aumsServerAddress getter","缓存中取管理用户服务器信息报错: "+e.message)}return e||void 0},set:function(e){this._aumsServerAddress=e,this.nativeJsExtendProvider.startActivity(n.a.ACTIVITY_STORAGE_SETTER,this.KEY_AUMS_SERVER_ADDRESS,JSON.stringify(e))},enumerable:!0,configurable:!0}),e.prototype.getApiEndPoint=function(){if(this.aumsServerAddress)return"http://"+this.aumsServerAddress.host},e.prototype.getUser=function(){return this.refetch&&(this.refetch=!1,this.user=null),this.user?Object(o.of)({status:"success",data:this.user}):(this.loadFormStorage(),this.mock&&(this.user=u.a.dummyUser.utils.getAumsAdminUser()),this.user&&this.user.id?Object(o.of)({status:"success",data:this.user}):Object(o.of)({status:"empty"}))},e.prototype.checkUserChanged=function(e){var t,r=this.deepCopyUserList[e];t=null==r&&null!=this.user?"init":null!=r&&null!=this.user?s.equal(r,this.user)?"unchange":"changed":null!=r&&null==this.user?"changed":"unchange",this.onUserChanged.emit({comp:e,type:"adminUser",state:t}),console.log("admin user state =="+t)},e.prototype.insertDeepCopyUser=function(e){this.deepCopyUserList[e]=Object.assign({},this.user)},e.prototype.removeDeepCopyUser=function(e){this.deepCopyUserList&&this.deepCopyUserList[e]&&delete this.deepCopyUserList[e]},e.prototype.isLogined=function(){var e=this;return this.getUser().pipe(Object(l.map)(function(t){return e.user&&e.user.id?{status:"success"}:{status:"empty"}}))},e.prototype.loadFormStorage=function(){var e;try{var t=this.nativeJsExtendProvider.startActivity(n.a.ACTIVITY_GET_AUMSUSER);this.utils.log("info",this.TAG,"loadFormStorage","缓存加载管理用户信息: "+t),this.utils.log("info",this.TAG,"loadFormStorage","缓存加载管理用户信息类型: "+typeof t),null!=t&&"undefined"!=t&&(e=JSON.parse(t))}catch(e){this.utils.log("error",this.TAG,"loadFormStorage","缓存加载管理用户信息报错: "+e.message)}this._user=e},e.prototype.getShareUser=function(){var e=this;return this.shareUser=null,this.getUser().pipe(Object(l.switchMap)(function(t){return"success"===t.status?e.aumsApiProvider.getShortVideoUserInfo({userId:e.user.id.toString(),userType:0}).pipe(Object(l.map)(function(t){return 1==t.success?(e.shareUser=t,{status:"success",data:e.shareUser}):(e.utils.log("warn",e.TAG,"getShareUser","获取短视频管理用户接口报错: "+t.errCode),{status:"success",data:null})}),Object(l.catchError)(function(e){return Object(o.of)({status:"success",data:null})})):Object(o.of)(t)}))},e.prototype.getHostInfo=function(){var e=this;return this.liveUser=null,this.getUser().pipe(Object(l.switchMap)(function(t){return"success"===t.status?e.aumsApiProvider.getHostInfo({userId:e.user.id.toString()}).pipe(Object(l.map)(function(r){if(r.success){var i=t.data;return Object.assign(i,r),e.liveUser=i,{status:"success",data:i}}return{status:"error",message:r.message}})):(e.liveUser=null,Object(o.of)(t))}))},e.prototype.getAumsPowers=function(e){var t=this;if(void 0===e&&(e=!1),e&&(this._powers=[]),this._powers=[],!this.user||!this.user.id)return this._powers=[],Object(o.of)({status:"error",message:"管理员未登录"});if(Array.isArray(this._powers)&&this._powers.length)return Object(o.of)({status:"success",data:this._powers});if(this.user){if("2"==this.user.serviceType){var r;return Object(o.of)(null).pipe(Object(l.switchMap)(function(e){return t.aumsApiProvider.getSiteWebIdByServiceId({serviceTypeId:t.user.parentServiceId},t.getApiEndPoint()).pipe(Object(l.map)(function(e){return"SUCCESS"==e.errMessage&&0!=e.dataSize?(r=e.data[0].columnId,t.utils.log("info",t.TAG,"getSiteWebIdByServiceId","获取短多业务站点id: "+r),r):(t.utils.log("warn",t.TAG,"getSiteWebIdByServiceId","获取短多业务站点id无效: "+e.errMessage),t.app.aums.websiteId)}))}),Object(l.switchMap)(function(e){return t.utils.log("info",t.TAG,"getArticleAdmin","获取用户权限栏目start: start"),t.aumsApiProvider.getArticleAdmin({userId:t.user.id,websiteid:r},t.getApiEndPoint()).pipe(Object(l.map)(function(e){return 1==e.code&&Array.isArray(e.data)?(t.utils.log("info",t.TAG,"getSiteWebIdByServiceId","获取用户权限: "+e.data),t._powers=e.data,{status:"success",data:t._powers}):2==e.code?{status:"empty"}:{status:"error",message:e.message||"获取用户权限失败"}}))}))}return this.aumsApiProvider.getArticleAdmin({userId:this.user.id,websiteid:this.app.aums.websiteId},this.getApiEndPoint()).pipe(Object(l.map)(function(e){return 1==e.code&&Array.isArray(e.data)?(t._powers=[],t._powers=e.data,{status:"success",data:t._powers}):2==e.code?{status:"empty"}:{status:"error",message:e.message||"获取用户权限失败"}}))}},e.prototype.doLogin=function(e,t){var r=this;return this.aumsApiProvider.login({userName:e,password:t},this.getApiEndPoint()).pipe(Object(l.map)(function(e){return e&&1==e.isSuccess?e.user:null}),Object(l.tap)(function(e){r.user=e,r.user&&r.nativeJsExtendProvider.startActivity(n.a.ACTIVITY_SET_AREAID,r.user.areaId),r.nativeJsExtendProvider.startActivity(n.a.ACTIVITY_SET_AUMSUSER,JSON.stringify(r.user))}))},e.prototype.logout=function(){this.user=null,this._powers=[],this.nativeJsExtendProvider.startActivity(n.a.ACTIVITY_SET_AUMSUSER,""),this.nativeJsExtendProvider.startActivity(n.a.ACTIVITY_STORAGE_SETTER,this.KEY_AUMS_SERVER_ADDRESS,"")},e.prototype.getUserAreaName=function(){var e=this;return this.user?"2"==this.user.serviceType?this.aumsApiProvider.getAreaList({areaId:this.user.areaId,servicetype:this.user.serviceType,id:this.user.parentServiceId},this.getApiEndPoint()).pipe(Object(l.map)(function(t){if(0!=t.length){var r=t.find(function(t){return-1!==e.user.serviceIds.indexOf(t.id)});return r.name?r.name:e.user.name}return e.user.name})):this.aumsApiProvider.getAreaList({areaId:this.user.areaId},this.getApiEndPoint()).pipe(Object(l.map)(function(e){return e.areaName})):Object(o.of)(null)},e.prototype.getAumsPowerByColumn=function(e,t,r){return void 0===e&&(e=!1),this.getAumsPowers(e).pipe(Object(l.map)(function(e){var i,s=e.data;return Array.isArray(s)&&s.length&&(i=s.find(function(e){return e.columnname===t&&e.columnid===r})),i?{status:"success",data:i}:{status:"empty"}}))},e.prototype.setRefetch=function(e){this.refetch=!!e},e}()},20:function(e,t,r){"use strict";r.d(t,"a",function(){return d});r(0);var i=r(78),s=(r.n(i),r(22)),n=(r.n(s),r(34)),o=(r.n(n),r(86)),a=r(98),u=r(144),l=(r.n(u),r(142)),c=r(355),d=function(){function e(e,t){this.http=e,this.logger=t,this.systemEvent$=new i.Subject,this.name=a.a.name,this.appDownloadUrl=a.a.appDownloadUrl,this.apache=a.a.apache,this.enableRefresher=o.a.enableRefresher,this.aums_vote=a.a.aums_vote,this.aums_center=a.a.aums,this.aums=new c.a,this.ums=a.a.ums,this.comment=a.a.comment,this.easydms=a.a.easydms,this.source=a.a.source,this.livePublished=!1,this._globalVar={},this.mock_adList=a.a.mock_adList,this.mock_img=a.a.mock_img,this.article_play_item={playing:!1},this.defaultNormalUserStatusLevels=a.a.defaultNormalUserStatusLevels||[l.a.Passed],this.defaultInterfaceMessage="服务端没有错误提示!"}return t=e,e.prototype.setGlobalVar=function(e,t){t?Object(u.isObject)(t)&&Object(u.isObject)(this._globalVar[e])?Object.assign(this._globalVar[e],t):this._globalVar[e]=t:this._globalVar[e]&&delete this._globalVar[e]},e.prototype.getGlobalVar=function(e){return this._globalVar[e]},Object.defineProperty(e.prototype,"loadingInstance",{get:function(){return this._loadingInstance},set:function(e){this._loadingInstance=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"navCtrlInstance",{set:function(e){this._navCtrlInstance=e},enumerable:!0,configurable:!0}),e.prototype.findChilrenAreaTreeByLevel=function(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)return e[r].areaLevel===t?e[r].children:this.findChilrenAreaTreeByLevel(e[r].children,t);return null},e.prototype.setAumsConfig=function(e){this.aums=e},e.prototype.setAumsVoteConfig=function(e){this.aums_vote=e},e.prototype.setCommentConfig=function(e){this.comment=e},e.prototype.closeLoading=function(){this._loadingInstance&&(this._loadingInstance.dismiss(),this._loadingInstance=null)},e.prototype.registerSystemEvent=function(){var e=this;window.systemEvent=function(r){var i=r.which;e.logger.debug(t.TAG+" registerSystemEvent() systemEvent message is "+i);var s;switch(i){case 2e3:e.article_play_item&&(e.article_play_item.playing=!1),s="leave";break;case 2001:s="enter";break;case 13:return s="back",e.goBack(),!1}e.systemEvent$.next(s)}},e.prototype.systemEvent=function(){return this.systemEvent$.asObservable().pipe(Object(s.catchError)(function(e){return Object(n.of)(null)}))},e.prototype.closeAlert=function(){this.alterInstance&&(this.alterInstance.dismiss(),this.alterInstance=null)},e.prototype.closeToast=function(){this.toastInstance&&(this.toastInstance.dismiss(),this.toastInstance=null)},e.prototype.closeActionSheet=function(){this.actionSheetInstance&&(this.actionSheetInstance.dismiss(),this.actionSheetInstance=null)},e.prototype.goBack=function(){if(this._navCtrlInstance){if(this._loadingInstance||this.toastInstance||this.alterInstance)return this.closeLoading(),this.closeToast(),void this.closeAlert();if(this._navCtrlInstance.canGoBack())this._navCtrlInstance.pop();else try{window.cloudVideo.closeAct()}catch(e){this.logger.error(t.TAG+" startActivity() error: "+e.message)}}},e.prototype.updateManagerPostItem=function(e,t,r){this.managerPostItem&&(this.managerPostItem.title=e,this.managerPostItem.time=t,this.managerPostItem.thumbnail=r)},e.TAG="AppProvider",e;var t}()},205:function(e,t,r){"use strict";r.d(t,"a",function(){return n});r(0),r(27),r(20);var i=r(22),s=(r.n(i),[{name:"中国",level:1},{name:"省",level:2},{name:"市",level:3},{name:"区县",level:4},{name:"乡镇",level:5},{name:"村街道",level:6},{name:"社区组",level:7}]),n=function(){function e(e,t,r,i){this.http=e,this.aums=t,this.app=r,this.logger=i,this.areaTreeViewControllers=[]}return t=e,Object.defineProperty(e.prototype,"startLevel",{get:function(){return this._startLevel},set:function(e){this._startLevel=e},enumerable:!0,configurable:!0}),e.prototype.getAreaName=function(e){return s[e-1]&&s[e-1].name||""},e.prototype.getCurrentServerApiEndPoint=function(){return this.currentServer?"http://"+this.currentServer.host:null},e.prototype.getAreaList=function(e){return this.aums.getAreaList(e,this.getCurrentServerApiEndPoint()).pipe(Object(i.map)(function(t){return"2"==e.servicetype?t.length>=0?{status:"success",data:t}:{status:"failure",message:t}:1==t.status?{status:"success",data:{areaId:t.areaId,areaName:t.areaName,areaLevel:t.areaLevel,areaParentId:t.areaParentId,children:t.children}}:{status:"failure",message:t.message}}))},e.prototype.getMinAreaList=function(e){return this.aums.getMinAreaInfoById(e,this.getCurrentServerApiEndPoint()).pipe(Object(i.map)(function(e){return e?{status:"success",data:e}:{status:"failure",message:"数据获取失败"}}))},e.prototype.getSubdivideAreaList=function(e){return this.aums.getSubdivideAreaInfoById(e,this.getCurrentServerApiEndPoint()).pipe(Object(i.map)(function(e){return e?{status:"success",data:e}:{status:"failure",message:"数据获取失败"}}))},e.prototype.initTreeState=function(e,r,i){this.logger.debug(t.TAG+" initTreeState() startLevel="+e+", startIndexInStack="+r),this.logger.debug(t.TAG+" initTreeState() businessType="+i),this.businessType=i,this._startLevel=e,this.startIndexInStack=r},e.TAG="AreaTreeProvider",e.BTYPE_NORMAL_USER_BIND_REGION="bind region",e.BTYPE_SHARE_LIVE="share live",e.BTYPE_SHARE_STB="share stb",e.BTYPE_SHARE_SHORT_VIDEO="share_short_video",e.BTYPE_SHARE_SHORT_VIDEO_STB="share_short_video_stb",e;var t}()},206:function(e,t,r){"use strict";r.d(t,"a",function(){return u});r(0);var i=r(1),s=(r(20),r(22)),n=(r.n(s),r(3)),o=(r.n(n),r(27),r(34)),a=(r.n(o),r(88),r(56),r(90),r(26),r(64)),u=(r.n(a),function(){function e(e,t,r,s,n,o,a){this.http=e,this.normalUser=t,this.aumsApi=r,this.aums=s,this.app=n,this.aumsVoteApiProvider=o,this.utils=a,this.TAG="HomeProvier",this.onFetchDataComplete=new i.EventEmitter}return e.prototype.getWebId=function(){var e=this,t=this.normalUser.user;"2"===t.serviceType?this.aumsApi.getSiteWebIdByServiceId({serviceTypeId:t.parentServiceId}).subscribe(function(t){if("SUCCESS"===t.errMessage&&1==t.isSuccess){e.websiteId=(t&&t.data)[0].columnId}else e.websiteId=e.app.aums.websiteId}):this.websiteId=this.app.aums.websiteId},e.prototype.fetchData=function(){var e=this;return this.aumsApi.getColumnList({columnId:this.app.aums.websiteId,areaId:this.normalUser.getAreaId(),serviceId:"2"==this.normalUser.user.serviceType?this.normalUser.user.serviceId:"",parentServiceId:"2"==this.normalUser.user.serviceType?this.normalUser.user.parentServiceId:""}).pipe(Object(s.switchMap)(function(e){var t=e&&e.data;return Array.isArray(t)&&t.length?Object(o.of)({status:"success",data:t}):Array.isArray(t)?Object(o.of)({status:"empty"}):new a.ErrorObservable({status:"error"})}),Object(s.finalize)(function(){e.onFetchDataComplete.emit()}))},e.prototype.getAds=function(e,t){void 0===t&&(t="topAdvert");var r=[];return Array.isArray(e)&&(r=e.filter(function(e){return e.displayType===t}).map(function(e){return{src:e.displayContent,name:e.name}})),r},e.prototype.getSubColumnList=function(e,t){void 0===t&&(t="image");var r=[];return Array.isArray(e)&&(r=e.filter(function(e){return e.displayType===t}).map(function(e){return{columnName:e.name,icon:e.displayContent,raw:e}}).sort(function(e,t){return e.raw.orderIndex-t.raw.orderIndex})),r},e.prototype.getNotifyColumn=function(e,t){return void 0===t&&(t="notice"),Array.isArray(e)?e.find(function(e){return e.displayType===t}):null},e.prototype.getRecommendColumn=function(e,t){return void 0===t&&(t="commendColumn"),Array.isArray(e)?e.find(function(e){return e.displayType===t}):null},e.prototype.getRecommendList=function(e){var t=this,r=e.id,i=e.curPage,o=e.areaId,a=e.areaType;return r?this.aums.getCommonList({columnId:r,curPage:i,pageSize:e.pageSize,areaId:o,areaType:a}):i>1?this.getGatherRecommendList({areaId:o,areaType:a,pageIndex:i}):this.getGatherRecommendList({areaId:o,areaType:a,pageIndex:i}).pipe(Object(s.switchMap)(function(e){return t.normalUser.getUser().pipe(Object(s.switchMap)(function(r){return t.aumsApi.getViewableShortVideoList({userId:t.normalUser.user.userId,userType:t.normalUser.user.userType,areaId:t.normalUser.user.areaId}).pipe(Object(s.map)(function(r){var i;if(1==r.success&&Array.isArray(r.data)&&(n.locale("zh-cn"),i=[],r.data.forEach(function(e){i.push({title:e.name,source:t.app.source,timeObj:n(e.uploadTime),time:/\d{4}-\d{2}-\d{2}/.test(e.uploadTime)?n(e.uploadTime).format("YYYY-MM-DD"):" ",hits:e.fhits||0,thumbnail:e.imageUrl,info:e.describe,id:e.id,type:"shortVideo",raw:e})})),!Array.isArray(e)&&Array.isArray(i))return i;if(Array.isArray(e)&&Array.isArray(i)){var s=e.concat(i);return s.sort(function(e,t){return t.timeObj-e.timeObj}),s}return e}))}))}))},e.prototype.getGatherRecommendList=function(e){var t=this;return this.aums.getArticleList({areaId:e.areaId,curPage:e.pageIndex,pageSize:10,level:5,areaType:e.areaType}).pipe(Object(s.map)(function(e){var r=e&&e.data&&e.data.articles,i=[];return Array.isArray(r)?(n.locale("zh-cn"),r.forEach(function(e){i.push({title:e.ftitle,source:t.app.source,time:/\d{4}-\d{2}-\d{2}/.test(e.fupdatetime||e.faddtime)?n(e.fupdatetime||e.faddtime).format("YYYY-MM-DD"):" ",timeObj:n(e.fupdatetime||e.faddtime),hits:e.fhits||0,thumbnail:e.fimage,info:e.fsummary,id:e.articleId,raw:e})}),i):e}),Object(s.catchError)(function(e){return Object(o.of)(e)}))},e.prototype.getVillageAmount=function(){return this.aumsApi.getCheckedVillageAmount().pipe(Object(s.map)(function(e){return e.status>0?e.cnt&&e.cnt.toString():0}))},e.KEY="home",e}())},208:function(e,t,r){"use strict";r.d(t,"a",function(){return n});r(0),r(27);var i=r(22),s=(r.n(i),r(518)),n=(r(94),r(26),function(){function e(e,t,r,i){this.http=e,this.aums=t,this.routerUtil=r,this.utils=i}return t=e,e.prototype.getUserPower=function(){return t.ROLE_NORMAL},e.prototype.getWatchList=function(e){return this.aums.getMyWacthLive(e).pipe(Object(i.map)(function(e){return e.success?Array.isArray(e.data)&&e.data.length?{data:e.data,status:"success"}:{status:"empty"}:{status:"error",message:e.message}}))},e.prototype.getMyLive=function(e){return this.aums.getMyLive({userId:e}).pipe(Object(i.map)(function(e){return e.success?0!=e.roomId?{data:{roomId:e.roomId,status:e.status,uploadUrl:e.uploadUrl,hostImageUrl:e.hostImageUrl,hostName:e.hostName,liveImageUrl:e.liveImageUrl,title:e.title},status:"success"}:{status:"empty"}:0==e.success?{status:"empty"}:{status:"error",message:e.message}}))},e.prototype.getMyManagedLiveRoom=function(e){return this.aums.getMyManagerLive(e).pipe(Object(i.map)(function(e){return e.success?Array.isArray(e.data)&&e.data.length?{data:e.data,status:"success"}:{status:"empty"}:{status:"error",message:e.message}}))},e.prototype.setLiveInfo=function(e){return this.aums.setLiveInfo(e).pipe(Object(i.map)(function(e){return e.success?{status:"success"}:{status:"failure",message:e.message}}))},e.prototype.closeRoom=function(e){return this.aums.stopLive(e).pipe(Object(i.map)(function(e){return e.success?{status:"success",data:e.data}:{status:"failure",message:e.message}}))},e.prototype.shareLive=function(e){return this.aums.shareLive(e).pipe(Object(i.map)(function(e){return e.success?{status:"success",data:{regionName:e.regionName,regionId:e.regionId,errorCode:e.errorCode}}:{status:"error",message:e.message}}))},e.prototype.getLivePassStatusName=function(e){var t=s.a.find(function(t){return t.value==e});return t?t.name:""},e.prototype.goShare=function(e,t){var r=this;if(e.canGoBack()){var i=e.getActive();this.routerUtil.go({navCtrl:e,route:"share",params:{root:t},successFn:function(t){i&&e.removeView(i)},errorFn:function(e){r.utils.toast("加载乡音分享失败")}})}else e.setRoot("share",{header:!0})},e.ROLE_NORMAL="normal",e.ROLE_ADMIN="admin",e;var t}())},209:function(e,t,r){"use strict";r.d(t,"a",function(){return n});r(0),r(56);var i=r(34),s=(r.n(i),r(22)),n=(r.n(s),r(27),r(26),function(){function e(e,t,r,i,s){this.http=e,this.easydms=t,this.normalUser=r,this.aumsApiProvider=i,this.utils=s,this.TAG="PublicMonitorProvider",this.list=[]}return e.prototype.getList=function(e,t){var r=this;return Object(i.of)(null).pipe(Object(s.switchMap)(function(e){return r.normalUser.getUser()}),Object(s.switchMap)(function(e){return r.aumsApiProvider.getAreaList({actionType:"getServerAddressByAreaId",areaId:r.normalUser.user.areaId})}),Object(s.switchMap)(function(e){return 1==e.status?r.aumsApiProvider.getIPCList({region:r.normalUser.user.areaId},e.serverAddress).pipe(Object(s.map)(function(e){var t=e&&e.ipcs;return Array.isArray(t)&&t.length?{status:"success",data:t}:Array.isArray(t)?{status:"empty"}:{status:"error",message:e.message||""}}),Object(s.catchError)(function(e){return Object(i.of)(e)})):(r.utils.log("warn",r.TAG,"getList","为获取到监控服务器区域信息: "+JSON.stringify(e)),Object(i.of)({status:"failure",message:"该区域还没有添加监控!"}))}),Object(s.tap)(function(e){return console.log(e)}))},e.prototype.getIPCListByAreId=function(e,t){var r=this;return Object(i.of)(null).pipe(Object(s.switchMap)(function(e){return r.normalUser.getUser()}),Object(s.switchMap)(function(n){return r.aumsApiProvider.getOwnIPCListByAreId({guestId:r.normalUser.user.id,curPage:e,pageSize:t}).pipe(Object(s.map)(function(e){if(1!=e.code)return r.list=[],{status:"error",message:e.message||""};Array.isArray(e.data.monitors)&&e.data.monitors.length&&(r.list=e.data.monitors)}),Object(s.catchError)(function(e){return Object(i.of)(e)}))}),Object(s.switchMap)(function(n){return r.aumsApiProvider.getIPCListByAreId({areaId:r.normalUser.user.areaId,curPage:e,pageSize:t}).pipe(Object(s.map)(function(e){return 1==e.code?Array.isArray(e.data.monitors)&&e.data.monitors.length?{status:"success",data:e.data.monitors.concat(r.list)}:{status:"empty"}:{status:"error",message:e.message||""}}),Object(s.catchError)(function(e){return Object(i.of)(e)}))}),Object(s.tap)(function(e){return console.log(e)}))},e.prototype.getPublicIPCList=function(){return this.aumsApiProvider.getpublicIPCList({}).pipe(Object(s.map)(function(e){if(1===e.code)return e}))},e}())},213:function(e,t,r){"use strict";r.d(t,"a",function(){return i});r(0);var i=function(){return function(e){this.http=e,this.switching=!1}}()},219:function(e,t,r){"use strict";r.d(t,"a",function(){return i});r(0);var i=function(){function e(e,t){this.http=e,this.storage=t,this.currentVoteIndex=0,this._voteItemList=[],this._viewList=[]}return Object.defineProperty(e.prototype,"subject",{get:function(){return this._subject},set:function(e){this._subject=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewList",{get:function(){return this._viewList},set:function(e){this._viewList=e},enumerable:!0,configurable:!0}),e.prototype.removeView=function(e){var t=this.viewList.indexOf(e);-1!==t&&this.viewList.splice(t,1)},Object.defineProperty(e.prototype,"voteItemList",{get:function(){return this._voteItemList},set:function(e){Array.isArray(e)&&(this._voteItemList=e)},enumerable:!0,configurable:!0}),e.prototype.hasNext=function(e){return!!this.voteItemList[e+1]},e.prototype.hasPrev=function(e){return!!this.voteItemList[e-1]},e.prototype.getNext=function(e){return this.voteItemList[e+1]},e.prototype.canDel=function(e){return-1!==this.voteItemList.indexOf(e)},e.prototype.getTotalCount=function(e){return this.voteItemList.length},e.prototype.getCurrentVoteItem=function(){return this.voteItemList[this.currentVoteIndex]},e.prototype.getVoteItemById=function(e){return this.voteItemList.find(function(t){return t.id===e})},e.prototype.getVoteIndexById=function(e){var t=this.getVoteItemById(e);return t?this.voteItemList.indexOf(t):this.voteItemList.length},e.prototype.addNewToVoteItemList=function(e){var t={id:0,questionFace:void 0,voteid:void 0,amin:1,type:"text",optionList:[],problemid:void 0,amax:1},r=Object.assign({},t);return this.voteItemList.splice(e,0,r),r},e.prototype.removeFromVoteItemList=function(e){var t=this.voteItemList.indexOf(e);-1!==t&&this.voteItemList.splice(t,1)},e.prototype.reset=function(){this.currentVoteIndex=0,this.subject=null,this.voteItemList=[],this.viewList=[]},e}()},220:function(e,t,r){"use strict";r.d(t,"a",function(){return s});r(0),r(61);var i=r(95),s=function(){function e(e,t){this.viewCtrl=e,this.publishProvider=t,this.collection=[{cssClass:"iconfont icon-wenben",label:this.publishProvider.getTypeName(i.a),type:i.a},{cssClass:"iconfont icon-gengduotupian",label:this.publishProvider.getTypeName(i.b),type:i.b},{cssClass:"iconfont icon-wenjuantiaocha",label:this.publishProvider.getTypeName(i.c),type:i.c}]}return e.prototype.select=function(e){this.viewCtrl.dismiss(e)},e.prototype.cancel=function(){this.viewCtrl.dismiss()},e}()},224:function(e,t,r){"use strict";r.d(t,"a",function(){return n});r(0),r(56),r(88);var i=r(22),s=(r.n(i),r(3)),n=(r.n(s),r(27),r(20),r(90),r(26),function(){function e(e,t,r,i,s,n,o){this.http=e,this.normalUser=t,this.aums=r,this.aumsApi=i,this.aumsVoteApiProvider=s,this.utils=n,this.app=o,this.TAG="SearchProvider"}return e.prototype.getList=function(e,t){var r,n,o;return this.normalUser.user&&"游客"!==this.normalUser.user.role||(r=1),this.normalUser.user&&(n=this.app.aums.websiteId,o=this.normalUser.user.areaId),this.aums.getArticleList({curPage:e,publicly:r,level:this.normalUser.user&&"游客"!==this.normalUser.user.role?null:3,areaType:1,websiteid:n,areaId:o,title:t}).pipe(Object(i.map)(function(e){var t=e&&e.data&&e.data.articles,r=[],i=[];return Array.isArray(t)?t.length?(s.locale("zh-cn"),t.forEach(function(e){var t="视频"===e.classNames?e.classNames:e.fclassName,n=e.fimage;if("视频"!==t&&Array.isArray(e.listThumbnailImage)){var o=e.listThumbnailImage.find(function(e){return"100x65"===e.key});o&&(n=o.url)}r.push({title:e.ftitle,type:t,time:/\d{4}-\d{2}-\d{2}/.test(e.fupdatetime||e.faddtime)?s(e.fupdatetime||e.faddtime).format("YYYY-MM-DD"):" ",thumbnail:n,id:e.articleId,raw:e,likeNum:0,viewNum:0}),i.push(e.articleId)}),{status:"success",data:r}):{status:"empty"}:2===e.code?{status:"empty"}:(e.status||(e.status="error"),e)}))},e.prototype.getListWidthShortVideoList=function(){var e=this;return this.getList().pipe(Object(i.switchMap)(function(t){return e.normalUser.getUser().pipe(Object(i.switchMap)(function(r){return e.aumsApi.getViewableShortVideoList({userId:r.data.userId,userType:r.data.userType,areaId:r.data.areaId}).pipe(Object(i.map)(function(r){var i;if(1==r.success&&Array.isArray(r.data)&&(s.locale("zh-cn"),i=[],r.data.forEach(function(t){i.push({title:t.name,source:e.app.source,timeObj:s(t.uploadTime),time:/\d{4}-\d{2}-\d{2}/.test(t.uploadTime)?s(t.uploadTime).format("YYYY-MM-DD"):" ",hits:t.fhits||0,thumbnail:t.imageUrl,info:t.describe,id:t.id,type:"shortVideo",raw:t})})),!Array.isArray(t.data)&&Array.isArray(i))return{status:"success",data:i};if(Array.isArray(t.data)&&Array.isArray(i)){var n=t.data.concat(i);return n.sort(function(e,t){return t.timeObj-e.timeObj}),{status:"success",data:n}}return t}))}))}))},e.prototype.upHitData=function(e){var t=this,r=[],i=[];return e.forEach(function(e,t){i.push(e.id),r[t]={id:e.id,likeNum:0,viewNum:0}}),this.aumsVoteApiProvider.appendCount({targetArray:r,typeId:this.app.aums_vote.typeIds.articleLikeCount,field:"likeNum",columnIds:i.join(",")}).subscribe(function(e){return t.aumsVoteApiProvider.appendCount({targetArray:r,typeId:t.app.aums_vote.typeIds.articleViewCount,field:"viewNum",columnIds:i.join(",")}).subscribe(function(e){return r})})},e}())},225:function(e,t,r){"use strict";r.d(t,"a",function(){return s});r(0);var i=r(34),s=(r.n(i),function(){function e(e){this.http=e}return e.prototype.getAds=function(e){return Object(i.of)([{src:"assets/vote/ad.png"}])},e}())},229:function(e,t,r){"use strict";r.d(t,"a",function(){return i});r(0),r(61);var i=function(){function e(e,t,r,i){this.viewCtrl=e,this.aums=t,this.logger=r,this.repaire=i,this.data=[],console.log("Hello RepaireTypeComponent Component")}return t=e,e.prototype.ionViewDidLoad=function(){this.load()},e.prototype.load=function(){var e=this;this.repaire.allFaultList().subscribe(function(t){e.data=t})},e.prototype.itemClick=function(e){this.repaire.setSelected(e),this.load()},e.prototype.dismiss=function(){this.viewCtrl.dismiss()},e.prototype.log=function(e,r){"function"==typeof this.logger[e]&&this.logger[e](t.TAG+" "+r)},e.TAG="RepaireTypeComponent",e;var t}()},230:function(e,t,r){"use strict";r.d(t,"a",function(){return i});r(0),r(61);var i=function(){function e(e,t){this.viewCtrl=e,this.navParam=t,this.title=this.navParam.get("title"),this.description=this.navParam.get("description")}return e.prototype.dismiss=function(){this.viewCtrl.dismiss({clear:!0})},e}()},240:function(e,t){function r(e){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+e+"'.")})}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=240},26:function(e,t,r){"use strict";r.d(t,"a",function(){return i});r(0),r(61),r(20);var i=function(){function e(e,t,r,i,s){this.http=e,this.logger=t,this.app=r,this.loadingCtrl=i,this.toastCtrl=s}return t=e,e.prototype.getMediaUrl=function(e){return/playurl=([^&]+)/.test(e)&&(e=RegExp.$1),e},e.prototype.openStreamingMedia=function(e){var r=e.url,i=e.name,s=e.isLive;r=this.getMediaUrl(r),this.logger.info(t.TAG+" openStreamingMedia() url = "+r);var n=this;try{var o={successCallback:function(){n.logger.info("Video was closed without error.")},errorCallback:function(e){n.logger.error("Play video caused a error: "+e)},orientation:"landscape",movie:i,isLive:s||!1,shouldAutoClose:!0};window.plugins.evmLiveStreamingMedia.playVideo(r,o)}catch(e){this.logger.error(t.TAG+" openStreamingMedia() error:"+e.message)}},e.prototype.getUUID=function(){try{var e=window.cloudVideo.getDevUUID();return this.logger.info(t.TAG+" getUUID() uuid = "+e),e}catch(e){this.logger.error(t.TAG+" getUUID() error: "+e.message)}},e.prototype.presentLoading=function(e){var t=this.loadingCtrl.create({spinner:"dots",content:e});return t.present(),t},e.prototype.toast=function(e,t,r){var i=this;void 0===t&&(t="bottom"),void 0===r&&(r="evm-toast"),this.app.closeToast(),setTimeout(function(){i.app.toastInstance=i.toastCtrl.create({message:e,position:t,duration:3e3,cssClass:r}),i.app.toastInstance.present()},0)},e.prototype.jsonToQueryString=function(e){var t="";for(var r in e){var i=e[r];if(null==i)break;(Array.isArray(i)||"object"==typeof i)&&(i=JSON.stringify(i)),null!=i&&(t+="&"+r+"="+i)}return t?t.substr(1):t},e.prototype.isDescendantTriggerTap=function(e,t,r){void 0===r&&(r=1);var i=-1,s=!1,n=t;do{s=-1!==n.className.indexOf(e),n=n.parentElement,i++}while(!s&&n&&i<r);return s},e.prototype.nextTick=function(e){setTimeout(function(){e()},0)},e.prototype.validate=function(e,r){if(r.required&&!e)throw new Error(r.label+"不能为空");if(e&&r.maxLength&&e.length>r.maxLength)throw new Error(r.label+"不能超过"+r.maxLength+"字");if(e&&r.minLength&&e.length<r.minLength)throw new Error(r.label+"不能少于"+r.minLength+"字");try{if(r.pattern){"string"==typeof r.pattern&&(r.pattern=new RegExp(r.pattern));if(!r.pattern.test(e))throw new Error(r.patternErrorMessage||r.label+"提交格式错误")}}catch(e){this.logger.error(t.TAG+" validate() "+r.pattern+" 转化为正则报错")}},e.prototype.log=function(e,t,r,i){this.logger[e](t+" "+r+"() "+i)},e.prototype.validatePhone=function(e){return!!/^1[34578]\d{9}$/.test(e)},e.prototype.getQueryString=function(e){var t=location.search.substr(1),r=new RegExp(e+"=([^=&]*)"),i="";return r.test(t)&&(i=decodeURIComponent(t.match(r)[1])),i},e.TAG="UtilsProvider",e;var t}()},260:function(e,t,r){function i(e){var t=s[e];return t?r.e(t[1]).then(function(){return r(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var s={"../pages/area-subdivision/area-subdivision.module.ngfactory":[852,32],"../pages/area-tree-share/area-tree-share.module.ngfactory":[815,47],"../pages/area-tree/area-tree.module.ngfactory":[853,31],"../pages/article-photos/article-photos.module.ngfactory":[817,38],"../pages/article/article.module.ngfactory":[816,12],"../pages/calendar-detail/calendar-detail.module.ngfactory":[819,46],"../pages/calendar/calendar.module.ngfactory":[820,45],"../pages/columns/columns.module.ngfactory":[818,18],"../pages/comment-list/comment-list.module.ngfactory":[821,13],"../pages/cun-mao/cun-mao.module.ngfactory":[822,34],"../pages/cun-san-wei/cun-san-wei.module.ngfactory":[823,33],"../pages/editor-comment/editor-comment.module.ngfactory":[826,37],"../pages/editor/editor.module.ngfactory":[824,36],"../pages/grid-list/grid-list.module.ngfactory":[825,25],"../pages/home/home.module.ngfactory":[860,0],"../pages/hometownnews/hometownnews.module.ngfactory":[829,44],"../pages/list/list.module.ngfactory":[828,4],"../pages/live-video-list/live-video-list.module.ngfactory":[827,28],"../pages/live/live.module.ngfactory":[861,9],"../pages/login/login.module.ngfactory":[830,23],"../pages/manager-center/manager-center.module.ngfactory":[832,22],"../pages/manager-post-list/manager-post-list.module.ngfactory":[831,17],"../pages/monitor-list/monitor-list.module.ngfactory":[837,24],"../pages/nav-list/nav-list.module.ngfactory":[833,2],"../pages/nav-monitor-list/nav-monitor-list.module.ngfactory":[854,1],"../pages/normal-invalid-user/normal-invalid-user.module.ngfactory":[835,30],"../pages/on-building/on-building.module.ngfactory":[834,43],"../pages/pay/pay.module.ngfactory":[836,42],"../pages/propertyFree/propertyFree.module.ngfactory":[838,16],"../pages/public-monitor/public-monitor.module.ngfactory":[839,19],"../pages/publish-common/publish-common.module.ngfactory":[855,7],"../pages/publish-live/publish-live.module.ngfactory":[840,35],"../pages/publish-photos/publish-photos.module.ngfactory":[857,20],"../pages/publish-vote-item/publish-vote-item.module.ngfactory":[856,8],"../pages/publish-vote-subject/publish-vote-subject.module.ngfactory":[858,11],"../pages/questionaire-detail/questionaire-detail.module.ngfactory":[841,41],"../pages/questionaire-list/questionaire-list.module.ngfactory":[842,26],"../pages/questionaire-statistics/questionaire-statistics.module.ngfactory":[843,40],"../pages/realty-service/realty-service.module.ngfactory":[859,21],"../pages/recommend-list/recommend-list.module.ngfactory":[844,15],"../pages/search/search.module.ngfactory":[846,5],"../pages/select-area/select-area.module.ngfactory":[845,39],"../pages/share/share.module.ngfactory":[862,6],"../pages/switch-location/switch-location.module.ngfactory":[847,29],"../pages/tel-list/tel-list.module.ngfactory":[851,10],"../pages/user-bind-check/user-bind-check.module.ngfactory":[848,14],"../pages/villiage-broadcast/village-broadcast.module.ngfactory":[849,3],"../pages/vote/vote.module.ngfactory":[850,27]};i.keys=function(){return Object.keys(s)},i.id=260,e.exports=i},27:function(e,t,r){"use strict";r.d(t,"a",function(){return u});r(0);var i=r(13),s=(r(20),r(78)),n=(r.n(s),r(22)),o=(r.n(n),r(34)),a=(r.n(o),r(26),r(64)),u=(r.n(a),function(){function e(e,t,r,i){this.http=e,this.logger=t,this.utils=r,this.app=i,this.guestInterfaceMap=new Map}return t=e,Object.defineProperty(e.prototype,"identify",{get:function(){return"evm"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"apiEndPoint",{get:function(){return this.app.aums.apiEndPoint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeout",{get:function(){return 2e4},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.app.aums.path},enumerable:!0,configurable:!0}),e.prototype.getColumnList=function(e,r,i){var s=this,o=e.serviceId,a=e.parentServiceId,u=(r||this.apiEndPoint)+"/"+(i||this.path)+"/autoPageServlet/getAutoPageContent?columnId="+e.columnId+"&areaId="+e.areaId+"&terminalIdentify=PHONE";return o&&(u+="&serviceId="+o),a&&(u+="&parentServiceId="+a),this.logger.debug(t.TAG+" getColumnList() request url is "+u),this.http.get(u).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getColumnList")}))},e.prototype.getArticleList=function(e,r,i){var s=this,o=e.columnId,a=e.curPage,u=e.pageSize,l=e.areaId,c=e.userId,d=e.areaType,p=void 0===d?1:d,h=e.level,m=e.checkFlag,g=e.isDetail,f=e.publicly,y=e.websiteid,v=e.servicetypeid,b=e.title,A=(r||this.apiEndPoint)+"/"+(i||this.path)+"/articleList/getArticleList?curPage="+(void 0===a?1:a)+"&pageSize="+(void 0===u?10:u)+"&checkflag="+(void 0===m?1:m);return l&&(A+="&areaId="+l),c&&(A+="&userId="+c),o&&(A+="&columnId="+o),p&&(A+="&areaType="+p),h&&(A+="&level="+h),g&&(A+="&isDetail="+g),f&&(A+="&publicly="+f),y&&(A+="&websiteid="+y),v&&(A+="&servicetypeid="+v),b&&(A+="&title="+b),A+="&fplatform=1",this.logger.debug(t.TAG+" getArticleList() request url is "+A),this.http.get(A).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getArticleList")}))},e.prototype.getArticle=function(e,r,i){var s=this,o=e.typeid,a=e.templateId,u=(r||this.apiEndPoint)+"/"+(i||this.path)+"/servlet/ArticleServlet?id="+e.id;return o&&(u+="&ftypeid="+o),a&&(u+="&templateId="+a),this.logger.debug(t.TAG+" getArticle() request url is "+u),this.http.get(u).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getArticle")}))},e.prototype.handleError=function(e,r){var i,n;return e instanceof s.TimeoutError?(i="网络连接超时",n="timeout"):0==e.status?(i="没有网络连接，请检查网络设置",n="offline"):(i="服务正忙，请稍后再试",n="error"),this.logger.error(t.TAG+" execute method "+r+"() error:"),this.logger.error("\tstatus = "+(n||e.status)),this.logger.error("\tstatusText = "+e.statusText),this.logger.error("\tmessage = "+(i||e.message)),new a.ErrorObservable({message:i,status:n})},e.prototype.login=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/aums/login?userName="+e.userName+"&password="+e.password+"&usertype=1";return this.logger.debug(t.TAG+" login() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"login")}))},e.prototype.post=function(e,r,s){var o=this,a=e.id,u=e.ftitle,l=e.fcontent,c=e.websiteid,d=e.columnid,p=e.userId,h=e.fimage,m=e.fsummary,g=void 0===m?"":m,f=e.areaid,y=e.publishpower,v=void 0===y?1:y,b=e.fupdatetime,A=e.temArray,I=e.ftypeid,T=e.ftemplateid,S=(r||this.apiEndPoint)+"/ancms/article/addArticle";this.logger.debug(t.TAG+" post() request url is "+S);var E="ftitle="+u+"&fcontent="+encodeURIComponent(l)+"&columnId="+d+"&websiteId="+c+"&faddperson="+p+"&fsummary="+g+"&publishpower="+v;f&&(E+="&areaid="+f),b&&(E+="&fupdatetime="+b),a&&(E+="&id="+a),E+=h?"&fimage="+h:"&fimage=",A&&(E+="&temArray="+A),I&&(E+="&ftypeid="+I),T&&(E+="&ftemplateid="+T),this.logger.debug(t.TAG+" post() body is "+E);var j={headers:new i.g({"Content-Type":"application/x-www-form-urlencoded"})};return this.http.post(S,E,j).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return o.handleError(e,"post")}))},e.prototype.uploadImage=function(e,r,i){var s=this,o=e.name,a=e.imgFile,u=e.userId,l=(r||this.apiEndPoint)+"/aums/image/createImage";this.logger.debug(t.TAG+" uploadImage() request url is "+l);var c=new FormData;return c.append("name",o),c.append("imgFile",a),c.append("areaId","1"),c.append("userId",u),this.http.post(l,c).pipe(Object(n.catchError)(function(e){return s.handleError(e,"uploadImage")}))},e.prototype.createLive=function(e,r,s){var o=this;null==e.tm&&(e.tm=(new Date).getTime().toString()),null==e.identify&&(e.identify=this.identify),null==e.shareSTB&&(e.shareSTB=0);var a=(r||this.apiEndPoint)+"/aums_server_interface/live/createLive";this.logger.debug(t.TAG+" createLive() request url is "+a);var u=this.utils.jsonToQueryString(e);this.logger.debug(t.TAG+" createLive() body is "+u);var l={headers:new i.g({"Content-Type":"application/x-www-form-urlencoded"})};return this.http.post(a,u,l).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return o.handleError(e,"createLive")}))},e.prototype.stopLive=function(e,r,i){var s=this;null==e.tm&&(e.tm=(new Date).getTime().toString()),null==e.identify&&(e.identify=this.identify);var o=(r||this.apiEndPoint)+"/aums_server_interface/live/stopLive";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" stopLive() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"stopLive")}))},e.prototype.setLiveInfo=function(e,r,i){var s=this;null==e.tm&&(e.tm=(new Date).getTime().toString()),null==e.identify&&(e.identify=this.identify);var o=(r||this.apiEndPoint)+"/aums_server_interface/live/checkLive";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" setLiveInfo() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"setLiveInfo")}))},e.prototype.getMyLive=function(e,r,i){var s=this;null==e.tm&&(e.tm=(new Date).getTime().toString()),null==e.identify&&(e.identify=this.identify),null==e.terminalType&&(e.terminalType=20);var o=(r||this.apiEndPoint)+"/aums_server_interface/live/getMyLive";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getMyLive() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getMyLive")}))},e.prototype.getMyManagerLive=function(e,r,i){var s=this;null==e.pageIndex&&(e.pageIndex=1),null==e.pageSize&&(e.pageSize=10),null==e.tm&&(e.tm=(new Date).getTime().toString()),null==e.identify&&(e.identify=this.identify),null==e.liveType&&(e.liveType=1);var o=(r||this.apiEndPoint)+"/aums_server_interface/live/getMyManagerLive";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getMyManagerLive() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getMyManagerLive")}))},e.prototype.shareLive=function(e,r,i){var s=this;null==e.tm&&(e.tm=(new Date).getTime().toString()),null==e.identify&&(e.identify=this.identify),null==e.toStb&&(e.toStb=0);var o=(r||this.apiEndPoint)+"/aums_server_interface/live/shareLive";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" shareLive() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"shareLive")}))},e.prototype.getMyWacthLive=function(e,r,i){var s=this;null==e.tm&&(e.tm=(new Date).getTime().toString()),null==e.identify&&(e.identify=this.identify),null==e.terminalType&&(e.terminalType=20),null==e.pageIndex&&(e.pageIndex=1),null==e.pageSize&&(e.pageSize=10),null==e.upperLevel&&(e.upperLevel=7),null==e.lowerLevel&&(e.lowerLevel=7),null==e.liveType&&(e.liveType=1);var o=(r||this.apiEndPoint)+"/aums_server_interface/live/getMyWacthLive";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getMyWacthLive() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getMyWacthLive")}))},e.prototype.joinLive=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/aums_server_interface/live/joinLive";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" joinLive() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"joinLive")}))},e.prototype.getHostInfo=function(e,r,i){var s=this;null==e.tm&&(e.tm=(new Date).getTime().toString()),null==e.identify&&(e.identify=this.identify);var o=(r||this.apiEndPoint)+"/aums_server_interface/live/getHostInfo";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getHostInfo() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getHostInfo")}))},e.prototype.leftLive=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/aums_server_interface/live/leftLive";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" leftLive() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"leftLive")}))},e.prototype.getShareRegion=function(e,r,i){var s=this;null==e.tm&&(e.tm=(new Date).getTime().toString()),null==e.identify&&(e.identify=this.identify);var o=(r||this.apiEndPoint)+"/aums_server_interface/live/getShareRegion";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getShareRegion() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getShareRegion")}))},e.prototype.livePush=function(e,r,s){var o=this;null==e.tm&&(e.tm=(new Date).getTime().toString()),null==e.identify&&(e.identify=this.identify);var a=(r||this.apiEndPoint)+"/aums_server_interface/live/livePush";this.logger.debug(t.TAG+" livePush() request url is "+a);var u=this.utils.jsonToQueryString(e),l={headers:new i.g({"Content-Type":"application/x-www-form-urlencoded"})};return this.http.post(a,u,l).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return o.handleError(e,"livePush")}))},e.prototype.saveGuest=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/aums_server_interface/guest/saveGuest";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" saveGuest() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"saveGuest")}))},e.prototype.saveServiceGuest=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/aums_server_interface/guest/saveGuest";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" saveServiceGuest() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"saveServiceGuest")}))},e.prototype.updateGuest=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/aums_server_interface/guest/updateGuest";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" updateGuest() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.map)(function(e){return 1==e.code?{status:"success"}:{status:"failure",message:e.message}}),Object(n.catchError)(function(e){return s.handleError(e,"updateGuest")}))},e.prototype.getGuest=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/aums_server_interface/guest/getGuest";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getGuest() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getGuest")}))},e.prototype.getUserById=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/aums_server_interface/user/getUserById";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getUserById() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getUserById")}))},e.prototype.getGuests=function(e,r,i){var s=this;null==e.userType&&(e.userType=this.app.aums.userType),null==e.curPage&&(e.curPage=1),null==e.pageSize&&(e.pageSize=15),null==e.areaRule&&(e.areaRule=1);var o=(r||this.apiEndPoint)+"/aums_server_interface/guest/getGuests";return"1"==e.serviceType&&(e.parentServiceId="",e.serviceIds=""),o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getGuests() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getGuests")}))},e.prototype.getGuestTypeById=function(e,r,i){var s=this;if(null==e.typeId&&(e.typeId=this.app.aums.userType),this.guestInterfaceMap.has(e.typeId))return Object(o.of)(this.guestInterfaceMap.get(e.typeId));var a=(r||this.apiEndPoint)+"/aums_server_interface/guest/getGuestTypeById";return a+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getGuestTypeById() request url is "+a),this.http.get(a).pipe(Object(n.timeout)(this.timeout),Object(n.tap)(function(t){1==t.code&&t.data&&t.data.requestAddress&&s.guestInterfaceMap.set(e.typeId,t)}),Object(n.catchError)(function(e){return s.handleError(e,"getGuestTypeById")}))},e.prototype.getUmsUsers=function(e,r,i,s){var o=this;return e+="?"+this.utils.jsonToQueryString(r),this.logger.debug(t.TAG+" getUmsUsers() request url is "+e),this.http.get(e).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return o.handleError(e,"getUmsUsers")}))},e.prototype.checkGuests=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/aums_server_interface/guest/checkGuests";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" checkGuests() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"checkGuests")}))},e.prototype.getAreaList=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/aums_server_interface/AreaServlet";return null==e.actionType&&(e.actionType="getChildAreaById"),null==e.method&&(e.method=1),o="2"==e.servicetype?e.id?(r||this.apiEndPoint)+"/ancms/serviceType/getServiceList?id="+e.id:(r||this.apiEndPoint)+"/ancms/serviceType/getServiceList":(r||this.apiEndPoint)+"/aums_server_interface/AreaServlet?actionType="+e.actionType+"&method="+e.method+"&areaId="+e.areaId,this.logger.debug(t.TAG+" getAreaList() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getAreaList")}))},e.prototype.getCheckedVillageAmount=function(e,r,i){var s=this;void 0===e&&(e=6);var o=(r||this.apiEndPoint)+"/aums_server_interface/AreaServlet?actionType=countAreaByLevel&level="+e;return this.logger.debug(t.TAG+" getCheckedVillageAmount() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getCheckedVillageAmount")}))},e.prototype.getArticleAdmin=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/aums_server_interface/ArticleAdmin/getArticleAdmin";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getArticleAdmin() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getArticleAdmin")}))},e.prototype.getAreaInfoById=function(e,r,i){var s=this;null==e.upperLevel&&(e.upperLevel=0),null==e.lowerLevel&&(e.lowerLevel=0),null==e.needDetailInfo&&(e.needDetailInfo=!1);var o=(r||this.apiEndPoint)+"/aums_server_interface/AreaServlet?actionType=getAreaInfoById";return o+="&"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getAreaInfoById() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getAreaInfoById")}))},e.prototype.getMinAreaInfoById=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/aums/areaSubdivide/getAreaSubdivideList";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getMinAreaInfoById() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getMinAreaInfoById")}))},e.prototype.getSubdivideAreaInfoById=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/aums/areaSubdivide/getAreaSubdivideList";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getMinAreaInfoById() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getMinAreaInfoById")}))},e.prototype.updateCheckFlag=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/ancms/articleColumn/updateCheckFlag";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" updateCheckFlag() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"updateCheckFlag")}))},e.prototype.getSiteWebIdByServiceId=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/ancms_server_interface/servlet/ColumnServiceTypeServlet";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getSiteWebIdByServiceId() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getSiteWebIdByServiceId")}))},e.prototype.getShortVideoUserInfo=function(e,r,i){var s=this;null==e.tm&&(e.tm=(new Date).getTime().toString()),null==e.identify&&(e.identify=this.identify);var o=(r||this.apiEndPoint)+"/aums_terminal_interface/shortVideo/getShortVideoUserInfo";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getShortVideoUserInfo() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getShortVideoUserInfo")}))},e.prototype.getViewableShortVideoList=function(e,r,i){var s=this;null==e.tm&&(e.tm=(new Date).getTime().toString()),null==e.identify&&(e.identify=this.identify),null==e.pageNum&&(e.pageNum=1),null==e.pageSize&&(e.pageSize=10),e.isStb=0;var o=(r||this.apiEndPoint)+"/aums_terminal_interface/shortVideo/getViewableShortVideoList";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getViewableShortVideoList() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getViewableShortVideoList")}))},e.prototype.getShortVideoByServiceType=function(e,r,i){var s=this;null==e.tm&&(e.tm=(new Date).getTime().toString()),null==e.identify&&(e.identify=this.identify),null==e.pageNum&&(e.pageNum=1),null==e.pageSize&&(e.pageSize=10),e.isStb=0;var o=(r||this.apiEndPoint)+"/aums_terminal_interface/shortVideo/getViewableShortVideoList";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getViewableShortVideoList() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getViewableShortVideoList")}))},e.prototype.getOwnShortVideoList=function(e,r,i){var s=this;null==e.tm&&(e.tm=(new Date).getTime().toString()),null==e.identify&&(e.identify=this.identify),null==e.pageNum&&(e.pageNum=1),null==e.pageSize&&(e.pageSize=10),null==e.checkStatus&&(e.checkStatus=null),null==e.prohibitStatus&&(e.prohibitStatus=null);var o=(r||this.apiEndPoint)+"/aums_terminal_interface/shortVideo/getOwnShortVideoList";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getOwnShortVideoList() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getOwnShortVideoList")}))},e.prototype.getManageableShortVideoList=function(e,r,i){var s=this;null==e.tm&&(e.tm=(new Date).getTime().toString()),null==e.identify&&(e.identify=this.identify),null==e.pageNum&&(e.pageNum=1),null==e.pageSize&&(e.pageSize=10),null==e.checkStatus&&(e.checkStatus=null),null==e.prohibitStatus&&(e.prohibitStatus=null);var o=(r||this.apiEndPoint)+"/aums_terminal_interface/shortVideo/getManageableShortVideoList";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getManageableShortVideoList() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getManageableShortVideoList")}))},e.prototype.checkShortVideo=function(e,r,i){var s=this;null==e.tm&&(e.tm=(new Date).getTime().toString()),null==e.identify&&(e.identify=this.identify);var o=(r||this.apiEndPoint)+"/aums_terminal_interface/shortVideo/checkShortVideo";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" checkShortVideo() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"checkShortVideo")}))},e.prototype.prohibitShortVideo=function(e,r,i){var s=this;null==e.tm&&(e.tm=(new Date).getTime().toString()),null==e.identify&&(e.identify=this.identify);var o=(r||this.apiEndPoint)+"/aums_terminal_interface/shortVideo/prohibitShortVideo";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" prohibitShortVideo() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"prohibitShortVideo")}))},e.prototype.shareShortVideoListToClient=function(e,r,i){var s=this;null==e.tm&&(e.tm=(new Date).getTime().toString()),null==e.identify&&(e.identify=this.identify);var o=(r||this.apiEndPoint)+"/aums_terminal_interface/shortVideo/shareShortVideoListToClient";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" shareShortVideoListToClient() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"shareShortVideoListToClient")}))},e.prototype.shareShortVideoListToStb=function(e,r,i){var s=this;null==e.tm&&(e.tm=(new Date).getTime().toString()),null==e.identify&&(e.identify=this.identify);var o=(r||this.apiEndPoint)+"/aums_terminal_interface/shortVideo/shareShortVideoListToStb";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" shareShortVideoListToStb() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"shareShortVideoListToStb")}))},e.prototype.getShareShortVideoAreaTree=function(e,r,i){var s=this;null==e.tm&&(e.tm=(new Date).getTime().toString()),null==e.identify&&(e.identify=this.identify);var o=(r||this.apiEndPoint)+"/aums_terminal_interface/shortVideo/getShareShortVideoAreaTree";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getShareShortVideoAreaTree() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getShareShortVideoAreaTree")}))},e.prototype.deleteShortVideo=function(e,r,i){var s=this;null==e.tm&&(e.tm=(new Date).getTime().toString()),null==e.identify&&(e.identify=this.identify);var o=(r||this.apiEndPoint)+"/aums_terminal_interface/shortVideo/deleteShortVideo";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" deleteShortVideo() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"deleteShortVideo")}))},e.prototype.getTemplateArticleDetail=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/"+(i||"ancms")+"/article/getTemplateArticleDetail";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getTemplateArticleDetail() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getTemplateArticleDetail")}))},e.prototype.addVote=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/ancms/votingQuestionnaire/addVQ";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" addVote() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"addVote")}))},e.prototype.editVQ=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/ancms/votingQuestionnaire/editVQ";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" editVQ() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"editVQ")}))},e.prototype.addQB=function(e,r,i){var s=this;e.amax||(e.amax=1),e.amin||(e.amin=1),e.atype||(e.atype="text"),console.log(e);var a=this.getAddQBFieldsContraint();try{if(this.utils.validate(e.atitle,a.atitle),this.utils.validate(e.voteid,a.voteid),!e.optionInfo||!Array.isArray(e.optionInfo.rows)||0==e.optionInfo.rows.length)throw new Error("该选题还没有添加选项");e.optionInfo.rows&&e.optionInfo.rows.every(function(e){return e.aimageid||s.utils.validate(e.AoptionText,a.AoptionText),!0})}catch(e){return Object(o.of)({status:"error",message:e.message})}var u=(r||this.apiEndPoint)+"/ancms/votingQuestionnaire/addQB";return u+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" addQB() request url is "+u),this.http.get(u).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"addQB")}))},e.prototype.getQBByid=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/ancms/votingQuestionnaire/getQBByid";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getQBByid() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getQBByid")}))},e.prototype.getAddQBFieldsContraint=function(){return{atitle:{required:!0,label:"题目名称"},voteid:{required:!0,label:"投票或者问卷的id"},AoptionText:{required:!0,label:"选项名称"}}},e.prototype.deleteAproblem=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/ancms/votingQuestionnaire/deleteAproblem";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" deleteAproblem() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"deleteAproblem")}))},e.prototype.isArticlePhoto=function(e){return e&&2==e.ftypeid},e.prototype.addComment=function(e,r,s){var o=this,a=(r||this.apiEndPoint)+"/aums_comment/comment/addComment";this.logger.debug(t.TAG+" addComment() request url is "+a);var u="targetId="+e.targetId+"&commentTypeId="+e.commentTypeId+"&userId="+e.userId+"&userTypeId="+e.userTypeId+"&content="+e.content;e.refId&&(u+="&refId="+e.refId),e.page&&(u+="&page="+e.page),e.rows&&(u+="&row="+e.rows),this.logger.debug(t.TAG+" addComment() body is "+u);var l={headers:new i.g({"Content-Type":"application/x-www-form-urlencoded"})};return this.http.post(a,u,l).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return o.handleError(e,"addComment")}))},e.prototype.addPraise=function(e,r,s){var o=this,a=(r||this.apiEndPoint)+"/aums_comment/praise/praiseComment";this.logger.debug(t.TAG+" addPraise() request url is "+a);var u="commentId="+e.commentId+"&userId="+e.userId+"&userTypeId="+e.userTypeId+"&step="+e.step;this.logger.debug(t.TAG+" addPraise() body is "+u);var l={headers:new i.g({"Content-Type":"application/x-www-form-urlencoded"})};return this.http.post(a,u,l).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return o.handleError(e,"addPraise")}))},e.prototype.getTotalComment=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/aums_comment/comment/getObjectComment";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getTotalComment() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getTotalComment")}))},e.prototype.getOnesComments=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/aums_comment/comment/getUserComment";return null==e.page&&(e.page=1),null==e.rows&&(e.rows=10),o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getOnesComments() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getOnesComments")}))},e.prototype.getQuestionaireDetailById=function(e,t,r){var i=this,s=(t||this.apiEndPoint)+"/ancms/votingQuestionnaire/getQBByid";return s+="?"+this.utils.jsonToQueryString(e),this.http.get(s).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return i.handleError(e,"getQuestionaireDetailById")}))},e.prototype.submitAnswers=function(e,t,r){var i=this,s=(t||this.apiEndPoint)+"/ancms_server_interface/servlet/VqStatisticsServlet";return s+="?ids="+e.ids+"&voteId="+e.voteId,this.http.get(s).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return i.handleError(e,"submitAnswers")}))},e.prototype.saveRecore=function(e,t,r){var i=this,s=(t||this.apiEndPoint)+"/ancms_server_interface/servlet/Asaverecore";return s+="?"+this.utils.jsonToQueryString(e),this.http.get(s).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return i.handleError(e,"submitAnswers")}))},e.prototype.checkAnswerAuthority=function(e,t,r){var i=this,s=(t||this.apiEndPoint)+"/ancms_server_interface/servlet/VQ/checkUserVote";return s+="?"+this.utils.jsonToQueryString(e),this.http.get(s).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return i.handleError(e,"submitAnswers")}))},e.prototype.getPropertyCostList=function(e,r,i,s){var o=this,a=(i||this.apiEndPoint)+"/aums_server_interface/propertyCost/getPropertyCostList?telphone="+e+"&costType="+r;return this.logger.debug(t.TAG+" getPropertyCostList() request url is "+a),this.http.get(a).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return o.handleError(e,"getPropertyCostList")}))},e.prototype.getAllFaultList=function(e,r){var i=this,s=(e||this.apiEndPoint)+"/aums_server_interface/repair/getAllFaultList";return this.logger.debug(t.TAG+" getAllFaultList() request url is "+s),this.http.get(s).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return i.handleError(e,"getAllFaultList")}))},e.prototype.commitRepairOrder=function(e,r,s){var o=this,a=(r||this.apiEndPoint)+"/aums_server_interface/repair/repairOrder";this.logger.debug(t.TAG+" commitRepairOrder() request url is "+a);var u="userId="+e.userId+"&userType="+e.userType+"&faultId="+e.faultId+"&phone="+e.phone+"&repairDate="+e.repairDate;e.remark&&(u+="&remark="+e.remark),this.logger.debug(t.TAG+" commitRepairOrder() body is "+u);var l={headers:new i.g({"Content-Type":"application/x-www-form-urlencoded"})};return this.http.post(a,u,l).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return o.handleError(e,"commitRepairOrder")}))},e.prototype.getProfessionList=function(e,t,r){var i=this,s=(t||this.apiEndPoint)+"/aums_server_interface/reservation/getProfessionList";return null==e.curPage&&(e.curPage=1),null==e.pageSize&&(e.pageSize=10),s+="?"+this.utils.jsonToQueryString(e),this.http.get(s).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return i.handleError(e,"getProfessionList")}))},e.prototype.pushArticle=function(e,t,r){var i=this;return this.http.get((t||this.apiEndPoint)+"/aums_server_interface/guest/articlePush?columnId="+e.columnId+"&articleId="+e.articleId+"&areaId="+e.areaId+"&userType="+(e.userType||2)+"&checkFlag="+(e.checkFlag||1)).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return i.handleError(e,"pushArticle")}))},e.prototype.getServerAddress=function(e,r){var i=this,s=(e||this.apiEndPoint)+"/"+(r||"aums_server_interface")+"/guestServer/getServerAddress";return this.logger.debug(t.TAG+" getServerAddress() request url is "+s),this.http.get(s).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return i.handleError(e,"getServerAddress")}))},e.prototype.getGuestServer=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/"+(i||"aums_server_interface")+"/guestServer/getGuestServer";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getGuestServer() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getGuestServer")}))},e.prototype.getServerByGps=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/"+(i||"aums_server_interface")+"/position/getServer";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getServerByGps() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getServerByGps")}))},e.prototype.getIPCList=function(e,r,i){var s=this;null==e.action&&(e.action="apiRegionCodeGetIPCS"),null==e.type&&(e.type="single");var o=(r||this.apiEndPoint)+'/interface?param={"action":"'+e.action+'","data":{"region":"'+e.region+'","type":"'+e.type+'"},"mod":""}\n    ';return this.logger.debug(t.TAG+" getIPCList() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getIPCList")}))},e.prototype.getIPCAreaByMac=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/easydms_v3/inf/getCustomerIPCAreaNoChild?caCard="+e.mac+"&curPage="+e.curPage+"&pageSize="+e.pageSize;return this.logger.debug(t.TAG+" getIPCAreaByMac() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getIPCList")}))},e.prototype.getIPCListByMac=function(e,r,i){var s=this,o=(r||this.apiEndPoint)+"/easydms_v3/inf/getCustomerIPCRelByArea?caCard="+e.mac+"&FRegionCode="+e.FRegionCode+"&curPage="+e.curPage+"&pageSize="+e.pageSize;return this.logger.debug(t.TAG+" getIPCListByMac() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getIPCList")}))},e.prototype.getIPCListByAreId=function(e,r,i){var s=this;null==e.curPage&&(e.curPage=1),null==e.pageSize&&(e.pageSize=15);var o=(r||this.apiEndPoint)+"/aums_server_interface/monitor/getPublicMonitors";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getIPCListByAreId() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getIPCListByAreId")}))},e.prototype.getOwnIPCListByAreId=function(e,r,i){var s=this;null==e.curPage&&(e.curPage=1),null==e.pageSize&&(e.pageSize=15);var o=(r||this.apiEndPoint)+"/aums_server_interface/monitor/getMonitorsByGuest";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getOwnIPCListByAreId() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getOwnIPCListByAreId")}))},e.prototype.getpublicIPCList=function(e,r,i){var s=this;null==e.curPage&&(e.curPage=1),null==e.pageSize&&(e.pageSize=15);var o=(r||this.app.apache.apiEndPoint)+"/ad/publicIPCList.php";return o+="?"+this.utils.jsonToQueryString(e),this.logger.debug(t.TAG+" getpublicIPCList() request url is "+o),this.http.get(o).pipe(Object(n.timeout)(this.timeout),Object(n.catchError)(function(e){return s.handleError(e,"getpublicIPCList")}))},e.TAG="AumsApiProvider",e;var t}())},355:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var i=function(){return function(){this.path="ancms_server_interface",this.timeout=5e3,this.rootLevel=1,this.userType=2}}()},42:function(e,t,r){"use strict";r.d(t,"a",function(){return i});r(0);var i=function(){function e(e,t){this.http=e,this.logger=t}return t=e,e.prototype.startActivity=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=null,s=e,n=s.shift();this.logger.debug(t.TAG+" startActivity() 调用原生扩展js方法"+n),this.logger.debug(t.TAG+" startActivity() 传参: "+JSON.stringify(s));var o;try{o="watchLive"===n||"hostEnterLive"===n?"ELive":"cloudVideo",i=s.length?"Android"===this.judgeClient()?(a=window[o])[n].apply(a,s):window.prompt(JSON.stringify({method:n,params:s})):"Android"===this.judgeClient()?window[o][n]():window.prompt(JSON.stringify({method:n}))}catch(e){this.logger.error(t.TAG+" startActivity() error: "+e.message)}return this.logger.debug(t.TAG+" startActivity() "+n+"() return value: "+i),i;var a},e.prototype.checkGPSPermission=function(){try{return"Android"===this.judgeClient()?window.cloudVideo[t.ACTIVITY_GET_LATITUDE]():window.prompt(JSON.stringify({method:t.ACTIVITY_GET_LATITUDE}))}catch(e){return!1}},e.prototype.judgeClient=function(){var e=navigator.userAgent,t=e.indexOf("Android")>-1||e.indexOf("Adr")>-1,r=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return t?"Android":r?"IOS":"PC"},e.TAG="NativeJsExtendProvider",e.ACTIVITY_AIJIA="gotoFimaly",e.ACTIVITY_SHARE="toShare",e.ACTIVITY_UMSHARE="gotoUMShare",e.ACTIVITY_SCAN_QR="gotoScanAct",e.ACTIVITY_GET_USERID="getUserId",e.ACTIVITY_WATCH_LIVE="watchLive",e.ACTIVITY_HOST_ENTER_LIVE="hostEnterLive",e.ACTIVITY_GET_AUMSUSER="getAumsUser",e.ACTIVITY_SET_AUMSUSER="setAumsUser",e.ACTIVITY_CLOSE_ACT="closeAct",e.ACTIVITY_CALL_PHONE="callPhone",e.ACTIVITY_KANJIABAO="gotoHouse",e.ACTIVITY_TO_SECOND="gotoSecWebAct",e.ACTIVITY_SET_AREAID="setAreaId",e.ACTIVITY_GOTO_FAMILY="gotoFimaly",e.ACTIVITY_START_MEETING="StartMeetingActivity",e.ACTIVITY_SEC_ACT="gotoSecWebAct",e.ACTIVITY_SHOW_TAB="showTab",e.ACTIVITY_HIDE_TAB="hideTab",e.ACTIVITY_SHORT_VIDEO_RECORD="startShortVideoRecordActivity",e.ACTIVITY_GO_TO_PLAY_VIDEO="gotoPlayVideo",e.ACTIVITY_GOTO_WX_LAUNCH_MINI_PROGRAM="gotoWXLaunchMiniProgram",e.ACTIVITY_PLAY_MONITOR="gotoVideoPlaybAct",e.ACTIVITY_STORAGE_SETTER="setString",e.ACTIVITY_STORAGE_GETTER="getString",e.ACTIVITY_GO_TO_LOGIN="gotoLoginAct",e.ACTIVITY_GET_LONGITUDE="getLongitude",e.ACTIVITY_GET_LATITUDE="getLatitude",e.ACTIVITY_GET_USERNAME="getUserName",e.ACTIVITY_UPLOAD_IMAGES_VIEW="gotoSelect9PhotoActivity",e;var t}()},518:function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return s});r(0);var i=[{name:"待审核",value:0},{name:"通过",value:1},{name:"不通过",value:2}],s=function(){function e(e){this.logger=e}return t=e,e.prototype.transform=function(e){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];var n=i.find(function(t){return t.value.toString()==e});return n?n.name:(this.logger.warn(t.TAG+" LIVE_PASS_STATUS don't contains status("+e+")"),"")},e.TAG="LivePassStatusPipe",e;var t}()},524:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var i=function(){function e(){this.avatar="assets/common/default-avatar.png",this.role="游客"}return e.prototype.getTip=function(e){var t;switch(this.checkStatus){case"unlogin":t="您还没有登录";break;case"pending":t="您的归属地"+e+"还在审核中";break;case"rejected":t="您的归属地"+e+"审核未通过";break;case"passed":t="您的归属地"+e+"审核通过"}return t},e.setCheckStatus=function(e){var t="unlogin";if(e)switch(e.checkFlag){case 0:t="rejected";break;case 1:t="passed";break;case 2:t="pending";break;default:t="unbind"}e.checkStatus=t},e.setRole=function(e){var t="游客";e&&1===e.checkFlag&&(t="普通用户"),e.role=t},e.copyWith=function(t){void 0===t&&(t={});var r=new e;for(var i in t)r[i]=t[i];return r},e}()},525:function(e,t,r){"use strict";function i(e){return c["ɵvid"](0,[(e()(),c["ɵeld"](0,0,null,null,2,"ion-nav",[],null,null,null,le.b,le.a)),c["ɵprd"](6144,null,ce.a,null,[de.a]),c["ɵdid"](2,4374528,null,0,de.a,[[2,pe.a],[2,he.a],me.a,ge.a,fe.a,c.ElementRef,c.NgZone,c.Renderer,c.ComponentFactoryResolver,ye.l,ve.a,[2,be.a],Ae.a,c.ErrorHandler],{root:[0,"root"]},null),(e()(),c["ɵted"](-1,null,["\n"]))],function(e,t){e(t,2,0,"home")},null)}function s(e){return c["ɵvid"](0,[(e()(),c["ɵeld"](0,0,null,null,6,"li",[["tappable",""]],null,[[null,"click"]],function(e,t,r){var i=!0;if("click"===t){i=!1!==e.component.select(e.context.$implicit.type)&&i}return i},null,null)),(e()(),c["ɵted"](-1,null,["\n      "])),(e()(),c["ɵeld"](2,0,null,null,0,"span",[],[[8,"className",0]],null,null,null,null)),(e()(),c["ɵted"](-1,null,["\n      "])),(e()(),c["ɵeld"](4,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(e()(),c["ɵted"](5,null,["",""])),(e()(),c["ɵted"](-1,null,["\n    "]))],null,function(e,t){e(t,2,0,t.context.$implicit.cssClass);e(t,5,0,t.context.$implicit.label)})}function n(e){return c["ɵvid"](0,[(e()(),c["ɵeld"](0,0,null,null,8,"ion-scroll",[["scrollX","true"]],[[2,"scroll-x",null],[2,"scroll-y",null]],null,null,Se.b,Se.a)),c["ɵdid"](1,49152,null,0,Ee.a,[],{scrollX:[0,"scrollX"]},null),(e()(),c["ɵted"](-1,0,["\n  "])),(e()(),c["ɵeld"](3,0,null,0,4,"ul",[],null,null,null,null,null)),(e()(),c["ɵted"](-1,null,["\n    "])),(e()(),c["ɵand"](16777216,null,null,1,null,s)),c["ɵdid"](6,802816,null,0,je.NgForOf,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),c["ɵted"](-1,null,["\n  "])),(e()(),c["ɵted"](-1,0,["\n"])),(e()(),c["ɵted"](-1,null,["\n"])),(e()(),c["ɵeld"](10,0,null,null,2,"button",[["color","light"],["full",""],["ion-button",""],["large",""]],null,[[null,"click"]],function(e,t,r){var i=!0;if("click"===t){i=!1!==e.component.cancel()&&i}return i},Pe.b,Pe.a)),c["ɵdid"](11,1097728,null,0,_e.a,[[8,""],ge.a,c.ElementRef,c.Renderer],{color:[0,"color"],large:[1,"large"],full:[2,"full"]},null),(e()(),c["ɵted"](-1,0,["取 消"])),(e()(),c["ɵted"](-1,null,["\n"]))],function(e,t){var r=t.component;e(t,1,0,"true");e(t,6,0,r.collection);e(t,11,0,"light","","")},function(e,t){e(t,0,0,c["ɵnov"](t,1).scrollX,c["ɵnov"](t,1).scrollY)})}function o(e){return c["ɵvid"](0,[(e()(),c["ɵeld"](0,0,null,null,19,"div",[["class","success-pop"]],null,null,null,null,null)),(e()(),c["ɵted"](-1,null,["\n  "])),(e()(),c["ɵeld"](2,0,null,null,16,"div",[],null,null,null,null,null)),(e()(),c["ɵted"](-1,null,["\n    "])),(e()(),c["ɵeld"](4,0,null,null,0,"img",[["src","assets/common/success-pop.png"]],null,null,null,null,null)),(e()(),c["ɵted"](-1,null,["\n    "])),(e()(),c["ɵeld"](6,0,null,null,11,"div",[],null,null,null,null,null)),(e()(),c["ɵted"](-1,null,["\n      "])),(e()(),c["ɵeld"](8,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),c["ɵted"](9,null,["",""])),(e()(),c["ɵted"](-1,null,["\n      "])),(e()(),c["ɵeld"](11,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),c["ɵted"](12,null,["",""])),(e()(),c["ɵted"](-1,null,["\n      "])),(e()(),c["ɵeld"](14,0,null,null,2,"button",[["ion-button",""],["round",""],["small",""]],null,[[null,"click"]],function(e,t,r){var i=!0;if("click"===t){i=!1!==e.component.dismiss()&&i}return i},Pe.b,Pe.a)),c["ɵdid"](15,1097728,null,0,_e.a,[[8,""],ge.a,c.ElementRef,c.Renderer],{small:[0,"small"],round:[1,"round"]},null),(e()(),c["ɵted"](-1,0,["确定"])),(e()(),c["ɵted"](-1,null,["\n    "])),(e()(),c["ɵted"](-1,null,["\n  "])),(e()(),c["ɵted"](-1,null,["\n"])),(e()(),c["ɵted"](-1,null,["\n"]))],function(e,t){e(t,15,0,"","")},function(e,t){var r=t.component;e(t,9,0,r.title);e(t,12,0,r.description)})}function a(e){return c["ɵvid"](0,[(e()(),c["ɵeld"](0,0,null,null,1,"li",[],[[2,"selected",null]],[[null,"click"]],function(e,t,r){var i=!0;if("click"===t){i=!1!==e.component.itemClick(e.context.$implicit)&&i}return i},null,null)),(e()(),c["ɵted"](1,null,["",""]))],null,function(e,t){e(t,0,0,t.context.$implicit.selected);e(t,1,0,t.context.$implicit.faultName)})}function u(e){return c["ɵvid"](0,[(e()(),c["ɵted"](-1,null,["\n"])),(e()(),c["ɵeld"](1,0,null,null,28,"ion-header",[],null,null,null,null,null)),c["ɵdid"](2,16384,null,0,Ne.a,[ge.a,c.ElementRef,c.Renderer,[2,pe.a]],null,null),(e()(),c["ɵted"](-1,null,["\n  "])),(e()(),c["ɵeld"](4,0,null,null,24,"ion-toolbar",[["class","toolbar"]],[[2,"statusbar-padding",null]],null,null,Ge.b,Ge.a)),c["ɵdid"](5,49152,null,0,Ve.a,[ge.a,c.ElementRef,c.Renderer],null,null),(e()(),c["ɵted"](-1,3,["\n    "])),(e()(),c["ɵeld"](7,0,null,3,2,"ion-title",[],null,null,null,Re.b,Re.a)),c["ɵdid"](8,49152,null,0,Me.a,[ge.a,c.ElementRef,c.Renderer,[2,Ve.a],[2,ke.a]],null,null),(e()(),c["ɵted"](-1,0,["\n      维修项目\n    "])),(e()(),c["ɵted"](-1,3,["\n    "])),(e()(),c["ɵeld"](11,0,null,2,16,"ion-buttons",[["end",""]],null,null,null,null,null)),c["ɵdid"](12,16384,null,1,Fe.a,[ge.a,c.ElementRef,c.Renderer,[2,Ve.a],[2,ke.a]],null,null),c["ɵqud"](603979776,1,{_buttons:1}),(e()(),c["ɵted"](-1,null,["\n      "])),(e()(),c["ɵeld"](15,0,null,null,11,"button",[["ion-button",""]],null,[[null,"click"]],function(e,t,r){var i=!0;if("click"===t){i=!1!==e.component.dismiss()&&i}return i},Pe.b,Pe.a)),c["ɵdid"](16,1097728,[[1,4]],0,_e.a,[[8,""],ge.a,c.ElementRef,c.Renderer],null,null),(e()(),c["ɵted"](-1,0,["\n        "])),(e()(),c["ɵeld"](18,0,null,0,3,"span",[["color","primary"],["ion-text",""],["showWhen","ios"]],[[2,"hidden-show-when",null]],null,null,null,null)),c["ɵdid"](19,147456,null,0,De.a,[[8,"ios"],fe.a,c.NgZone],null,null),c["ɵdid"](20,16384,null,0,qe.a,[ge.a,c.ElementRef,c.Renderer],{color:[0,"color"]},null),(e()(),c["ɵted"](-1,null,["取消"])),(e()(),c["ɵted"](-1,0,["\n        "])),(e()(),c["ɵeld"](23,0,null,0,2,"ion-icon",[["name","md-close"],["role","img"],["showWhen","android,windows"]],[[2,"hide",null],[2,"hidden-show-when",null]],null,null,null,null)),c["ɵdid"](24,147456,null,0,xe.a,[ge.a,c.ElementRef,c.Renderer],{name:[0,"name"]},null),c["ɵdid"](25,147456,null,0,De.a,[[8,"android,windows"],fe.a,c.NgZone],null,null),(e()(),c["ɵted"](-1,0,["\n      "])),(e()(),c["ɵted"](-1,null,["\n    "])),(e()(),c["ɵted"](-1,3,["\n  "])),(e()(),c["ɵted"](-1,null,["\n"])),(e()(),c["ɵted"](-1,null,["\n\n"])),(e()(),c["ɵeld"](31,0,null,null,8,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null],[2,"has-infinite-scroll",null]],null,null,Be.b,Be.a)),c["ɵdid"](32,4374528,null,0,Ye.a,[ge.a,fe.a,Ae.a,c.ElementRef,c.Renderer,me.a,He.a,c.NgZone,[2,pe.a],[2,he.a]],null,null),(e()(),c["ɵted"](-1,1,["\n  "])),(e()(),c["ɵeld"](34,0,null,1,4,"ul",[],null,null,null,null,null)),(e()(),c["ɵted"](-1,null,["\n    "])),(e()(),c["ɵand"](16777216,null,null,1,null,a)),c["ɵdid"](37,802816,null,0,je.NgForOf,[c.ViewContainerRef,c.TemplateRef,c.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(e()(),c["ɵted"](-1,null,["\n  "])),(e()(),c["ɵted"](-1,1,["\n"])),(e()(),c["ɵted"](-1,null,["\n"]))],function(e,t){var r=t.component;e(t,20,0,"primary");e(t,24,0,"md-close");e(t,37,0,r.data)},function(e,t){e(t,4,0,c["ɵnov"](t,5)._sbPadding);e(t,18,0,!c["ɵnov"](t,19).isMatch);e(t,23,0,c["ɵnov"](t,24)._hidden,!c["ɵnov"](t,25).isMatch);e(t,31,0,c["ɵnov"](t,32).statusbarPadding,c["ɵnov"](t,32)._hasRefresher,c["ɵnov"](t,32)._hasInfiniteScroll)})}Object.defineProperty(t,"__esModule",{value:!0});var l=r(41),c=r(1),d=(r(0),r(61),r(500)),p=r(502),h=r(20),m=function(){return function(e){this.app=e,this.app.registerSystemEvent()}}(),g=r(23),f=r(193),y=r(194),v=r(26),b=r(225),A=r(90),I=r(27),T=r(13),S=function(){return function(e){this.http=e}}(),E=r(205),j=r(208),P=r(86),_=function(){function e(e,t){this.http=e,this.app=t,this.mock=!1,this.ums_user_chengdu={id:"31",areaName:"中国 河南省 新乡市 ",userId:"41072100000220",userName:"",setUpTime:"2019-01-06 16:58:15",areaId:"72622743014604803",userType:2,checkFlag:1},this.aums_user={isTF:"",userManager:0,password:"e10adc3949ba59abbe56e057f20f883e",areaId:"72622747343142918",labelId:0,userType:2,id:59,groupId:0,areaManager:0,TEL:"15738815359",name:"村长",userName:"cunzhang",power:[],deleteFlag:0},this.aums_user_xiangzhang={isTF:"",userManager:0,password:"e10adc3949ba59abbe56e057f20f883e",areaId:"72340177132978181",labelId:0,userType:2,id:59,groupId:0,areaManager:0,TEL:"15738815359",name:"乡长",userName:"xiangzhang",power:[],deleteFlag:0},this.aumsThirdPartyUser={id:78,areaName:"中国 河南省 新乡市 新乡县 翟坡镇 朝阳社区 ",userTypeName:"UMS",userId:"41072100000220",userName:"",setUpTime:"2019-04-04 11:17:40",areaId:"72622747343142918",userType:2,checkFlag:1},this.mock=P.a.mockUser}return e.prototype.init=function(){return this.mock?{umsUser:this.ums_user_chengdu,aumsUser:this.aums_user,aumsThirdPartyUser:null}:null},e}(),O=r(206),w=r(220),L=r(207),C=r(219),U=r(192),N=r(95),G=r(132),V=r(88),R=r(56),M=r(42),k=r(94),F=r(99),D=r(191),q=(r(98),r(209)),x=r(133),B=r(134),Y=r(93),H=r(196),Q=r(190),z=r(503),J=r(213),W=r(230),K=r(229),$=r(224),Z=function(){return function(){}}(),X=r(72),ee=r(504),te=r(505),re=r(506),ie=r(507),se=r(508),ne=r(509),oe=r(510),ae=r(511),ue=r(512),le=r(814),ce=r(60),de=r(77),pe=r(8),he=r(37),me=r(15),ge=r(4),fe=r(7),ye=r(11),ve=r(53),be=r(29),Ae=r(14),Ie=c["ɵcrt"]({encapsulation:2,styles:[],data:{}}),Te=c["ɵccf"]("ng-component",m,function(e){return c["ɵvid"](0,[(e()(),c["ɵeld"](0,0,null,null,1,"ng-component",[],null,null,null,i,Ie)),c["ɵdid"](1,49152,null,0,m,[h.a],null,null)],null,null)},{},{},[]),Se=r(520),Ee=r(96),je=r(17),Pe=r(46),_e=r(32),Oe=c["ɵcrt"]({encapsulation:2,styles:[],data:{}}),we=c["ɵccf"]("article-type-select",w.a,function(e){return c["ɵvid"](0,[(e()(),c["ɵeld"](0,0,null,null,1,"article-type-select",[],null,null,null,n,Oe)),c["ɵdid"](1,49152,null,0,w.a,[pe.a,N.d],null,null)],null,null)},{},{},[]),Le=r(18),Ce=c["ɵcrt"]({encapsulation:2,styles:[],data:{}}),Ue=c["ɵccf"]("success-component",W.a,function(e){return c["ɵvid"](0,[(e()(),c["ɵeld"](0,0,null,null,1,"success-component",[],null,null,null,o,Ce)),c["ɵdid"](1,49152,null,0,W.a,[pe.a,Le.a],null,null)],null,null)},{},{},[]),Ne=r(128),Ge=r(519),Ve=r(57),Re=r(515),Me=r(91),ke=r(55),Fe=r(130),De=r(181),qe=r(185),xe=r(62),Be=r(514),Ye=r(38),He=r(47),Qe=c["ɵcrt"]({encapsulation:2,styles:[],data:{}}),ze=c["ɵccf"]("repaire-type",K.a,function(e){return c["ɵvid"](0,[(e()(),c["ɵeld"](0,0,null,null,1,"repaire-type",[],null,null,null,u,Qe)),c["ɵdid"](1,49152,null,0,K.a,[pe.a,I.a,g.b,F.a],null,null)],null,null)},{},{},[]),Je=r(173),We=r(31),Ke=r(140),$e=r(135),Ze=r(172),Xe=r(33),et=r(48),tt=r(136),rt=r(195),it=r(74),st=r(63),nt=r(137),ot=r(97),at=r(143),ut=r(175),lt=r(138),ct=r(499),dt=r(174),pt=r(52),ht=r(158),mt=r(176),gt=c["ɵcmf"](Z,[X.b],function(e){return c["ɵmod"]([c["ɵmpd"](512,c.ComponentFactoryResolver,c["ɵCodegenComponentFactoryResolver"],[[8,[ee.a,te.a,re.a,ie.a,se.a,ne.a,oe.a,ae.a,ue.a,Te,we,Ue,ze]],[3,c.ComponentFactoryResolver],c.NgModuleRef]),c["ɵmpd"](5120,c.LOCALE_ID,c["ɵq"],[[3,c.LOCALE_ID]]),c["ɵmpd"](4608,je.NgLocalization,je.NgLocaleLocalization,[c.LOCALE_ID,[2,je["ɵa"]]]),c["ɵmpd"](5120,c.APP_ID,c["ɵi"],[]),c["ɵmpd"](5120,c.IterableDiffers,c["ɵn"],[]),c["ɵmpd"](5120,c.KeyValueDiffers,c["ɵo"],[]),c["ɵmpd"](4608,l.c,l.q,[je.DOCUMENT]),c["ɵmpd"](6144,c.Sanitizer,null,[l.c]),c["ɵmpd"](4608,l.f,Je.a,[]),c["ɵmpd"](5120,l.d,function(e,t,r,i,s){return[new l.k(e,t),new l.o(r),new l.n(i,s)]},[je.DOCUMENT,c.NgZone,je.DOCUMENT,je.DOCUMENT,l.f]),c["ɵmpd"](4608,l.e,l.e,[l.d,c.NgZone]),c["ɵmpd"](135680,l.m,l.m,[je.DOCUMENT]),c["ɵmpd"](4608,l.l,l.l,[l.e,l.m]),c["ɵmpd"](6144,c.RendererFactory2,null,[l.l]),c["ɵmpd"](6144,l.p,null,[l.m]),c["ɵmpd"](4608,c.Testability,c.Testability,[c.NgZone]),c["ɵmpd"](4608,l.h,l.h,[je.DOCUMENT]),c["ɵmpd"](4608,l.i,l.i,[je.DOCUMENT]),c["ɵmpd"](4608,We.v,We.v,[]),c["ɵmpd"](4608,We.d,We.d,[]),c["ɵmpd"](4608,T.j,T.p,[je.DOCUMENT,c.PLATFORM_ID,T.n]),c["ɵmpd"](4608,T.q,T.q,[T.j,T.o]),c["ɵmpd"](4608,g.b,g.b,[g.a]),c["ɵmpd"](5120,T.a,function(e,t){return[e,new z.b(t)]},[T.q,g.b]),c["ɵmpd"](4608,T.m,T.m,[]),c["ɵmpd"](6144,T.k,null,[T.m]),c["ɵmpd"](4608,T.i,T.i,[T.k]),c["ɵmpd"](6144,T.b,null,[T.i]),c["ɵmpd"](4608,T.f,T.l,[T.b,c.Injector]),c["ɵmpd"](4608,T.c,T.c,[T.f]),c["ɵmpd"](4608,Ke.a,Ke.a,[me.a,ge.a]),c["ɵmpd"](4608,$e.a,$e.a,[me.a,ge.a]),c["ɵmpd"](4608,Ze.a,Ze.a,[]),c["ɵmpd"](4608,Xe.a,Xe.a,[]),c["ɵmpd"](4608,et.a,et.a,[fe.a]),c["ɵmpd"](4608,He.a,He.a,[ge.a,fe.a,c.NgZone,Ae.a]),c["ɵmpd"](4608,tt.a,tt.a,[me.a,ge.a]),c["ɵmpd"](5120,je.LocationStrategy,rt.c,[je.PlatformLocation,[2,je.APP_BASE_HREF],ge.a]),c["ɵmpd"](4608,je.Location,je.Location,[je.LocationStrategy]),c["ɵmpd"](5120,it.b,it.d,[me.a,it.a]),c["ɵmpd"](5120,be.a,be.b,[me.a,it.b,je.Location,st.b,c.ComponentFactoryResolver]),c["ɵmpd"](4608,nt.a,nt.a,[me.a,ge.a,be.a]),c["ɵmpd"](4608,ot.a,ot.a,[me.a,ge.a]),c["ɵmpd"](4608,at.a,at.a,[me.a,ge.a,be.a]),c["ɵmpd"](4608,ut.a,ut.a,[ge.a,fe.a,Ae.a,me.a,ye.l]),c["ɵmpd"](4608,lt.a,lt.a,[me.a,ge.a]),c["ɵmpd"](4608,ve.a,ve.a,[fe.a,ge.a]),c["ɵmpd"](4608,D.b,D.b,[T.c,g.b,D.c]),c["ɵmpd"](5120,U.b,U.d,[U.c]),c["ɵmpd"](4608,p.a,p.a,[]),c["ɵmpd"](4608,d.a,d.a,[]),c["ɵmpd"](4608,h.a,h.a,[T.c,g.b]),c["ɵmpd"](4608,y.a,y.a,[T.c]),c["ɵmpd"](4608,v.a,v.a,[T.c,g.b,h.a,tt.a,lt.a]),c["ɵmpd"](4608,b.a,b.a,[T.c]),c["ɵmpd"](4608,A.a,A.a,[T.c,g.b,v.a,h.a]),c["ɵmpd"](4608,I.a,I.a,[T.c,g.b,v.a,h.a]),c["ɵmpd"](4608,S,S,[T.c]),c["ɵmpd"](4608,E.a,E.a,[T.c,I.a,h.a,g.b]),c["ɵmpd"](4608,M.a,M.a,[T.c,g.b]),c["ɵmpd"](4608,Y.a,Y.a,[T.c,M.a,v.a]),c["ɵmpd"](4608,B.a,B.a,[T.c,I.a,v.a,M.a,Y.a,h.a]),c["ɵmpd"](4608,x.a,x.a,[T.c,I.a,v.a,M.a,h.a]),c["ɵmpd"](4608,Q.a,Q.a,[T.c,I.a,v.a,h.a,M.a]),c["ɵmpd"](4608,R.a,R.a,[T.c,I.a,h.a,g.b,M.a,Y.a,B.a,x.a,v.a,I.a,Q.a,Y.a]),c["ɵmpd"](4608,G.a,G.a,[T.c,R.a,g.b,h.a]),c["ɵmpd"](4608,k.a,k.a,[T.c,h.a,v.a,G.a]),c["ɵmpd"](4608,j.a,j.a,[T.c,I.a,k.a,v.a]),c["ɵmpd"](4608,_,_,[T.c,h.a]),c["ɵmpd"](4608,V.a,V.a,[T.c,h.a,R.a,g.b,I.a,k.a,v.a,M.a]),c["ɵmpd"](4608,O.a,O.a,[T.c,R.a,I.a,V.a,h.a,A.a,v.a]),c["ɵmpd"](4608,C.a,C.a,[T.c,U.b]),c["ɵmpd"](4608,N.d,N.d,[T.c]),c["ɵmpd"](4608,F.a,F.a,[T.c,I.a]),c["ɵmpd"](4608,q.a,q.a,[T.c,D.b,R.a,I.a,v.a]),c["ɵmpd"](4608,H.a,H.a,[T.c,M.a,v.a,I.a,h.a]),c["ɵmpd"](4608,J.a,J.a,[T.c]),c["ɵmpd"](4608,$.a,$.a,[T.c,R.a,V.a,I.a,A.a,v.a,h.a]),c["ɵmpd"](512,je.CommonModule,je.CommonModule,[]),c["ɵmpd"](512,c.ErrorHandler,ct.a,[]),c["ɵmpd"](256,ge.b,{backButtonIcon:"ios-arrow-back",mode:"md"},[]),c["ɵmpd"](1024,dt.a,dt.b,[]),c["ɵmpd"](1024,fe.a,fe.b,[l.b,dt.a,c.NgZone]),c["ɵmpd"](1024,ge.a,ge.c,[ge.b,fe.a]),c["ɵmpd"](512,Ae.a,Ae.a,[fe.a]),c["ɵmpd"](512,pt.a,pt.a,[]),c["ɵmpd"](512,me.a,me.a,[ge.a,fe.a,[2,pt.a]]),c["ɵmpd"](512,ye.l,ye.l,[me.a]),c["ɵmpd"](256,it.a,{links:[{loadChildren:"../pages/area-tree-share/area-tree-share.module.ngfactory#AreaTreeSharePageModuleNgFactory",name:"area-tree-share",segment:"area-tree-share/:action/:upLevel/:level",priority:"low",defaultHistory:[]},{loadChildren:"../pages/article/article.module.ngfactory#ArticlePageModuleNgFactory",name:"article",segment:"article/:articleId",priority:"low",defaultHistory:[]},{loadChildren:"../pages/article-photos/article-photos.module.ngfactory#ArticlePhotosPageModuleNgFactory",name:"article-photos",segment:"article-photos/:articleId",priority:"low",defaultHistory:[]},{loadChildren:"../pages/columns/columns.module.ngfactory#NavListPageModuleNgFactory",name:"columns",segment:"columns",priority:"low",defaultHistory:[]},{loadChildren:"../pages/calendar-detail/calendar-detail.module.ngfactory#CalendarDetailPageModuleNgFactory",name:"calander-detail",segment:"calander-detail/:year/:month/:day",priority:"low",defaultHistory:[]},{loadChildren:"../pages/calendar/calendar.module.ngfactory#CalendarPageModuleNgFactory",name:"calendar",segment:"calendar",priority:"low",defaultHistory:[]},{loadChildren:"../pages/comment-list/comment-list.module.ngfactory#ArticlePageModuleNgFactory",name:"comment-list",segment:"comment-list/:itemId/:itemType",priority:"low",defaultHistory:[]},{loadChildren:"../pages/cun-mao/cun-mao.module.ngfactory#CunMaoPageModuleNgFactory",name:"cun-mao",segment:"cun-mao/:name/:id",priority:"low",defaultHistory:[]},{loadChildren:"../pages/cun-san-wei/cun-san-wei.module.ngfactory#CunSanWeiPageModuleNgFactory",name:"cun-san-wei",segment:"cun-san-wei/:name/:id",priority:"low",defaultHistory:[]},{loadChildren:"../pages/editor/editor.module.ngfactory#EditorPageModuleNgFactory",name:"editor",segment:"editor/:name",priority:"low",defaultHistory:[]},{loadChildren:"../pages/grid-list/grid-list.module.ngfactory#GridListPageModuleNgFactory",name:"grid-list",segment:"grid-list/:name/:id",priority:"low",defaultHistory:[]},{loadChildren:"../pages/editor-comment/editor-comment.module.ngfactory#EditorCommentPageModuleNgFactory",name:"editor-comment",segment:"editor-comment",priority:"low",defaultHistory:[]},{loadChildren:"../pages/live-video-list/live-video-list.module.ngfactory#LiveVideoListPageModuleNgFactory",name:"live-video-list",segment:"live-video-list",priority:"low",defaultHistory:[]},{loadChildren:"../pages/list/list.module.ngfactory#ListPageModuleNgFactory",name:"list",segment:"list/:cId/:name",priority:"low",defaultHistory:[]},{loadChildren:"../pages/hometownnews/hometownnews.module.ngfactory#HomeTownNewsPageModuleNgFactory",name:"home-town-news",segment:"hometownnews",priority:"low",defaultHistory:[]},{loadChildren:"../pages/login/login.module.ngfactory#LoginPageModuleNgFactory",name:"LoginPage",segment:"login",priority:"low",defaultHistory:[]},{loadChildren:"../pages/manager-post-list/manager-post-list.module.ngfactory#ManagerPostListPageModuleNgFactory",name:"manager-post-list",segment:"manager-post-list/:columnName/:websiteId/:columnId",priority:"low",defaultHistory:[]},{loadChildren:"../pages/manager-center/manager-center.module.ngfactory#ManagerCenterPageModuleNgFactory",name:"manager-center",segment:"manager-center",priority:"low",defaultHistory:[]},{loadChildren:"../pages/nav-list/nav-list.module.ngfactory#NavListPageModuleNgFactory",name:"nav-list",segment:"nav-list/:cId",priority:"low",defaultHistory:[]},{loadChildren:"../pages/on-building/on-building.module.ngfactory#OnBuildingPageModuleNgFactory",name:"on-building",segment:"on-building",priority:"low",defaultHistory:[]},{loadChildren:"../pages/normal-invalid-user/normal-invalid-user.module.ngfactory#NormalInvalidUserPageModuleNgFactory",name:"NormalInvalidUserPage",segment:"normal-invalid-user",priority:"low",defaultHistory:[]},{loadChildren:"../pages/pay/pay.module.ngfactory#PayPageModuleNgFactory",name:"pay",segment:"pay",priority:"low",defaultHistory:[]},{loadChildren:"../pages/monitor-list/monitor-list.module.ngfactory#MonitorListPageModuleNgFactory",name:"monitor-list",segment:"monitor-list",priority:"low",defaultHistory:[]},{loadChildren:"../pages/propertyFree/propertyFree.module.ngfactory#NavListPageModuleNgFactory",name:"propertyFree",segment:"propertyFree",priority:"low",defaultHistory:[]},{loadChildren:"../pages/public-monitor/public-monitor.module.ngfactory#PublicMonitorPageModuleNgFactory",name:"public-monitor",segment:"public-monitor",priority:"low",defaultHistory:[]},{loadChildren:"../pages/publish-live/publish-live.module.ngfactory#PublishLivePageModuleNgFactory",name:"publish-live",segment:"publish-live/:type",priority:"low",defaultHistory:[]},{loadChildren:"../pages/questionaire-detail/questionaire-detail.module.ngfactory#QuestionaireDetailPageModuleNgFactory",name:"questionaire-detail",segment:"questionaire-detail/:columnName/:columnId/:questionaireId",priority:"low",defaultHistory:[]},{loadChildren:"../pages/questionaire-list/questionaire-list.module.ngfactory#QuestionaireListPageModuleNgFactory",name:"questionaire-list",segment:"questionaire-list/:name/:cId",priority:"low",defaultHistory:[]},{loadChildren:"../pages/questionaire-statistics/questionaire-statistics.module.ngfactory#QuestionaireStatisticsPageModuleNgFactory",name:"questionaire-statistics",segment:"questionaire-statistics/:columnName/:columnId/:questionaireId",priority:"low",defaultHistory:[]},{loadChildren:"../pages/recommend-list/recommend-list.module.ngfactory#RecommendListPageModuleNgFactory",name:"recommend-list",segment:"recommend-list",priority:"low",defaultHistory:[]},{loadChildren:"../pages/select-area/select-area.module.ngfactory#SelectAreaPageModuleNgFactory",name:"SelectAreaPage",segment:"select-area",priority:"low",defaultHistory:[]},{loadChildren:"../pages/search/search.module.ngfactory#SearchPageModuleNgFactory",name:"search",segment:"search",priority:"low",defaultHistory:[]},{loadChildren:"../pages/switch-location/switch-location.module.ngfactory#SwitchLocationPageModuleNgFactory",name:"switch-location",segment:"switch-location",priority:"low",defaultHistory:[]},{loadChildren:"../pages/user-bind-check/user-bind-check.module.ngfactory#UserBindCheckPageModuleNgFactory",name:"user-bind-check",segment:"user-bind-check",priority:"low",defaultHistory:[]},{loadChildren:"../pages/villiage-broadcast/village-broadcast.module.ngfactory#VillageRadioPageModuleNgFactory",name:"village-broadcast",segment:"village-broadcast/:name/:level/:cId",priority:"low",defaultHistory:[]},{loadChildren:"../pages/vote/vote.module.ngfactory#VotePageModuleNgFactory",name:"vote",segment:"vote/:cId",priority:"low",defaultHistory:[]},{loadChildren:"../pages/tel-list/tel-list.module.ngfactory#TelListPageModuleNgFactory",name:"tel-list",segment:"tel-list/:cId/:name",priority:"low",defaultHistory:[]},{loadChildren:"../pages/area-subdivision/area-subdivision.module.ngfactory#AreaSubdivisionPagePageModuleNgFactory",name:"area-subdivision",segment:"area-subdivision/:action/:areaId",priority:"low",defaultHistory:[]},{loadChildren:"../pages/area-tree/area-tree.module.ngfactory#AreaTreePageModuleNgFactory",name:"area-tree",segment:"area-tree/:action/:areaId",priority:"low",defaultHistory:[]},{loadChildren:"../pages/nav-monitor-list/nav-monitor-list.module.ngfactory#NavMonitorListPageModuleNgFactory",name:"nav-monitor-list",segment:"nav-monitor-list/:cId",priority:"low",defaultHistory:[]},{loadChildren:"../pages/publish-common/publish-common.module.ngfactory#PublishCommonPageModuleNgFactory",name:"publish",segment:"publish/:columnName/:websiteId/:columnId/:articleId",priority:"low",defaultHistory:[]},{loadChildren:"../pages/publish-vote-item/publish-vote-item.module.ngfactory#PublishVoteItemPageModuleNgFactory",name:"publish-vote-item",segment:"publish-vote-item/:voteId/:voteItemId",priority:"low",defaultHistory:[]},{loadChildren:"../pages/publish-photos/publish-photos.module.ngfactory#PublishPhotosPageModuleNgFactory",name:"publish-photos",segment:"publish-photos/:columnName/:type/:websiteId/:columnId",priority:"low",defaultHistory:[]},{loadChildren:"../pages/publish-vote-subject/publish-vote-subject.module.ngfactory#PublishVoteSubjectPageModuleNgFactory",name:"publish-vote-subject",segment:"publish-vote-subject/:columnName/:websiteId/:columnId/:articleId",priority:"low",defaultHistory:[]},{loadChildren:"../pages/realty-service/realty-service.module.ngfactory#RealtyServicePageModuleNgFactory",name:"realty-service",segment:"realty-service",priority:"low",defaultHistory:[]},{loadChildren:"../pages/home/home.module.ngfactory#HomePageModuleNgFactory",name:"home",segment:"home",priority:"low",defaultHistory:[]},{loadChildren:"../pages/live/live.module.ngfactory#LivePageModuleNgFactory",name:"live",segment:"live",priority:"low",defaultHistory:[]},{loadChildren:"../pages/share/share.module.ngfactory#SharePageModuleNgFactory",name:"share",segment:"share",priority:"low",defaultHistory:[]}]},[]),c["ɵmpd"](512,c.Compiler,c.Compiler,[]),c["ɵmpd"](512,ht.a,ht.a,[c.Compiler]),c["ɵmpd"](1024,st.b,st.c,[ht.a,c.Injector]),c["ɵmpd"](1024,c.APP_INITIALIZER,function(e,t,r,i,s,n,o,a,u,c,d,p,h){return[l.s(e),mt.a(t),Ze.b(r,i),ut.b(s,n,o,a,u),st.d(c,d,p,h)]},[[2,c.NgProbeToken],ge.a,fe.a,Ae.a,ge.a,fe.a,Ae.a,me.a,ye.l,ge.a,it.a,st.b,c.NgZone]),c["ɵmpd"](512,c.ApplicationInitStatus,c.ApplicationInitStatus,[[2,c.APP_INITIALIZER]]),c["ɵmpd"](131584,c.ApplicationRef,c.ApplicationRef,[c.NgZone,c["ɵConsole"],c.Injector,c.ErrorHandler,c.ComponentFactoryResolver,c.ApplicationInitStatus]),c["ɵmpd"](512,c.ApplicationModule,c.ApplicationModule,[c.ApplicationRef]),c["ɵmpd"](512,l.a,l.a,[[3,l.a]]),c["ɵmpd"](512,We.t,We.t,[]),c["ɵmpd"](512,We.j,We.j,[]),c["ɵmpd"](512,We.r,We.r,[]),c["ɵmpd"](512,rt.a,rt.a,[]),c["ɵmpd"](512,T.e,T.e,[]),c["ɵmpd"](512,T.d,T.d,[]),c["ɵmpd"](512,g.c,g.c,[]),c["ɵmpd"](512,D.a,D.a,[]),c["ɵmpd"](512,z.a,z.a,[]),c["ɵmpd"](512,f.a,f.a,[]),c["ɵmpd"](512,L.c,L.c,[]),c["ɵmpd"](512,U.a,U.a,[]),c["ɵmpd"](512,Z,Z,[]),c["ɵmpd"](256,T.n,"XSRF-TOKEN",[]),c["ɵmpd"](256,T.o,"X-XSRF-TOKEN",[]),c["ɵmpd"](256,g.a,5,[]),c["ɵmpd"](256,L.a,{modules:L.d},[]),c["ɵmpd"](256,X.a,m,[]),c["ɵmpd"](256,je.APP_BASE_HREF,"/",[]),c["ɵmpd"](256,D.c,{apiEndPoint:"http://115.57.127.237:9554",timeout:3e3},[]),c["ɵmpd"](256,U.c,{name:"__mydb",driverOrder:["indexeddb","sqlite","websql"]},[])])});Object(c.enableProdMode)(),Object(l.j)().bootstrapModuleFactory(gt)},56:function(e,t,r){"use strict";r.d(t,"a",function(){return d});r(0);var i=r(1),s=r(524),n=(r(26),r(34)),o=(r.n(n),r(27),r(20),r(22)),a=(r.n(o),r(142)),u=(r(42),r(93),r(134),r(133),r(190),r(153)),l=(r.n(u),this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function o(e){try{u(i.next(e))}catch(e){n(e)}}function a(e){try{u(i.throw(e))}catch(e){n(e)}}function u(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(o,a)}u((i=i.apply(e,t||[])).next())})}),c=this&&this.__generator||function(e,t){function r(r){return function(o){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,s&&(n=s[2&r[0]?"return":r[0]?"throw":"next"])&&!(n=n.call(s,r[1])).done)return n;switch(s=0,n&&(r=[0,n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,s=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(n=a.trys,!(n=n.length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],s=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}var i,s,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o},d=function(){function e(e,t,r,s,n,o,a,u,l,c,d,p){this.http=e,this.aumsApi=t,this.app=r,this.logger=s,this.nativeJsExtend=n,this.umsUser=o,this.userAreaListProvider=a,this.serverAddressListProvider=u,this.utils=l,this.aumsApiProvider=c,this.gpsLocationProvider=d,this.umsUserProvider=p,this.TAG="NormalUserProvider",this.refetch=!0,this.onUserChanged=new i.EventEmitter,this.deepCopyUserList={}}return Object.defineProperty(e.prototype,"user",{get:function(){if(this._user)switch(this._user.role="passed"===this._user.checkStatus?"普通用户":"游客",this._user.checkStatus){case"pending":this._user.checkStatusName="审核中";break;case"rejected":this._user.checkStatusName="审核不通过";break;default:this._user.checkStatusName=""}return this._user},set:function(e){this._user=e,this._user&&(this._user.columnId&&(this.app.aums.websiteId=+this._user.columnId),this._user.userName=this.umsUser.getUserName(),this._user.userId=this.umsUser.getUserId(),s.a.setCheckStatus(this._user),s.a.setRole(this._user),"游客"===this._user.role&&this._user.regionId&&(this._user.areaId=this._user.regionId))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shareUser",{get:function(){return this._shareUser.serviceType=this._user.serviceType,"2"===this._user.serviceType&&(this._shareUser.serviceTypeId=this._user.parentServiceId,this._shareUser.subServiceTypeId=this._user.serviceId),this._shareUser},set:function(e){this._shareUser=e},enumerable:!0,configurable:!0}),e.prototype.setRefetch=function(e){this.refetch=!!e},e.prototype.setUser=function(e){this.user=e},e.prototype.getUser=function(e){var t=this;return void 0===e&&(e=!1),Object(u.fromPromise)(this.fetchNormalUser(e)).pipe(Object(o.map)(function(e){return t.setUser(e),{status:"success",data:t.user}}))},e.prototype.fetchNormalUser=function(e){return void 0===e&&(e=!1),l(this,void 0,void 0,function(){var t,r,i,n,o,a,u,l,d,p,h,m,g,f=this;return c(this,function(c){switch(c.label){case 0:(e||this.refetch)&&(this.userAreaListProvider.setRefetch(!0),this.refetch=!1),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.serverAddressListProvider.getList().toPromise()];case 2:return c.sent(),[3,4];case 3:throw t=c.sent(),this.utils.log("warn",this.TAG,"fetchNormalUser","查询全部服务器列表失败: "+t.message),t;case 4:if(!this.serverAddressListProvider.serverAddressList||!this.serverAddressListProvider.serverAddressList.length)throw new Error("读取全部服务列表失败");if(this.umsUser.getUserId()||(this.userAreaListProvider.currentUserArea=null,this.userAreaListProvider.userAreaList=null),!this.userAreaListProvider.currentUserArea)return[3,9];c.label=5;case 5:return c.trys.push([5,7,,8]),[4,this.userAreaListProvider.getList().toPromise()];case 6:return c.sent(),[3,8];case 7:throw r=c.sent(),this.utils.log("warn",this.TAG,"fetchNormalUser","查询归属地列表失败: "+r.message),r;case 8:if("2"===this.userAreaListProvider.currentUserArea.serviceType?(n=this.serverAddressListProvider._serverAddressList.find(function(e){return e.host===f.userAreaListProvider.currentUserArea.host}),p=n.site_data.find(function(e){return e.siteName===f.userAreaListProvider.currentUserArea.parentServiceName}),i=this.userAreaListProvider.userAreaList&&this.userAreaListProvider.userAreaList.find(function(e){return e.serviceId===f.userAreaListProvider.currentUserArea.serviceId}),p&&(i.columnId=p.siteId)):i=this.userAreaListProvider.userAreaList&&this.userAreaListProvider.userAreaList.find(function(e){return e.areaId===f.userAreaListProvider.currentUserArea.areaId}),o=i&&this.serverAddressListProvider.serverAddressList.find(function(e){return e.host===i.host}),null==i)this.utils.log("warn",this.TAG,"fetchNormalUser","缓存归属地(areaId="+this.userAreaListProvider.currentUserArea.areaId+")已失效"),this.userAreaListProvider.currentUserArea=null;else{if(null!=o)return this.serverAddressListProvider.setRemoteConfig(o),[2,s.a.copyWith({id:i.id,areaName:i.areaName,userTypeName:i.userTypeName,userId:i.userId,userName:i.userName,areaId:i.areaId,userType:i.userType,checkFlag:i.checkFlag,columnId:i.columnId,regionId:i.regionId,host:i.host,subdivideAreaName:i.subdivideAreaName,subdivideAreaId:i.subdivideAreaId,serviceType:i.serviceType||"1",serviceName:i.serviceName||"",serviceId:i.serviceId||"",parentServiceId:i.parentServiceId||""})];this.utils.log("warn",this.TAG,"fetchNormalUser","缓存归属地区域全部服务器列表中不存在"),this.userAreaListProvider.currentUserArea=null}c.label=9;case 9:if(this.serverAddressListProvider.currentServerAddress&&(a=this.serverAddressListProvider.serverAddressList.find(function(e){return e.hostName===f.serverAddressListProvider.currentServerAddress.hostName})))return this.serverAddressListProvider.currentServerAddress=a,this.serverAddressListProvider.setRemoteConfig(a),[2,s.a.copyWith({areaName:a.hostName,columnId:a.columnId,areaId:a.regionId,host:a.host})];c.label=10;case 10:return c.trys.push([10,12,,13]),[4,this.userAreaListProvider.getList().toPromise()];case 11:return c.sent(),[3,13];case 12:throw u=c.sent(),this.utils.log("warn",this.TAG,"fetchNormalUser","查询归属地列表失败: "+u.message),u;case 13:if(this.userAreaListProvider.userAreaList&&this.userAreaListProvider.userAreaList.length){if(l=this.userAreaListProvider.userAreaList[0],d=l&&this.serverAddressListProvider.serverAddressList.find(function(e){return e.host===l.host}),"2"===l.serviceType&&(p=d.site_data.find(function(e){return e.siteName===l.parentServiceName}))&&(l.columnId=p.siteId),null!=d)return this.serverAddressListProvider.setRemoteConfig(d),this.userAreaListProvider.currentUserArea=l,[2,s.a.copyWith({id:l.id,areaName:l.areaName,userTypeName:l.userTypeName,userId:l.userId,userName:l.userName,areaId:l.areaId,userType:l.userType,checkFlag:l.checkFlag,columnId:l.columnId,regionId:l.regionId,host:l.host,subdivideAreaName:l.subdivideAreaName,subdivideAreaId:l.subdivideAreaId,serviceType:l.serviceType||"1",serviceName:l.serviceName||"",serviceId:l.serviceId||"",parentServiceId:l.parentServiceId||""})];this.utils.log("warn",this.TAG,"fetchNormalUser","归属地区域全部服务器列表中不存在")}if(this.serverAddressListProvider.currentServerAddress)return[3,17];h=void 0,c.label=14;case 14:return c.trys.push([14,16,,17]),[4,this.gpsLocationProvider.getServer().toPromise()];case 15:return"success"===(h=c.sent()).status?(this.serverAddressListProvider.setRemoteConfig(h.data),[2,s.a.copyWith({areaName:h.data.hostName,columnId:h.data.columnId,areaId:h.data.regionId,host:h.data.host})]):[3,17];case 16:return m=c.sent(),this.utils.log("warn",this.TAG,"fetchNormalUser","GPS定位失败: "+m.message),[3,17];case 17:return g=this.serverAddressListProvider.serverAddressList[0],this.serverAddressListProvider.setRemoteConfig(g),[2,s.a.copyWith({areaName:g.hostName,columnId:g.columnId,areaId:g.regionId,host:g.host})]}})})},e.prototype.getAreaId=function(){return this.user&&this.user.areaId||"0"},e.prototype.getNormalUserStatus=function(){return this.user.checkStatus?a.a[this.firstUpperCase(this.user.checkStatus)]:a.a.Unknown},e.prototype.firstUpperCase=function(e){return e.replace(/^\S/,function(e){return e.toUpperCase()})},e.prototype.setUserAsVisitor=function(){var e=new s.a;e.userId=this.umsUser.getUserId(),this.serverAddressListProvider.currentServerAddress&&(e.areaId=this.serverAddressListProvider.currentServerAddress.regionId,e.areaName=this.serverAddressListProvider.currentServerAddress.hostName),this.user=e},e.prototype.checkUserChanged=function(e){var t=this.deepCopyUserList[e];this.onUserChanged.emit({comp:e,type:"normalUser",state:null==t&&null!=this.user?"init":null!=t&&null!=this.user?t.checkStatus!==this.user.checkStatus?"checkStatusChanged":"2"!=t.serviceType&&t.areaName!==this.user.areaName?"changed":"2"!=t.serviceType||t.serviceId===this.user.serviceId&&t.areaName===this.user.areaName?"unchange":"changed":"unchange"})},e.prototype.insertDeepCopyUser=function(e){this.deepCopyUserList[e]=Object.assign({},this.user)},e.prototype.hasDeepCopyUser=function(e){return this.deepCopyUserList&&this.deepCopyUserList[e]},e.prototype.removeDeepCopyUser=function(e){this.hasDeepCopyUser(e)&&delete this.deepCopyUserList[e]},e.prototype.saveGuest=function(e,t){return this.aumsApi.saveGuest(e,t).pipe(Object(o.map)(function(e){return 1==e.code?{status:"success",data:e.data}:{status:"failure",message:e.message}}))},e.prototype.saveServiceGuest=function(e,t){return this.aumsApi.saveServiceGuest(e,t).pipe(Object(o.map)(function(e){return 1==e.code?{status:"success",data:e.data}:{status:"failure",message:e.message}}))},e.prototype.getLowestLevelLocation=function(e){if(e){var t=(e=e.trim()).split(" ");return t[t.length-1]}return""},e.prototype.getStatusDisplayName=function(e){var t;switch(e){case 0:t="审核不通过";break;case 1:t="审核通过";break;case 2:t="审核中";break;default:t="未绑定"}return t},e.prototype.getShareUser=function(){var e=this;return this.shareUser=null,this.getUser().pipe(Object(o.switchMap)(function(t){return"success"===t.status?e.aumsApiProvider.getShortVideoUserInfo({userId:e.user.userId,userType:e.app.ums.userType}).pipe(Object(o.map)(function(t){return 1==t.success?(e.shareUser=t,{status:"success",data:e.shareUser}):(e.utils.log("warn",e.TAG,"getShareUser","获取短视频普通用户失败: "+JSON.stringify(t)),{status:"success",data:null})}),Object(o.catchError)(function(e){return Object(n.of)({status:"success",data:null})})):Object(n.of)(t)}))},e}()},807:function(e,t,r){function i(e){return r(s(e))}function s(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var n={"./af":371,"./af.js":371,"./ar":372,"./ar-dz":373,"./ar-dz.js":373,"./ar-kw":374,"./ar-kw.js":374,"./ar-ly":375,"./ar-ly.js":375,"./ar-ma":376,"./ar-ma.js":376,"./ar-sa":377,"./ar-sa.js":377,"./ar-tn":378,"./ar-tn.js":378,"./ar.js":372,"./az":379,"./az.js":379,"./be":380,"./be.js":380,"./bg":381,"./bg.js":381,"./bm":382,"./bm.js":382,"./bn":383,"./bn.js":383,"./bo":384,"./bo.js":384,"./br":385,"./br.js":385,"./bs":386,"./bs.js":386,"./ca":387,"./ca.js":387,"./cs":388,"./cs.js":388,"./cv":389,"./cv.js":389,"./cy":390,"./cy.js":390,"./da":391,"./da.js":391,"./de":392,"./de-at":393,"./de-at.js":393,"./de-ch":394,"./de-ch.js":394,"./de.js":392,"./dv":395,"./dv.js":395,"./el":396,"./el.js":396,"./en-SG":397,"./en-SG.js":397,"./en-au":398,"./en-au.js":398,"./en-ca":399,"./en-ca.js":399,"./en-gb":400,"./en-gb.js":400,"./en-ie":401,"./en-ie.js":401,"./en-il":402,"./en-il.js":402,"./en-nz":403,"./en-nz.js":403,"./eo":404,"./eo.js":404,"./es":405,"./es-do":406,"./es-do.js":406,"./es-us":407,"./es-us.js":407,"./es.js":405,"./et":408,"./et.js":408,"./eu":409,"./eu.js":409,"./fa":410,"./fa.js":410,"./fi":411,"./fi.js":411,"./fo":412,"./fo.js":412,"./fr":413,"./fr-ca":414,"./fr-ca.js":414,"./fr-ch":415,"./fr-ch.js":415,"./fr.js":413,"./fy":416,"./fy.js":416,"./ga":417,"./ga.js":417,"./gd":418,"./gd.js":418,"./gl":419,"./gl.js":419,"./gom-latn":420,"./gom-latn.js":420,"./gu":421,"./gu.js":421,"./he":422,"./he.js":422,"./hi":423,"./hi.js":423,"./hr":424,"./hr.js":424,"./hu":425,"./hu.js":425,"./hy-am":426,"./hy-am.js":426,"./id":427,"./id.js":427,"./is":428,"./is.js":428,"./it":429,"./it-ch":430,"./it-ch.js":430,"./it.js":429,"./ja":431,"./ja.js":431,"./jv":432,"./jv.js":432,"./ka":433,"./ka.js":433,"./kk":434,"./kk.js":434,"./km":435,"./km.js":435,"./kn":436,"./kn.js":436,"./ko":437,"./ko.js":437,"./ku":438,"./ku.js":438,"./ky":439,"./ky.js":439,"./lb":440,"./lb.js":440,"./lo":441,"./lo.js":441,"./lt":442,"./lt.js":442,"./lv":443,"./lv.js":443,"./me":444,"./me.js":444,"./mi":445,"./mi.js":445,"./mk":446,"./mk.js":446,"./ml":447,"./ml.js":447,"./mn":448,"./mn.js":448,"./mr":449,"./mr.js":449,"./ms":450,"./ms-my":451,"./ms-my.js":451,"./ms.js":450,"./mt":452,"./mt.js":452,"./my":453,"./my.js":453,"./nb":454,"./nb.js":454,"./ne":455,"./ne.js":455,"./nl":456,"./nl-be":457,"./nl-be.js":457,"./nl.js":456,"./nn":458,"./nn.js":458,"./pa-in":459,"./pa-in.js":459,"./pl":460,"./pl.js":460,"./pt":461,"./pt-br":462,"./pt-br.js":462,"./pt.js":461,"./ro":463,"./ro.js":463,"./ru":464,"./ru.js":464,"./sd":465,"./sd.js":465,"./se":466,"./se.js":466,"./si":467,"./si.js":467,"./sk":468,"./sk.js":468,"./sl":469,"./sl.js":469,"./sq":470,"./sq.js":470,"./sr":471,"./sr-cyrl":472,"./sr-cyrl.js":472,"./sr.js":471,"./ss":473,"./ss.js":473,"./sv":474,"./sv.js":474,"./sw":475,"./sw.js":475,"./ta":476,"./ta.js":476,"./te":477,"./te.js":477,"./tet":478,"./tet.js":478,"./tg":479,"./tg.js":479,"./th":480,"./th.js":480,"./tl-ph":481,"./tl-ph.js":481,"./tlh":482,"./tlh.js":482,"./tr":483,"./tr.js":483,"./tzl":484,"./tzl.js":484,"./tzm":485,"./tzm-latn":486,"./tzm-latn.js":486,"./tzm.js":485,"./ug-cn":487,"./ug-cn.js":487,"./uk":488,"./uk.js":488,"./ur":489,"./ur.js":489,"./uz":490,"./uz-latn":491,"./uz-latn.js":491,"./uz.js":490,"./vi":492,"./vi.js":492,"./x-pseudo":493,"./x-pseudo.js":493,"./yo":494,"./yo.js":494,"./zh-cn":495,"./zh-cn.js":495,"./zh-hk":496,"./zh-hk.js":496,"./zh-tw":497,"./zh-tw.js":497};i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id=807},86:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var i={production:!0,mockUser:!1,logLevel:5,enableRefresher:!0}},88:function(e,t,r){"use strict";r.d(t,"a",function(){return a});r(0),r(20);var i=r(34),s=(r.n(i),r(22)),n=(r.n(s),r(3)),o=(r.n(n),r(27),r(94),r(26),r(56),r(42)),a=function(){function e(e,t,r,i,s,n,o,a){this.http=e,this.app=t,this.normalUser=r,this.logger=i,this.aumsApi=s,this.routerUtil=n,this.utils=o,this.nativeJsExtend=a,this.TAG="AumsProvider"}return e.prototype.getArticleList=function(e,t,r){return this.aumsApi.getArticleList(e,t,r)},e.prototype.getCommonList=function(e,t){var r=this;return this.getArticleList({columnId:e.columnId,curPage:e.curPage,pageSize:e.pageSize,areaId:e.areaId,userId:e.userId,areaType:e.areaType,checkFlag:e.checkFlag},t).pipe(Object(s.map)(function(e){var t=e&&e.data&&e.data.articles,i=[];return Array.isArray(t)?(n.locale("zh-cn"),t.forEach(function(e){i.push({title:e.ftitle,source:r.app.source,time:/\d{4}-\d{2}-\d{2}/.test(e.fupdatetime||e.faddtime)?n(e.fupdatetime||e.faddtime).format("YYYY-MM-DD"):" ",hits:e.fhits||0,thumbnail:e.fimage,info:e.fsummary,id:e.articleId,raw:e})}),i):e}),Object(s.catchError)(function(e){return Object(i.of)(e)}))},e.prototype.openArticle=function(e,t){var r=this;this.logger.debug(this.TAG+" openArticle() article item info: "+JSON.stringify(e)),this.aumsApi.isArticlePhoto(e)?this.routerUtil.go({navCtrl:t.navCtrl,route:"article-photos",params:{articleId:e.articleId},errorFn:function(e){r.utils.toast("打开图集失败，请稍后再试!")}}):this.routerUtil.go({navCtrl:t.navCtrl,route:"article",params:{articleId:e.articleId},errorFn:function(e){r.utils.toast("打开文章失败，请稍后再试!")}})},e.prototype.openColumn=function(e){var t=e.item,r=e.navCtrl;if(t.htmlUrl)this.nativeJsExtend.startActivity(o.a.ACTIVITY_TO_SECOND,t.htmlUrl);else if("column"===t.actionType){var i="list",s={cId:t.columnId,name:t.name},n=!1;if(t.jumpAddress&&Array.isArray(t.jumpAddress.rows)){var a=t.jumpAddress.rows.filter(function(e){return"PHONE"===e.routeTerminalType});if(a.length){var u=a[0];i=u.routeName||"list",n=u.routeRule&&"native"===u.routeRule.routeType;if((u.columnRouteParams&&u.columnRouteParams.rows||[]).forEach(function(e){s[e.key]=e.value}),u.routeRule)for(var l in u.routeRule)s[l]=u.routeRule[l]}}else this.utils.log("warn",this.TAG,"handleColumn","未配置路由模板");n?this.nativeJsExtend.startActivity(i):this.routerUtil.go({navCtrl:r,route:i,params:s,pageName:t.name})}else if("article"===t.actionType){this.routerUtil.go({navCtrl:r,route:"article",params:{id:t.articleId}})}},e}()},90:function(e,t,r){"use strict";r.d(t,"a",function(){return o});r(0);var i=r(78),s=(r.n(i),r(20),r(22)),n=(r.n(s),r(34)),o=(r.n(n),r(26),function(){function e(e,t,r,i){this.http=e,this.logger=t,this.utils=r,this.app=i,this.TAG="AumsVoteApiProvider",this.typeId=this.app.aums_vote.typeIds.vote}return Object.defineProperty(e.prototype,"apiEndPoint",{get:function(){return this.app.aums_vote.apiEndPoint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeout",{get:function(){return this.app.aums_vote.timeout||5e3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.app.aums_vote.path},enumerable:!0,configurable:!0}),e.prototype.castVote=function(e,t,r){var i=this,n=(t||this.apiEndPoint)+"/"+(r||this.path)+"/vote/castVote?typeId="+(e.typeId||this.typeId)+"&columnId="+e.columnId+"&userId="+e.userId+"&point=1";return this.logger.debug(this.TAG+" castVote() request url is "+n),this.http.get(n).pipe(Object(s.timeout)(this.timeout),Object(s.map)(function(e){return e||(i.utils.log("warn",i.TAG,"castVote",n+"接口返回值为空"),e={status:"empty"}),e}),Object(s.catchError)(function(e){return i.handleError(e,"castVote")}))},e.prototype.getTotalCntByCIds=function(e,t,r){var i=this,n=(t||this.apiEndPoint)+"/"+(r||this.path)+"/vote/getTotalCntByCIds?typeId="+(e.typeId||this.typeId)+"&columnIds="+e.columnIds;return this.logger.debug(this.TAG+" getTotalCntByCIds() request url is "+n),this.http.get(n).pipe(Object(s.timeout)(this.timeout),Object(s.map)(function(e){return e||(i.utils.log("warn",i.TAG,"getTotalCntByCIds",n+"接口返回值为空"),e={status:"empty"}),e}),Object(s.catchError)(function(e){return i.handleError(e,"getTotalCntByCIds")}))},e.prototype.getVoteUserCollect=function(e,t,r){var i=this,n=(t||this.apiEndPoint)+"/"+(r||this.path)+"/vote/getVoteUserCollect?typeId="+(e.typeId||this.typeId)+"&columnIds="+e.columnIds+"&userId="+e.userId;return this.logger.debug(this.TAG+" getVoteUserCollect() request url is "+n),this.http.get(n).pipe(Object(s.timeout)(this.timeout),Object(s.catchError)(function(e){return i.handleError(e,"getVoteUserCollect")}))},e.prototype.getVoteColumCount=function(e,t,r){var i=this,n=(t||this.apiEndPoint)+"/"+(r||this.path)+"/vote/getVoteColumCount?typeId="+e.typeId;return e.columnId&&(n+="&columnId="+e.columnId),e.sort&&(n+="&sort="+e.sort),e.curPage&&(n+="&curPage="+e.curPage),e.pageSize&&(n+="&pageSize="+e.pageSize),this.logger.debug(this.TAG+" getVoteColumCount() request url is "+n),this.http.get(n).pipe(Object(s.timeout)(this.timeout),Object(s.map)(function(e){return e||(i.utils.log("warn",i.TAG,"getVoteColumCount",n+"接口返回值为空"),e={status:"empty"}),e}),Object(s.catchError)(function(e){return i.handleError(e,"getVoteColumCount")}))},e.prototype.handleError=function(e,t){var r,s;return e.error instanceof ErrorEvent?(r="没有网络连接，请检查网络设置",s="disconnect"):e instanceof i.TimeoutError?(r="网络连接超时",s="timeout"):(s="error",r=0==e.status?"没有网络连接，请检查网络设置":"服务端报错:"+e.message),this.logger.error(this.TAG+" execute method "+t+" error: "+(e.stack||e.message)),Object(n.of)({message:r,type:t,status:s})},e.prototype.appendCount=function(e){var t=e.targetArray,r=e.typeId,i=e.field,o=e.columnIds;return 0===t.length?(this.logger.warn(this.TAG+" appendCount() targetArray不能为空数组"),Object(n.of)({status:"failure"})):this.getTotalCntByCIds({columnIds:o,typeId:r}).pipe(Object(s.map)(function(e){return e&&1==e.code&&Array.isArray(e.data)?(e.data.forEach(function(e){var r=t.find(function(t){return t.id==e.columnId});r&&(r[i]=+e.totalCnt)}),{status:"success",data:t}):{status:"failure",message:e.message}}))},e}())},93:function(e,t,r){"use strict";r.d(t,"a",function(){return o});r(0);var i=r(42),s=r(98),n=r(86),o=(r(26),function(){function e(e,t,r){this.http=e,this.nativeJsExtend=t,this.utils=r,this.TAG="UmsUserProvider",this.mock=!1,this.mock=n.a.mockUser}return e.prototype.getUserId=function(){var e;if(this.utils.log("debug",this.TAG,"getUserId","mock: "+this.mock),this.mock){var t=s.a.dummyUser.utils.getUmsUser();this.utils.log("debug",this.TAG,"getUserId","dummyUmsUser: "+JSON.stringify(t)),t&&(e=t.userId)}else e=this.nativeJsExtend.startActivity(i.a.ACTIVITY_GET_USERID),this.utils.log("debug",this.TAG,"getUserId","get ums user id from native storage: "+e);return e},e.prototype.getUserName=function(){var e;if(this.mock){var t=s.a.dummyUser.utils.getUmsUser();t&&(e=t.userName)}else e=this.nativeJsExtend.startActivity(i.a.ACTIVITY_GET_USERNAME),this.utils.log("debug",this.TAG,"getUserName","get ums user id from native storage: "+e);return e},e}())},94:function(e,t,r){"use strict";r.d(t,"a",function(){return i});r(0),r(20),r(132),r(26);var i=function(){function e(e,t,r,i){this.http=e,this.app=t,this.utils=r,this.pageAuth=i,this.TAG="RouterUtilProvider"}return t=e,e.prototype.go=function(e){var r=this,i=e.navCtrl,s=e.pageName,n=e.route,o=e.params,a=void 0===o?{}:o,u=e.successFn,l=e.errorFn,c=e.preFn;this.utils.log("info",this.TAG,"go","跳转路由名称: "+n),this.utils.log("info",this.TAG,"go","跳转路由参数: "+JSON.stringify(a)),t.NAV_PUSH_AMOUNT>=1||(t.NAV_PUSH_AMOUNT++,"function"==typeof c&&c(),i.push(n,a).then(function(e){r.app.closeLoading(),t.NAV_PUSH_AMOUNT=0,u&&u(e),r.pageAuth.invalidUserRouter(s,i)},function(e){r.app.closeLoading(),r.utils.log("error",r.TAG,"go","open route "+n+" error: "+e.stack),t.NAV_PUSH_AMOUNT=0,l&&l(e)}))},e.NAV_PUSH_AMOUNT=0,e;var t}()},95:function(e,t,r){"use strict";r.d(t,"a",function(){return i}),r.d(t,"b",function(){return s}),r.d(t,"c",function(){return n}),r.d(t,"d",function(){return o});r(0);var i=0,s=1,n=2,o=function(){function e(e){this.http=e}return e.prototype.getTypeName=function(e){switch(e){case 0:return"图文";case 1:return"图集";case 2:return"问卷调查"}},e}()},98:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var i=r(142),s={name:"智慧中原",appDownloadUrl:"http://shx.monitor.evm.cloud.henancatv.com:10555/zhihuizhongyuan.html",apache:{apiEndPoint:"http://shx.monitor.evm.cloud.henancatv.com:10555",path:"com-evmtv-henan-smartcity"},aums_vote:{typeIds:{vote:18,articleViewCount:1,articleLikeCount:2,shortVideoViewCount:3,shortVideoLikeCount:4,columnViewCount:5},apiEndPoint:"http://shx.monitor.evm.cloud.henancatv.com:10554",path:"aums_vote_interface",timeout:3e3},aums:{apiEndPoint:"http://shx.monitor.evm.cloud.henancatv.com:10554",path:"ancms_server_interface",timeout:5e3,userType:0},ums:{userType:2,apiEndPoint:"http://shx.monitor.evm.cloud.henancatv.com:10554",path:"ums_v3"},comment:{typeIds:{article:164,shortVideo:162,photo:161,column:165,comment:166},apiEndPoint:"http://shx.monitor.evm.cloud.henancatv.com:10554",path:"aums_comment",timeout:3e3},easydms:{apiEndPoint:"http://115.57.127.237:9554",path:"easydms",timeout:3e3,monitor:{port:"9566",ip:"115.57.127.237",protocol:"rtsp"}},mock_img:"http://shx.monitor.evm.cloud.henancatv.com:10555/ad/mock_img.png",mock_adList:[{name:"我们在一起",src:"http://shx.monitor.evm.cloud.henancatv.com:10555/ad/ad1.png"}],source:"四川广电网络",defaultNormalUserStatusLevels:[i.a.Passed,i.a.Pending,i.a.Rejected,i.a.Unbind,i.a.Unknown],dummyUser:{switch:{normalUser:!0,aums:!0},status:"passed",ums:{unbind:null,pending:null,passed:{userId:"41060000000431"},rejected:null},aums:{areaId:"72340168526266371",id:109,areaName:"总府路社区",name:"赵村长",userName:"cunzhang",power:[],deleteFlag:0,password:"",serviceType:"2",serviceIds:"12",parentServiceId:"5"},utils:{getUmsUser:function(){var e=s.dummyUser;return e.switch.normalUser&&e.ums[e.status]},getAumsAdminUser:function(){return s.dummyUser.switch.aums&&s.dummyUser.aums}}}}},99:function(e,t,r){"use strict";r.d(t,"a",function(){return n});r(0);var i=r(78),s=(r.n(i),r(22)),n=(r.n(s),r(27),function(){function e(e,t){this.http=e,this.aums=t,this.source$=new i.BehaviorSubject(null),this.isInit=!1,console.log("Hello RepaireServiceProvider Provider")}return e.prototype.getTypes=function(){return this.isInit||(this.isInit=!0,this.initData()),this.source$.asObservable()},e.prototype.initData=function(){var e=this;this.aums.getAllFaultList().subscribe(function(t){t&&1===t.code&&(t=t.data&&t.data.faults||[]),e.source$.next(t)})},e.prototype.allFaultList=function(){return this.getTypes().pipe(Object(s.map)(function(e){return e}))},e.prototype.setSelected=function(e){this.getTypes().pipe().subscribe(function(t){t.map(function(t){t.faultId===e.faultId&&(t.selected=!t.selected)})})},e.prototype.clear=function(){this.getTypes().pipe().subscribe(function(e){e.map(function(e){e.selected=!1})})},e}())}},[525]);