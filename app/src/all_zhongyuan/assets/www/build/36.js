webpackJsonp([36],{824:function(l,n,e){"use strict";function t(l){return u["ɵvid"](0,[(l()(),u["ɵted"](-1,null,["\n"])),(l()(),u["ɵeld"](1,0,null,null,19,"ion-header",[],null,null,null,null,null)),u["ɵdid"](2,16384,null,0,k.a,[y.a,u.ElementRef,u.Renderer,[2,E.a]],null,null),(l()(),u["ɵted"](-1,null,["\n\n  "])),(l()(),u["ɵeld"](4,0,null,null,15,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,_.b,_.a)),u["ɵdid"](5,49152,null,0,D.a,[I.a,[2,E.a],[2,q.a],y.a,u.ElementRef,u.Renderer],null,null),(l()(),u["ɵted"](-1,3,["\n    "])),(l()(),u["ɵeld"](7,0,null,3,2,"ion-title",[],null,null,null,P.b,P.a)),u["ɵdid"](8,49152,null,0,N.a,[y.a,u.ElementRef,u.Renderer,[2,V.a],[2,D.a]],null,null),(l()(),u["ɵted"](9,0,["",""])),(l()(),u["ɵted"](-1,3,["\n    "])),(l()(),u["ɵeld"](11,0,null,2,7,"ion-buttons",[["end",""]],null,null,null,null,null)),u["ɵdid"](12,16384,null,1,L.a,[y.a,u.ElementRef,u.Renderer,[2,V.a],[2,D.a]],null,null),u["ɵqud"](603979776,1,{_buttons:1}),(l()(),u["ɵted"](-1,null,["\n      "])),(l()(),u["ɵeld"](15,0,null,null,2,"button",[["clear",""],["ion-button",""],["large",""]],null,[[null,"click"]],function(l,n,e){var t=!0;if("click"===n){t=!1!==l.component.submit()&&t}return t},x.b,x.a)),u["ɵdid"](16,1097728,[[1,4]],0,U.a,[[8,""],y.a,u.ElementRef,u.Renderer],{large:[0,"large"],clear:[1,"clear"]},null),(l()(),u["ɵted"](-1,0,["\n        确定\n      "])),(l()(),u["ɵted"](-1,null,["\n    "])),(l()(),u["ɵted"](-1,3,["\n  "])),(l()(),u["ɵted"](-1,null,["\n\n"])),(l()(),u["ɵted"](-1,null,["\n\n\n"])),(l()(),u["ɵeld"](22,0,null,null,46,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null],[2,"has-infinite-scroll",null]],null,null,M.b,M.a)),u["ɵdid"](23,4374528,null,0,j.a,[y.a,w.a,F.a,u.ElementRef,u.Renderer,I.a,A.a,u.NgZone,[2,E.a],[2,q.a]],null,null),(l()(),u["ɵted"](-1,1,["\n  "])),(l()(),u["ɵeld"](25,0,null,1,42,"quill-editor",[["placeholder","请输入内容"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"onContentChanged"],[null,"onEditorCreated"]],function(l,n,e){var t=!0,u=l.component;if("onContentChanged"===n){t=!1!==u.onContentChanged(e)&&t}if("onEditorCreated"===n){t=!1!==u.editorCreated(e)&&t}return t},H.b,H.a)),u["ɵdid"](26,4898816,null,0,s.b,[u.ElementRef,K.c,O.DOCUMENT,u.PLATFORM_ID,u.Renderer2,u.NgZone,s.a],{placeholder:[0,"placeholder"],maxLength:[1,"maxLength"],style:[2,"style"]},{onEditorCreated:"onEditorCreated",onContentChanged:"onContentChanged"}),u["ɵpod"](27,{height:0}),u["ɵprd"](1024,null,T.k,function(l){return[l]},[s.b]),u["ɵprd"](1024,null,T.l,function(l){return[l]},[s.b]),u["ɵdid"](30,671744,null,0,T.p,[[8,null],[2,T.k],[8,null],[2,T.l]],{model:[0,"model"]},null),u["ɵprd"](2048,null,T.m,null,[T.p]),u["ɵdid"](32,16384,null,0,T.n,[T.m],null,null),(l()(),u["ɵted"](-1,null,["\n    "])),(l()(),u["ɵeld"](34,0,null,0,32,"div",[["quill-editor-toolbar",""]],null,null,null,null,null)),(l()(),u["ɵted"](-1,null,["\n      "])),(l()(),u["ɵeld"](36,0,null,null,24,"span",[["class","ql-formats"]],null,null,null,null,null)),(l()(),u["ɵted"](-1,null,["\n        "])),(l()(),u["ɵeld"](38,0,null,null,0,"button",[["class","ql-bold"]],[[8,"title",0]],null,null,null,null)),(l()(),u["ɵted"](-1,null,["\n        "])),(l()(),u["ɵeld"](40,0,null,null,0,"button",[["class","ql-italic"]],[[8,"title",0]],null,null,null,null)),(l()(),u["ɵted"](-1,null,["\n        "])),(l()(),u["ɵeld"](42,0,null,null,17,"select",[["class","ql-align"]],[[8,"title",0]],null,null,null,null)),(l()(),u["ɵted"](-1,null,["\n          "])),(l()(),u["ɵeld"](44,0,null,null,2,"option",[["selected",""]],null,null,null,null,null)),u["ɵdid"](45,147456,null,0,T.q,[u.ElementRef,u.Renderer2,[8,null]],null,null),u["ɵdid"](46,147456,null,0,T.w,[u.ElementRef,u.Renderer2,[8,null]],null,null),(l()(),u["ɵted"](-1,null,["\n          "])),(l()(),u["ɵeld"](48,0,null,null,2,"option",[["value","center"]],null,null,null,null,null)),u["ɵdid"](49,147456,null,0,T.q,[u.ElementRef,u.Renderer2,[8,null]],{value:[0,"value"]},null),u["ɵdid"](50,147456,null,0,T.w,[u.ElementRef,u.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),u["ɵted"](-1,null,["\n          "])),(l()(),u["ɵeld"](52,0,null,null,2,"option",[["value","right"]],null,null,null,null,null)),u["ɵdid"](53,147456,null,0,T.q,[u.ElementRef,u.Renderer2,[8,null]],{value:[0,"value"]},null),u["ɵdid"](54,147456,null,0,T.w,[u.ElementRef,u.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),u["ɵted"](-1,null,["\n          "])),(l()(),u["ɵeld"](56,0,null,null,2,"option",[["value","justify"]],null,null,null,null,null)),u["ɵdid"](57,147456,null,0,T.q,[u.ElementRef,u.Renderer2,[8,null]],{value:[0,"value"]},null),u["ɵdid"](58,147456,null,0,T.w,[u.ElementRef,u.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),u["ɵted"](-1,null,["\n        "])),(l()(),u["ɵted"](-1,null,["\n      "])),(l()(),u["ɵted"](-1,null,["\n      "])),(l()(),u["ɵeld"](62,0,null,null,3,"span",[["class","ql-formats"]],null,null,null,null,null)),(l()(),u["ɵted"](-1,null,["\n        "])),(l()(),u["ɵeld"](64,0,null,null,0,"button",[["class","ql-image"]],null,null,null,null,null)),(l()(),u["ɵted"](-1,null,["\n      "])),(l()(),u["ɵted"](-1,null,["\n    "])),(l()(),u["ɵted"](-1,null,["\n  "])),(l()(),u["ɵted"](-1,1,["\n"])),(l()(),u["ɵted"](-1,null,["\n"]))],function(l,n){var e=n.component;l(n,16,0,"","");l(n,26,0,"请输入内容",5,l(n,27,0,"100%"));l(n,30,0,e.text);l(n,49,0,"center");l(n,50,0,"center");l(n,53,0,"right");l(n,54,0,"right");l(n,57,0,"justify");l(n,58,0,"justify")},function(l,n){var e=n.component;l(n,4,0,u["ɵnov"](n,5)._hidden,u["ɵnov"](n,5)._sbPadding);l(n,9,0,e.name);l(n,22,0,u["ɵnov"](n,23).statusbarPadding,u["ɵnov"](n,23)._hasRefresher,u["ɵnov"](n,23)._hasInfiniteScroll);l(n,25,0,u["ɵnov"](n,32).ngClassUntouched,u["ɵnov"](n,32).ngClassTouched,u["ɵnov"](n,32).ngClassPristine,u["ɵnov"](n,32).ngClassDirty,u["ɵnov"](n,32).ngClassValid,u["ɵnov"](n,32).ngClassInvalid,u["ɵnov"](n,32).ngClassPending);l(n,38,0,"加粗");l(n,40,0,"斜体");l(n,42,0,"对齐")})}Object.defineProperty(n,"__esModule",{value:!0});var u=e(1),a=(e(0),e(61),e(20)),d=e(27),i=e(26),o=e(196),r=function(){function l(l,n,e,t,u,a,d){this.navCtrl=l,this.navParams=n,this.app=e,this.aums=t,this.utils=u,this.loadingCtrl=a,this.adminUserProvider=d,this.isUploading=!1,this.name=this.navParams.get("name"),this.key=this.navParams.get("key"),this.key||(this.utils.toast("必须配置用于保存内容的全局变量的key"),this.navCtrl.pop()),this.text=this.app.getGlobalVar(this.key)&&this.app.getGlobalVar(this.key).previousValue}return l.prototype.onContentChanged=function(l){this.contentHtml=l.html},l.prototype.editorCreated=function(l){l.getModule("toolbar").addHandler("image",this.imageHandler.bind(this)),this.editor=l},l.prototype.imageHandler=function(){var l=this,n=document.createElement("input");n.setAttribute("type","file"),n.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),n.classList.add("ql-image"),n.addEventListener("change",function(){var e=n.files[0];if((new FormData).append("file",e,e.name),null!=n.files&&null!=n.files[0]){if(l.isUploading)return;l.isUploading=!0,l.app.loadingInstance=l.loadingCtrl.create({content:"图片上传中...",spinner:"dots"}),l.app.loadingInstance.present(),l.aums.uploadImage({name:"test",imgFile:e,userId:l.adminUserProvider.user.id.toString()},l.adminUserProvider.getApiEndPoint()).subscribe(function(n){if(n&&n.data&&n.data.url){l.isUploading=!1;var e=l.editor.getSelection(!0);l.editor.insertEmbed(e.index,"image",n.data.url)}else l.isUploading=!1,l.utils.toast(n.message||"图片上传失败，请稍后再试!");l.app.closeLoading()},function(l){},function(){})}}),n.click()},l.prototype.ngAfterViewInit=function(){},l.prototype.submit=function(){this.app.setGlobalVar(this.key,{currentValue:this.contentHtml}),this.navCtrl.pop()},l}(),s=e(207),c=function(){return function(){}}(),m=e(504),f=e(505),g=e(506),p=e(507),b=e(508),v=e(509),h=e(510),C=e(511),R=e(512),k=e(128),y=e(4),E=e(8),_=e(865),D=e(55),I=e(15),q=e(37),P=e(515),N=e(91),V=e(57),L=e(130),x=e(46),U=e(32),M=e(514),j=e(38),w=e(7),F=e(14),A=e(47),H=e(967),K=e(41),O=e(17),T=e(31),G=e(18),S=e(136),z=u["ɵcrt"]({encapsulation:2,styles:[],data:{}}),B=u["ɵccf"]("page-editor",r,function(l){return u["ɵvid"](0,[(l()(),u["ɵeld"](0,0,null,null,1,"page-editor",[],null,null,null,t,z)),u["ɵdid"](1,4243456,null,0,r,[q.a,G.a,a.a,d.a,i.a,S.a,o.a],null,null)],null,null)},{},{},[]),Z=e(195),J=e(63);e.d(n,"EditorPageModuleNgFactory",function(){return Q});var Q=u["ɵcmf"](c,[],function(l){return u["ɵmod"]([u["ɵmpd"](512,u.ComponentFactoryResolver,u["ɵCodegenComponentFactoryResolver"],[[8,[m.a,f.a,g.a,p.a,b.a,v.a,h.a,C.a,R.a,B]],[3,u.ComponentFactoryResolver],u.NgModuleRef]),u["ɵmpd"](4608,O.NgLocalization,O.NgLocaleLocalization,[u.LOCALE_ID,[2,O["ɵa"]]]),u["ɵmpd"](4608,T.v,T.v,[]),u["ɵmpd"](4608,T.d,T.d,[]),u["ɵmpd"](512,O.CommonModule,O.CommonModule,[]),u["ɵmpd"](512,T.t,T.t,[]),u["ɵmpd"](512,T.j,T.j,[]),u["ɵmpd"](512,T.r,T.r,[]),u["ɵmpd"](512,Z.a,Z.a,[]),u["ɵmpd"](512,Z.b,Z.b,[]),u["ɵmpd"](512,s.c,s.c,[]),u["ɵmpd"](512,c,c,[]),u["ɵmpd"](256,s.a,{modules:s.d},[]),u["ɵmpd"](256,J.a,r,[])])})},865:function(l,n,e){"use strict";function t(l){return u["ɵvid"](0,[(l()(),u["ɵeld"](0,0,null,null,1,"div",[["class","toolbar-background"]],null,null,null,null,null)),u["ɵdid"](1,278528,null,0,a.NgClass,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),u["ɵeld"](2,0,null,null,8,"button",[["class","back-button"],["ion-button","bar-button"]],[[8,"hidden",0]],[[null,"click"]],function(l,n,e){var t=!0;if("click"===n){t=!1!==l.component.backButtonClick(e)&&t}return t},d.b,d.a)),u["ɵdid"](3,278528,null,0,a.NgClass,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["ɵdid"](4,1097728,null,0,i.a,[[8,"bar-button"],o.a,u.ElementRef,u.Renderer],null,null),(l()(),u["ɵeld"](5,0,null,0,2,"ion-icon",[["class","back-button-icon"],["role","img"]],[[2,"hide",null]],null,null,null,null)),u["ɵdid"](6,278528,null,0,a.NgClass,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["ɵdid"](7,147456,null,0,r.a,[o.a,u.ElementRef,u.Renderer],{name:[0,"name"]},null),(l()(),u["ɵeld"](8,0,null,0,2,"span",[["class","back-button-text"]],null,null,null,null,null)),u["ɵdid"](9,278528,null,0,a.NgClass,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),u["ɵted"](10,null,["",""])),u["ɵncd"](null,0),u["ɵncd"](null,1),u["ɵncd"](null,2),(l()(),u["ɵeld"](14,0,null,null,2,"div",[["class","toolbar-content"]],null,null,null,null,null)),u["ɵdid"](15,278528,null,0,a.NgClass,[u.IterableDiffers,u.KeyValueDiffers,u.ElementRef,u.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u["ɵncd"](null,3)],function(l,n){var e=n.component;l(n,1,0,"toolbar-background","toolbar-background-"+e._mode);l(n,3,0,"back-button","back-button-"+e._mode);l(n,6,0,"back-button-icon","back-button-icon-"+e._mode);l(n,7,0,e._bbIcon);l(n,9,0,"back-button-text","back-button-text-"+e._mode);l(n,15,0,"toolbar-content","toolbar-content-"+e._mode)},function(l,n){var e=n.component;l(n,2,0,e._hideBb);l(n,5,0,u["ɵnov"](n,7)._hidden);l(n,10,0,e._backText)})}e.d(n,"a",function(){return s}),n.b=t;var u=e(1),a=e(17),d=e(46),i=e(32),o=e(4),r=e(62),s=(e(8),e(37),u["ɵcrt"]({encapsulation:2,styles:[],data:{}}))},967:function(l,n,e){"use strict";function t(l){return u["ɵvid"](0,[(l()(),u["ɵted"](-1,null,["\n  "])),u["ɵncd"](null,0),(l()(),u["ɵted"](-1,null,["\n"]))],null,null)}e.d(n,"a",function(){return a}),n.b=t;var u=e(1),a=u["ɵcrt"]({encapsulation:2,styles:[],data:{}})}});