(self.webpackChunkcom_evmtv_wuhai=self.webpackChunkcom_evmtv_wuhai||[]).push([[1794],{7001:(t,e,n)=>{"use strict";n.d(e,{L:()=>A});var i=n(4762),o=n(639),c=n(7823),s=n(8138),r=n(2478),m=n(8685),g=n(9709),d=n(9065),a=n(665);const l=function(){return{height:"100%"}};let C=(()=>{class t{constructor(t,e,n,i,o,c){this.modalController=t,this.navParams=e,this.utilService=n,this.listService=i,this.appService=o,this.userService=c,this.TAG="CommentModalComponent",this.title="\u5199\u8bc4\u8bba",this.emojiPattern=/[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF][\u200D|\uFE0F]|[\uD83C|\uD83D|\uD83E][\uDC00-\uDFFF]|[0-9|*|#]\uFE0F\u20E3|[0-9|#]\u20E3|[\u203C-\u3299]\uFE0F\u200D|[\u203C-\u3299]\uFE0F|[\u2122-\u2B55]|\u303D|[\A9|\AE]\u3030|\uA9|\uAE|\u3030/gi}ngOnInit(){}dismiss(){this.modalController.dismiss({dismissed:!0})}back(){this.dismiss()}addComment(){const t=encodeURIComponent(this.text&&this.text.trim());this.utilService.log("info","CommentModalComponent","addComment",`\u63d0\u4ea4\u8bc4\u8bba\uff1a${t}`),this.listService.addComment({targetId:this.id,commentTypeId:this.appService.config.aums_comment.articleId,userId:this.userService.getUser(),userTypeId:this.appService.config.ums.userType,content:t}).subscribe(t=>{"ok"==t.kind||"msg"==t.kind?(this.utilService.toast(t.items),this.utilService.log("info","CommentModalComponent","addComment",`\u63d0\u4ea4\u8bc4\u8bba\uff1a${t.items}`)):(this.utilService.toast("\u8bc4\u8bba\u63d0\u4ea4\u5931\u8d25"),this.utilService.log("info","CommentModalComponent","addComment","\u8bc4\u8bba\u63d0\u4ea4\u5931\u8d25}")),this.dismiss(),this.comp.reloadcomment()})}onContentChanged(t){if(this.emojiPattern.test(t.html)){this.utilService.toast("\u4e0d\u652f\u6301Emoji\u8868\u60c5");const e=this.filter(t.html);setTimeout(()=>{this.text=e},0)}}filter(t){return t&&(t=t.replace(this.emojiPattern,"")),t}editorCreated(t){}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(c.IN),o.Y36(c.X1),o.Y36(s.f),o.Y36(r.X),o.Y36(m.z),o.Y36(g.K))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-comment-modal"]],inputs:{id:"id",comp:"comp"},decls:13,vars:7,consts:[[1,"header"],[1,"header-nav"],[1,"left",3,"click"],["t","1628131979649","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","2138","width","100%","height","100%",1,"icon"],["d","M254.409068 506.453065C246.433839 490.453407 249.196993 470.606109 262.516391 457.286712L684.842246 34.960856C701.623969 18.179133 728.545954 18.27219 745.208322 34.934558 761.98686 51.713096 761.858918 78.623741 745.182024 95.300635L334.036798 506.445862 745.182024 917.591089C761.963748 934.372812 761.870694 961.294794 745.208322 977.957165 728.429785 994.735703 701.51914 994.607761 684.842246 977.930867L262.516391 555.605012C249.13269 542.221311 246.481899 522.388074 254.409068 506.453065Z","p-id","2139","fill","#fff"],[1,"title"],[1,"sure",3,"click"],[1,"addcomment"],["placeholder","\u8bf7\u8f93\u5165\u5185\u5bb9",3,"ngModel","maxLength","ngModelChange","onContentChanged","onEditorCreated"],["quill-editor-toolbar",""]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"span",2),o.NdJ("click",function(){return e.back()}),o.O4$(),o.TgZ(3,"svg",3),o._UZ(4,"path",4),o.qZA(),o.qZA(),o.kcU(),o.TgZ(5,"span",5),o._uU(6),o.qZA(),o.TgZ(7,"span",6),o.NdJ("click",function(){return e.addComment()}),o._uU(8),o.qZA(),o.qZA(),o.qZA(),o.TgZ(9,"ion-content"),o.TgZ(10,"div",7),o.TgZ(11,"quill-editor",8),o.NdJ("ngModelChange",function(t){return e.text=t})("onContentChanged",function(t){return e.onContentChanged(t)})("onEditorCreated",function(t){return e.editorCreated(t)}),o._UZ(12,"div",9),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(6),o.Oqu(e.title),o.xp6(2),o.Oqu("\u786e\u5b9a"),o.xp6(3),o.Akn(o.DdM(6,l)),o.Q6J("ngModel",e.text)("maxLength",5))},directives:[c.W2,d.g6,a.JJ,a.On],styles:[".addcomment[_ngcontent-%COMP%]{width:100%;height:100%}.addcomment[_ngcontent-%COMP%], .addcomment[_ngcontent-%COMP%]   .ql-snow[_ngcontent-%COMP%]{background-color:#fff}.addcomment[_ngcontent-%COMP%]   .ql-toolbar.ql-snow[_ngcontent-%COMP%]{padding:0}.addcomment[_ngcontent-%COMP%]   .ql-editor.ql-blank[_ngcontent-%COMP%]:before{font-style:normal}.header-nav[_ngcontent-%COMP%]{background-color:#0f8eef;height:5rem;justify-content:space-between;padding:0 1rem}.header-nav[_ngcontent-%COMP%], .header-nav[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center}.header-nav[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{justify-content:center;font-size:1.8rem}.header-nav[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem;display:inline-block}.header-nav[_ngcontent-%COMP%]   .sure[_ngcontent-%COMP%]{font-size:1.6rem;padding:1rem}.header-nav[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}"]}),t})();var u=n(9075),h=n(8583);function p(t,e){1&t&&o._UZ(0,"img",17)}function _(t,e){1&t&&o._UZ(0,"img",18)}function v(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",14),o.NdJ("click",function(){return o.CHM(t),o.oxw().likeArticle()}),o.YNc(1,p,1,0,"img",15),o.YNc(2,_,1,0,"img",16),o.TgZ(3,"span"),o._uU(4,"\u559c\u6b22"),o.qZA(),o.TgZ(5,"span"),o._uU(6),o.qZA(),o.qZA()}if(2&t){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",!t.praised),o.xp6(1),o.Q6J("ngIf",t.praised),o.xp6(4),o.Oqu(t.likeCont)}}function f(t,e){1&t&&(o.TgZ(0,"div",19),o.TgZ(1,"span",20),o.O4$(),o.TgZ(2,"svg",21),o._UZ(3,"path",22),o._UZ(4,"path",23),o._UZ(5,"path",24),o.qZA(),o.qZA(),o.kcU(),o.TgZ(6,"div",25),o._uU(7,"\u6682\u65e0\u8bc4\u8bba\u6570\u636e"),o.qZA(),o.qZA())}function O(t,e){1&t&&o._UZ(0,"img",17)}function T(t,e){1&t&&o._UZ(0,"img",18)}function M(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",26),o.TgZ(1,"div",27),o.TgZ(2,"div",28),o.TgZ(3,"span",20),o.O4$(),o.TgZ(4,"svg",29),o._UZ(5,"path",30),o._UZ(6,"path",31),o._UZ(7,"path",32),o.qZA(),o.qZA(),o.kcU(),o.TgZ(8,"span",33),o._uU(9),o.qZA(),o.qZA(),o.TgZ(10,"div",34),o.NdJ("click",function(){const e=o.CHM(t).$implicit;return o.oxw().likeContent(e)}),o.YNc(11,O,1,0,"img",15),o.YNc(12,T,1,0,"img",16),o.TgZ(13,"span"),o._uU(14),o.qZA(),o.qZA(),o.qZA(),o._UZ(15,"div",35),o.TgZ(16,"div",36),o._uU(17),o.qZA(),o.qZA()}if(2&t){const t=e.$implicit,n=o.oxw();o.xp6(9),o.Oqu(t.userName||t.userId),o.xp6(2),o.Q6J("ngIf",0!=t.step),o.xp6(1),o.Q6J("ngIf",0==t.step),o.xp6(2),o.Oqu(t.praiseCnt),o.xp6(1),o.Q6J("innerHTML",n.getContent(t.content),o.oJD),o.xp6(2),o.Oqu(n.getTime(t.createTime))}}let A=(()=>{class t{constructor(t,e,n,i,o,c){this.listService=t,this.appService=e,this.userService=n,this.utilService=i,this.sanitizer=o,this.modalController=c,this.TAG="CommentComponent",this.viewCont=0,this.likeCont=0,this.commentCont=0}ngOnInit(){}ngOnChanges(t){t.id&&t.id.currentValue&&this.load()}load(){this.loadView(),this.loadLike(),this.loadUserLike(),this.loadCommentCont()}loadView(){return(0,i.mG)(this,void 0,void 0,function*(){const t=yield this.listService.getArticleViewCont({typeId:this.appService.config.aums_vote.article_view,columnIds:this.id}).toPromise();"ok"==t.kind&&(this.viewCont=t.items&&t.items[0].totalCnt||0)})}loadLike(){return(0,i.mG)(this,void 0,void 0,function*(){const t=yield this.listService.getArticleViewCont({typeId:this.appService.config.aums_vote.article_like,columnIds:this.id}).toPromise();"ok"==t.kind&&(this.likeCont=t.items&&t.items[0].totalCnt||0)})}loadUserLike(){return(0,i.mG)(this,void 0,void 0,function*(){const t=this.utilService.getUUID(),e=yield this.listService.getUserLikeCont({typeId:this.appService.config.aums_vote.article_like,columnIds:this.id,userId:t||"pc"}).toPromise();if("ok"==e.kind){const t=e.items.find(t=>t.columnId==parseInt(this.id));this.praised=!!t}})}loadCommentCont(){return(0,i.mG)(this,void 0,void 0,function*(){this.listService.getCommentCont({targetId:this.id,commentTypeId:this.appService.config.aums_comment.articleId,userId:this.userService.getUser(),userTypeId:this.appService.config.ums.userType}).subscribe(t=>{"ok"==t.kind?(0==t.items.length&&(this.empty=!0),this.commentCont=t.items.length,t.items.forEach(t=>(0,i.mG)(this,void 0,void 0,function*(){const e=yield this.listService.loadUserName(t.userId).toPromise();"ok"==e.kind&&(t.userName=e.items.name)})),this.commentList=t.items):this.commentCont=0})})}likeArticle(){this.praised?this.likeCont-=1:this.likeCont+=1,this.praised=!this.praised;const t=this.utilService.getUUID(),e=this.listService.addArticleViewCont({typeId:this.appService.config.aums_vote.article_like,columnId:this.id,userId:t||"pc"}).toPromise();this.utilService.log("debug",this.TAG,"addArticleLikeCont",JSON.stringify(e))}getTime(t){return t.split(" ")[0]}addComment(){this.presentModal()}presentModal(){return(0,i.mG)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:C,cssClass:"comment-modal",componentProps:{id:this.id,comp:this}});return yield t.present()})}likeContent(t){const e=0===t.step?1:0;this.listService.likeComment({commentId:t.id,userId:this.userService.getUser(),userTypeId:this.appService.config.ums.userType,step:e}).subscribe(n=>{"ok"==n.kind&&(t.step=e,t.praised=!t.praised,t.praiseCnt+=0===e?1:-1)})}getContent(t){return this.sanitizer.bypassSecurityTrustHtml(t)||t}reloadcomment(){this.commentList=[],this.empty=!1,this.loadCommentCont()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(r.X),o.Y36(m.z),o.Y36(g.K),o.Y36(s.f),o.Y36(u.H7),o.Y36(c.IN))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-comment"]],inputs:{id:"id"},features:[o.TTD],decls:22,vars:4,consts:[[1,"comment"],[1,"showInfo"],[1,"view"],["src","assets/list/icon_views.png","alt",""],["class","like",3,"click",4,"ngIf"],[1,"comment-content"],[1,"title"],[1,"name"],[1,"line"],[1,"addContent",3,"click"],["src","assets/list/icon_comments.png","alt",""],["class","empty",4,"ngIf"],[1,"list"],["class","comment-item",4,"ngFor","ngForOf"],[1,"like",3,"click"],["src","assets/list/icon_like.png","alt","",4,"ngIf"],["src","assets/list/like-focus.png","alt","",4,"ngIf"],["src","assets/list/icon_like.png","alt",""],["src","assets/list/like-focus.png","alt",""],[1,"empty"],[1,"img"],["t","1627882129323","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","2007","width","100%","height","100%",1,"icon"],["d","M968.347826 519.524174v422.956522c0 15.582609-11.130435 26.713043-26.713043 26.713043H80.13913c-15.582609 0-28.93913-11.130435-28.93913-26.713043v-422.956522h291.617391c6.678261 35.617391 22.26087 71.234783 51.2 97.947826 31.165217 31.165217 73.46087 46.747826 117.982609 46.747826s84.591304-17.808696 117.982609-46.747826c26.713043-26.713043 44.521739-60.104348 51.2-97.947826h287.165217zM658.921739 470.550261c-13.356522 0-22.26087 11.130435-22.260869 24.486956 0 66.782609-55.652174 122.434783-122.434783 122.434783s-122.434783-55.652174-122.434783-122.434783c0-13.356522-11.130435-24.486957-22.260869-24.486956H93.495652l146.921739-133.565218h545.391305l144.695652 133.565218H658.921739z m351.721739 2.226087L814.747826 292.463304c-4.452174-6.678261-13.356522-8.904348-22.260869-8.904347H231.513043c-8.904348 0-17.808696 4.452174-22.260869 8.904347L11.130435 472.776348c-6.678261 6.678261-11.130435 17.808696-11.130435 26.713043v440.765218c0 44.521739 35.617391 80.13913 80.13913 80.13913h861.495653c44.521739 0 80.13913-35.617391 80.13913-80.13913V499.489391c2.226087-8.904348-4.452174-20.034783-11.130435-26.713043zM589.913043 768.845913c2.226087 11.130435 11.130435 15.582609 31.165218 13.356522 33.391304-6.678261 48.973913-2.226087 57.878261-4.452174 8.904348-4.452174 11.130435-17.808696-4.452174-22.26087-15.582609-6.678261-33.391304 2.226087-35.617391-2.226087-2.226087-2.226087 4.452174-8.904348 17.808695-11.130434 15.582609-4.452174 31.165217-4.452174 28.939131-15.582609-4.452174-15.582609-26.713043-17.808696-44.52174-13.356522-22.26087 2.226087-55.652174 28.93913-51.2 55.652174z m-209.252173-57.878261c-15.582609-4.452174-37.843478-2.226087-44.52174 13.356522-2.226087 8.904348 13.356522 11.130435 28.939131 15.582609 11.130435 2.226087 17.808696 8.904348 17.808696 11.130434-2.226087 4.452174-20.034783-4.452174-35.617392 2.226087-15.582609 6.678261-13.356522 20.034783-4.452174 22.26087 8.904348 4.452174 24.486957 0 57.878261 4.452174 17.808696 2.226087 28.93913-2.226087 31.165218-13.356522 4.452174-24.486957-28.93913-51.2-51.2-55.652174z m131.33913 120.208696c-31.165217 0-55.652174 24.486957-55.652174 55.652174 0 6.678261 4.452174 11.130435 11.130435 11.130435s11.130435-4.452174 11.130435-11.130435c0-17.808696 15.582609-33.391304 33.391304-33.391305 20.034783 0 33.391304 15.582609 33.391304 33.391305 0 6.678261 4.452174 11.130435 11.130435 11.130435s11.130435-4.452174 11.130435-11.130435c0-31.165217-24.486957-55.652174-55.652174-55.652174z m-55.652174 57.878261v-2.226087 2.226087z","fill","#BDC3C7","p-id","2008"],["d","M968.347826 519.524174v422.956522c0 15.582609-11.130435 26.713043-26.713043 26.713043H80.13913c-15.582609 0-28.93913-11.130435-28.93913-26.713043v-422.956522h291.617391c6.678261 35.617391 22.26087 71.234783 51.2 97.947826 31.165217 31.165217 73.46087 46.747826 117.982609 46.747826s84.591304-17.808696 117.982609-46.747826c26.713043-26.713043 44.521739-60.104348 51.2-97.947826h287.165217zM658.921739 470.550261c-13.356522 0-22.26087 11.130435-22.260869 24.486956 0 66.782609-55.652174 122.434783-122.434783 122.434783s-122.434783-55.652174-122.434783-122.434783c0-13.356522-11.130435-24.486957-22.260869-24.486956H93.495652l146.921739-133.565218h545.391305l144.695652 133.565218H658.921739z m351.721739 2.226087L814.747826 292.463304c-4.452174-6.678261-13.356522-8.904348-22.260869-8.904347H231.513043c-8.904348 0-17.808696 4.452174-22.260869 8.904347L11.130435 472.776348c-6.678261 6.678261-11.130435 17.808696-11.130435 26.713043v440.765218c0 44.521739 35.617391 80.13913 80.13913 80.13913h861.495653c44.521739 0 80.13913-35.617391 80.13913-80.13913V499.489391c2.226087-8.904348-4.452174-20.034783-11.130435-26.713043zM589.913043 768.845913c2.226087 11.130435 11.130435 15.582609 31.165218 13.356522 33.391304-6.678261 48.973913-2.226087 57.878261-4.452174 8.904348-4.452174 11.130435-17.808696-4.452174-22.26087-15.582609-6.678261-33.391304 2.226087-35.617391-2.226087-2.226087-2.226087 4.452174-8.904348 17.808695-11.130434 15.582609-4.452174 31.165217-4.452174 28.939131-15.582609-4.452174-15.582609-26.713043-17.808696-44.52174-13.356522-22.26087 2.226087-55.652174 28.93913-51.2 55.652174z m-209.252173-57.878261c-15.582609-4.452174-37.843478-2.226087-44.52174 13.356522-2.226087 8.904348 13.356522 11.130435 28.939131 15.582609 11.130435 2.226087 17.808696 8.904348 17.808696 11.130434-2.226087 4.452174-20.034783-4.452174-35.617392 2.226087-15.582609 6.678261-13.356522 20.034783-4.452174 22.26087 8.904348 4.452174 24.486957 0 57.878261 4.452174 17.808696 2.226087 28.93913-2.226087 31.165218-13.356522 4.452174-24.486957-28.93913-51.2-51.2-55.652174z m131.33913 120.208696c-31.165217 0-55.652174 24.486957-55.652174 55.652174 0 6.678261 4.452174 11.130435 11.130435 11.130435s11.130435-4.452174 11.130435-11.130435c0-17.808696 15.582609-33.391304 33.391304-33.391305 20.034783 0 33.391304 15.582609 33.391304 33.391305 0 6.678261 4.452174 11.130435 11.130435 11.130435s11.130435-4.452174 11.130435-11.130435c0-31.165217-24.486957-55.652174-55.652174-55.652174z m-55.652174 57.878261v-2.226087 2.226087z","fill","#BDC3C7","p-id","2009"],["d","M727.930435 193.669565c-4.452174-4.452174-6.678261-11.130435-6.678261-15.582608 0-6.678261 2.226087-13.356522 6.678261-17.808696l84.591304-86.817391c8.904348-8.904348 24.486957-8.904348 33.391304 0 8.904348 8.904348 8.904348 24.486957 0 33.391304l-84.591304 86.817391c-4.452174 4.452174-8.904348 6.678261-15.582609 6.678261-6.678261 0-13.356522-2.226087-17.808695-6.678261M496.417391 162.504348c-4.452174-4.452174-6.678261-11.130435-6.678261-17.808696l-2.226087-120.208695c0-13.356522 11.130435-24.486957 22.26087-24.486957 13.356522 0 24.486957 8.904348 24.486957 22.26087l2.226087 120.208695c0 8.904348-4.452174 17.808696-13.356522 22.26087-8.904348 4.452174-17.808696 2.226087-26.713044-2.226087m-244.869565 35.617391l-89.043478-82.365217c-8.904348-8.904348-8.904348-24.486957 0-33.391305 8.904348-8.904348 24.486957-8.904348 33.391304 0l89.043478 82.365218c8.904348 8.904348 8.904348 24.486957 0 33.391304-8.904348 8.904348-24.486957 8.904348-33.391304 0","fill","#BDC3C7","p-id","2010"],[1,"message1"],[1,"comment-item"],[1,"user-info"],[1,"user"],["t","1628489781784","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","2821","width","100%","height","100%",1,"icon"],["d","M512 561.152c-153.088 0-277.504-124.416-277.504-277.504 0-153.088 124.416-277.504 277.504-277.504s277.504 124.416 277.504 277.504c0 153.088-124.416 277.504-277.504 277.504z m0-478.72c-111.104 0-201.216 90.112-201.216 201.216 0 111.104 90.112 201.216 201.216 201.216s201.216-90.112 201.216-201.216c0-111.104-90.112-201.216-201.216-201.216z","fill","#515151","p-id","2822"],["d","M969.216 1012.736c-20.992 0-38.4-11.264-38.4-32.256 0-230.912-187.904-418.816-418.816-418.816s-418.816 187.904-418.816 418.816c0 20.992-16.896 32.256-38.4 32.256s-38.4-11.264-38.4-32.256c0-272.896 222.208-495.104 495.104-495.104s495.104 222.208 495.104 495.104c0.512 20.992-16.384 32.256-37.376 32.256z","fill","#515151","p-id","2823"],["d","M977.92 1013.248H45.568c-15.872 0-29.184-13.312-29.184-29.184v-7.68c0-15.872 13.312-29.184 29.184-29.184h931.84c15.872 0 29.184 13.312 29.184 29.184v7.68c0.512 15.872-12.8 29.184-28.672 29.184z","fill","#515151","p-id","2824"],[1,"userName"],[1,"praiseCnt",3,"click"],[1,"content",3,"innerHTML"],[1,"time"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o._UZ(3,"img",3),o.TgZ(4,"span"),o._uU(5,"\u9605\u8bfb"),o.qZA(),o.TgZ(6,"span"),o._uU(7),o.qZA(),o.qZA(),o.YNc(8,v,7,3,"div",4),o.qZA(),o.TgZ(9,"div",5),o.TgZ(10,"div",6),o.TgZ(11,"div",7),o._UZ(12,"span",8),o.TgZ(13,"span"),o._uU(14,"\u8bc4\u8bba\u4fe1\u606f:"),o.qZA(),o.qZA(),o.TgZ(15,"div",9),o.NdJ("click",function(){return e.addComment()}),o._UZ(16,"img",10),o.TgZ(17,"span"),o._uU(18,"\u6dfb\u52a0\u8bc4\u8bba"),o.qZA(),o.qZA(),o.qZA(),o.YNc(19,f,8,0,"div",11),o.TgZ(20,"div",12),o.YNc(21,M,18,6,"div",13),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(7),o.Oqu(e.viewCont),o.xp6(1),o.Q6J("ngIf",!1),o.xp6(11),o.Q6J("ngIf",e.empty),o.xp6(2),o.Q6J("ngForOf",e.commentList))},directives:[h.O5,h.sg],styles:[".comment[_ngcontent-%COMP%]{border-top:1px solid #e9e9e9}.comment[_ngcontent-%COMP%]   .showInfo[_ngcontent-%COMP%]{display:flex;justify-content:space-around;padding:1rem}.comment[_ngcontent-%COMP%]   .showInfo[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.comment[_ngcontent-%COMP%]   .showInfo[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:2rem}.comment[_ngcontent-%COMP%]   .showInfo[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 .5rem}.comment-content[_ngcontent-%COMP%]{border-top:1px solid #e9e9e9}.comment-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 1rem}.comment-content[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{height:4rem;line-height:4rem;display:flex;align-items:center}.comment-content[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{display:inline-block;width:.4rem;height:1.8rem;background-color:#0f8eef;border-radius:3px;margin:0 .5rem 0 1rem}.comment-content[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.3rem}.comment-content[_ngcontent-%COMP%]   .addContent[_ngcontent-%COMP%]{font-size:1.3rem;padding:1rem;display:flex;align-items:center}.comment-content[_ngcontent-%COMP%]   .addContent[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem}.comment-content[_ngcontent-%COMP%]   .addContent[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:1rem}.comment-content[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;width:100%;height:10rem}.comment-content[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;height:5rem;display:inline-block}.comment-content[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]   .message1[_ngcontent-%COMP%]{text-align:center;line-height:4rem;font-size:1.2rem;color:#bdc3c7}.comment-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{padding:1rem 2rem;background-color:#f4f4f4}.comment-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-top:1px solid #e9e9e9;padding:1rem 0}.comment-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]:first-child{border-top:none}.comment-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{justify-content:space-between}.comment-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .comment-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;align-items:center;line-height:3rem}.comment-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{display:inline-block;width:2rem;height:2rem;margin-right:1rem}.comment-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .userName[_ngcontent-%COMP%]{font-size:1.4rem}.comment-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .praiseCnt[_ngcontent-%COMP%]{display:flex;align-items:center}.comment-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .praiseCnt[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2.5rem}.comment-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .praiseCnt[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.5rem}.comment-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{line-height:2;text-align:justify;font-size:1.4rem;margin:1rem 0}.comment-content[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#b3b3b3}"]}),t})()},3646:(t,e,n)=>{"use strict";n.d(e,{G:()=>s});var i=n(639),o=n(8583),c=n(7823);let s=(()=>{class t{constructor(t,e){this.location=t,this.navController=e}ngOnInit(){}back(){this.navController.pop()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(o.Ye),i.Y36(c.SH))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-header"]],inputs:{title:"title"},decls:7,vars:1,consts:[[1,"header"],[1,"header-nav"],[1,"left",3,"click"],["t","1628131979649","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","2138","width","100%","height","100%",1,"icon"],["d","M254.409068 506.453065C246.433839 490.453407 249.196993 470.606109 262.516391 457.286712L684.842246 34.960856C701.623969 18.179133 728.545954 18.27219 745.208322 34.934558 761.98686 51.713096 761.858918 78.623741 745.182024 95.300635L334.036798 506.445862 745.182024 917.591089C761.963748 934.372812 761.870694 961.294794 745.208322 977.957165 728.429785 994.735703 701.51914 994.607761 684.842246 977.930867L262.516391 555.605012C249.13269 542.221311 246.481899 522.388074 254.409068 506.453065Z","p-id","2139","fill","#fff"],[1,"title"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"span",2),i.NdJ("click",function(){return e.back()}),i.O4$(),i.TgZ(3,"svg",3),i._UZ(4,"path",4),i.qZA(),i.qZA(),i.kcU(),i.TgZ(5,"span",5),i._uU(6),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(6),i.Oqu(e.title))},styles:[".header-nav[_ngcontent-%COMP%]{background-color:#0f8eef;height:5rem}.header-nav[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;font-size:1.8rem;height:100%}.header-nav[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{position:absolute;width:2.5rem;height:2.5rem;display:inline-block;top:1.25rem;left:1rem}.header-nav[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}"]}),t})()},2478:(t,e,n)=>{"use strict";n.d(e,{X:()=>d});var i=n(7574);function o(t,e){return new i.y(e?n=>e.schedule(c,0,{error:t,subscriber:n}):e=>e.error(t))}function c({error:t,subscriber:e}){e.error(t)}var s=n(8002),r=n(5304),m=n(639),g=n(378);let d=(()=>{class t{constructor(t){this.aumsApiService=t}getArticleViewCont(t){return this.aumsApiService.getArticleviewCont(t).pipe((0,s.U)(t=>t),(0,r.K)(t=>o({status:"error",message:t})))}addArticleViewCont(t){return this.aumsApiService.addArticleViewCont(t).pipe((0,s.U)(t=>t),(0,r.K)(t=>o({status:"error",message:t})))}getUserLikeCont(t){return this.aumsApiService.getUserLikeCont(t).pipe((0,s.U)(t=>t),(0,r.K)(t=>o({status:"error",message:t})))}getCommentCont(t){return this.aumsApiService.getCommentData(t)}loadUserName(t){return this.aumsApiService.getUmsUserInfo({userId:t}).pipe((0,s.U)(t=>t),(0,r.K)(t=>o({status:"error",message:t})))}likeComment(t){return this.aumsApiService.addCommentPraise(t)}addComment(t){return this.aumsApiService.addComment(t)}}return t.\u0275fac=function(e){return new(e||t)(m.LFG(g.j))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},6573:(t,e,n)=>{"use strict";n.d(e,{U:()=>c});var i=n(639),o=n(3888);let c=(()=>{class t{constructor(t){this.logger=t}startActivity(...e){let n=null;const i=e,o=i.shift();let c;this.logger.debug(`${t.TAG} startActivity() \u8c03\u7528\u539f\u751f\u6269\u5c55js\u65b9\u6cd5${o}`),this.logger.debug(`${t.TAG} startActivity() \u4f20\u53c2: ${JSON.stringify(i)}`);try{c="watchLive"===o||"hostEnterLive"===o?"ELive":"cloudVideo",n=i.length?"Android"===this.judgeClient()?window[c][o](...i):window.prompt(JSON.stringify({method:o,params:i})):"Android"===this.judgeClient()?window[c][o]():window.prompt(JSON.stringify({method:o}))}catch(s){this.logger.error(`${t.TAG} startActivity() error: ${s.message}`)}return this.logger.debug(`${t.TAG} startActivity() ${o}() return value: ${n}`),n}judgeClient(){let t=navigator.userAgent,e=t.indexOf("Android")>-1||t.indexOf("Adr")>-1,n=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return e?"Android":n?"IOS":"PC"}}return t.TAG="NativeJsExtendService",t.ACTIVITY_AIJIA="gotoFimaly",t.ACTIVITY_SHARE="toShare",t.ACTIVITY_UMSHARE="gotoUMShare",t.ACTIVITY_SCAN_QR="gotoScanAct",t.ACTIVITY_GET_USERID="getUserId",t.ACTIVITY_WATCH_LIVE="watchLive",t.ACTIVITY_HOST_ENTER_LIVE="hostEnterLive",t.ACTIVITY_GET_AUMSUSER="getAumsUser",t.ACTIVITY_SET_AUMSUSER="setAumsUser",t.ACTIVITY_CLOSE_ACT="closeAct",t.ACTIVITY_CALL_PHONE="callPhone",t.ACTIVITY_KANJIABAO="gotoHouse",t.ACTIVITY_TO_SECOND="gotoSecWebAct",t.ACTIVITY_SET_AREAID="setAreaId",t.ACTIVITY_GOTO_FAMILY="gotoFimaly",t.ACTIVITY_START_MEETING="StartMeetingActivity",t.ACTIVITY_SEC_ACT="gotoSecWebAct",t.ACTIVITY_SHOW_TAB="showTab",t.ACTIVITY_HIDE_TAB="hideTab",t.ACTIVITY_SHORT_VIDEO_RECORD="startShortVideoRecordActivity",t.ACTIVITY_GO_TO_PLAY_VIDEO="gotoPlayVideo",t.ACTIVITY_GOTO_WX_LAUNCH_MINI_PROGRAM="gotoWXLaunchMiniProgram",t.ACTIVITY_PLAY_MONITOR="gotoVideoPlaybAct",t.ACTIVITY_STORAGE_SETTER="setString",t.ACTIVITY_STORAGE_GETTER="getString",t.ACTIVITY_GO_TO_LOGIN="gotoLoginAct",t.ACTIVITY_GET_LONGITUDE="getLongitude",t.ACTIVITY_GET_LATITUDE="getLatitude",t.ACTIVITY_GET_USERNAME="getUserName",t.ACTIVITY_UPLOAD_IMAGES_VIEW="gotoSelect9PhotoActivity",t.\u0275fac=function(e){return new(e||t)(i.LFG(o.Yd))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},9709:(t,e,n)=>{"use strict";n.d(e,{K:()=>m});var i=n(6573),o=n(2340),c=n(639),s=n(8138),r=n(8685);let m=(()=>{class t{constructor(t,e,n){this.utilService=t,this.appService=e,this.nativeJsExtendService=n,this.TAG="UmsUserProvider",this.mock=!o.N.production}getUser(){let t;return this.utilService.log("debug",this.TAG,"getUserId",`mock: ${this.mock}`),this.mock?(t=this.appService.config.ums.userId,this.utilService.log("debug",this.TAG,"getUserId",`dummyUmsUser: ${t}`)):(t=this.nativeJsExtendService.startActivity(i.U.ACTIVITY_GET_USERID),t||(t=this.appService.config.ums.userId),this.utilService.log("debug",this.TAG,"getUserId",`get ums user id from native storage: ${t}`)),t}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(s.f),c.LFG(r.z),c.LFG(i.U))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);